Fichier HTML : a2-activite4-mesures-sommeil.html

Images : eviter-excitants.jpg, eviter-ecrans.jpg, eviter-repas-copieux.jpg, eviter-casque-audio.jpg, eviter-sieste.jpg, prendre-bain.jpg, regler-temperature-19c.jpg, activite-physique-journee.jpg, bonne-literie.jpg, se-coucher-heure-reguliere.jpg

<!doctype html>
<html lang=fr>
<head>
  <meta charset=utf-8>
  <meta name=viewport content=width=device-width,initial-scale=1>
  <title>Module A2 • Activité 4 • Mesures pour un sommeil récupérateur</title>
  <style>
    :root{
      --bg:#0b1220;
      --card:#101a2f;
      --text:#f2f5ff;
      --muted:#c7d2fe;
      --line:rgba(255,255,255,.14);
      --ok:#22c55e;
      --no:#ef4444;
      --accent:#60a5fa;
      --focus:#fbbf24;

      --scale:1;
      --spacing:0;
      --lineh:1.4;
      --font: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      --imgzoom:1;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--font);
      background:linear-gradient(180deg,#081026 0%, #0b1220 55%, #081026 100%);
      color:var(--text);
      line-height:var(--lineh);
      font-size:calc(18px * var(--scale));
      letter-spacing:calc(0px + var(--spacing));
    }
    .skip{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
    .skip:focus{
      left:12px;top:12px;width:auto;height:auto;z-index:1000;
      background:var(--focus);color:#111827;padding:10px 12px;border-radius:12px;
      border:0;outline:4px solid rgba(251,191,36,.35)
    }

    header{padding:18px 16px 12px;max-width:1100px;margin:0 auto}
    .badgeRow{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-bottom:10px}
    .badge{
      display:inline-flex;align-items:center;gap:8px;
      background:rgba(96,165,250,.14);
      border:1px solid rgba(96,165,250,.35);
      padding:8px 12px;border-radius:999px;
      font-weight:900
    }
    .badge small{font-weight:800;color:var(--muted)}
    h1{margin:8px 0;font-size:calc(32px * var(--scale));letter-spacing:.2px}
    .objective{
      background:rgba(255,255,255,.06);
      border:1px solid var(--line);
      padding:12px 14px;border-radius:16px;
      color:var(--muted);
      max-width:1100px;margin:0 auto
    }

    main{max-width:1100px;margin:0 auto;padding:14px 16px 28px}
    .sectionTitle{margin:18px 0 10px;font-size:calc(24px * var(--scale));font-weight:900}
    .card{
      background:rgba(16,26,47,.92);
      border:1px solid var(--line);
      border-radius:18px;
      padding:14px;
      box-shadow:0 10px 30px rgba(0,0,0,.28);
      margin:10px 0 14px
    }

    /* A11Y */
    .a11yBar{max-width:1100px;margin:12px auto 0;padding:0 16px}
    .a11yCard{
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.14);
      border-radius:18px;padding:12px;display:grid;gap:12px
    }
    .a11yRow{display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between}
    .a11yTitle{font-weight:900;font-size:calc(18px * var(--scale))}
    .a11yControls{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
    .toggle{
      display:inline-flex;gap:10px;align-items:center;
      padding:10px 12px;border-radius:14px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.04)
    }
    .toggle input{width:calc(22px * var(--scale));height:calc(22px * var(--scale));accent-color:var(--accent)}
    .toggle span{font-weight:900;font-size:calc(16px * var(--scale))}
    .sliderBox{
      display:flex;flex-direction:column;gap:6px;
      padding:10px 12px;border-radius:14px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.04);
      min-width:260px
    }
    .sliderBox label{font-weight:900;font-size:calc(16px * var(--scale))}
    .sliderLine{display:flex;gap:10px;align-items:center;justify-content:space-between}
    input[type=range]{width:100%;accent-color:var(--accent)}
    .val{min-width:74px;text-align:right;font-weight:900;color:var(--muted);font-size:calc(16px * var(--scale))}
    .smallHint{color:var(--muted);font-size:calc(15px * var(--scale))}
    body.dys{--font: Verdana, Arial, system-ui, sans-serif;--spacing:.6px;--lineh:1.65}

    /* Score */
    .scoreBar{max-width:1100px;margin:0 auto;padding:0 16px}
    .scoreCard{
      display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.14);
      border-radius:18px;padding:12px
    }
    .scoreLeft{display:flex;gap:10px;align-items:center;flex-wrap:wrap;font-weight:900}
    .scoreNum{
      background:rgba(34,197,94,.12);
      border:1px solid rgba(34,197,94,.35);
      padding:6px 10px;border-radius:999px
    }
    .scoreHint{color:var(--muted);font-weight:800}

    /* Grid images */
    .cols{
      display:grid;
      grid-template-columns:1fr;
      gap:14px;
    }
    @media (min-width:920px){
      .cols{grid-template-columns:1fr 1fr}
    }
    .boxTitle{
      display:flex;gap:10px;align-items:center;flex-wrap:wrap;
      font-weight:900;
      font-size:calc(20px * var(--scale));
      margin:0 0 6px 0;
    }
    .tag{
      font-size:calc(14px * var(--scale));
      font-weight:900;
      padding:6px 10px;border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.06);
      color:var(--muted);
    }

    .imgGrid{
      display:grid;
      grid-template-columns:1fr;
      gap:12px;
    }
    @media (min-width:620px){
      .imgGrid{grid-template-columns:1fr 1fr}
    }
    @media (min-width:980px){
      .imgGrid{grid-template-columns:1fr 1fr 1fr}
    }

    .tile{
      background:rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.14);
      border-radius:16px;
      padding:12px;
      display:flex;
      flex-direction:column;
      gap:10px;
      min-height:100%;
    }
    .imgWrap{
      width:100%;
      border-radius:14px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.16);
      background:#0b1220;
      image-rendering: pixelated;
    }
    .imgWrap img{
      width:100%;
      height:auto;
      display:block;
      transform-origin:center;
      transform:scale(var(--imgzoom));
    }

    .qTitle{
      margin:0;
      font-weight:900;
      font-size:calc(16px * var(--scale));
    }
    select{
      width:100%;
      font-size:calc(18px * var(--scale));
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.18);
      background:#0b1220;
      color:var(--text);
    }
    select:focus{outline:4px solid rgba(251,191,36,.35);border-color:rgba(251,191,36,.45)}

    .group{
      background:rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.14);
      border-radius:16px;
      padding:12px;
      position:relative;
      margin-top:12px;
    }
    .groupHead{
      display:flex;gap:10px;align-items:flex-start;justify-content:space-between;
      margin-bottom:10px;
    }
    .groupHead h3{margin:0;font-weight:900;font-size:calc(18px * var(--scale))}
    .mark{
      min-width:40px;
      display:flex;
      justify-content:flex-end;
      font-size:calc(20px * var(--scale));
      font-weight:900;
    }
    .group.ok{border-color:rgba(34,197,94,.55)}
    .group.no{border-color:rgba(239,68,68,.55)}
    .group.ok .mark{color:var(--ok)}
    .group.no .mark{color:var(--no)}

    .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;align-items:center}
    button{
      font-size:calc(18px * var(--scale));
      padding:12px 14px;border-radius:14px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(96,165,250,.16);
      color:var(--text);cursor:pointer;font-weight:900
    }
    button.secondary{background:rgba(255,255,255,.06)}
    button:focus{outline:4px solid rgba(251,191,36,.35);border-color:rgba(251,191,36,.45)}

    .feedback{
      margin-top:12px;
      padding:12px;border-radius:16px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.04)
    }
    .feedback.ok{border-color:rgba(34,197,94,.55)}
    .feedback.no{border-color:rgba(239,68,68,.55)}

    details summary{cursor:pointer;font-weight:900;color:var(--text);outline:none}
    details summary:focus{outline:4px solid rgba(251,191,36,.35);border-radius:12px}
    .hint{margin-top:10px;color:var(--muted)}
  </style>
</head>

<body>
  <a class=skip href=#contenu>Aller au contenu</a>

  <header>
    <div class=badgeRow>
      <div class=badge>Module A2</div>
      <div class=badge>Compétences <small>• C1 et C2</small></div>
      <div class=badge>Activité 4</div>
    </div>
    <h1>Les mesures pour un sommeil récupérateur</h1>
    <div class=objective>
      <strong>Objectif</strong><br>
      À l aide des images, reconnaître ce qu il faut éviter et ce qui est conseillé pour mieux dormir.
    </div>
  </header>

  <div class=a11yBar aria-label=Options daccessibilité>
    <div class=a11yCard>
      <div class=a11yRow>
        <div class=a11yTitle>Options pour mieux lire</div>
        <div class=a11yControls>
          <label class=toggle>
            <input id=toggleDys type=checkbox>
            <span>Mode dys</span>
          </label>

          <div class=sliderBox>
            <label for=fontScale>Taille du texte</label>
            <div class=sliderLine>
              <input id=fontScale type=range min=100 max=170 value=100 step=5>
              <div class=val id=fontScaleVal>100%</div>
            </div>
            <div class=smallHint>Augmente si tu vois mal</div>
          </div>

          <div class=sliderBox>
            <label for=imgZoom>Zoom images</label>
            <div class=sliderLine>
              <input id=imgZoom type=range min=100 max=220 value=100 step=10>
              <div class=val id=imgZoomVal>100%</div>
            </div>
            <div class=smallHint>Pour agrandir les images</div>
          </div>

          <button type=button class=secondary id=btnResetA11y>Réinitialiser</button>
        </div>
      </div>
    </div>
  </div>

  <div class=scoreBar>
    <div class=scoreCard aria-label=Score>
      <div class=scoreLeft>
        <div class=scoreNum id=scoreText>Score 0 sur 10</div>
        <div class=scoreHint>Le score augmente quand une image est bien classée</div>
      </div>
      <div class=actions style=margin:0>
        <button type=button class=secondary id=btnResetAll>Tout réinitialiser</button>
      </div>
    </div>
  </div>

  <main id=contenu>
    <h2 class=sectionTitle>Consigne</h2>
    <section class=card aria-label=Consigne>
      <div>
        Pour chaque image, choisis la bonne catégorie :
        <strong>À éviter</strong> ou <strong>Conseillé</strong>.
      </div>
      <div class=group style="margin-top:12px">
        <div class=groupHead>
          <h3>Astuce</h3>
          <div class=mark aria-hidden=true></div>
        </div>
        <details>
          <summary>Aide</summary>
          <div class=hint>
            À éviter = ça empêche de dormir ou ça dérègle le sommeil.<br>
            Conseillé = ça aide à dormir ou ça aide le corps à récupérer.
          </div>
        </details>
      </div>
    </section>

    <h2 class=sectionTitle>Classement des images</h2>
    <section class=card aria-label=Exercice>
      <div class=imgGrid>

        <div class=tile data-item=1>
          <div class=imgWrap>
            <img src=eviter-excitants.jpg alt="Verre de boisson caféinée, verre d’eau et cendrier avec cigarette, pour rappeler d’éviter les excitants.">
          </div>
          <p class=qTitle>Image 1</p>
          <select id=s1 aria-label="Image 1 choisir une catégorie">
            <option value=>Je choisis</option>
            <option value=avoid>À éviter</option>
            <option value=good>Conseillé</option>
          </select>
        </div>

        <div class=tile data-item=2>
          <div class=imgWrap>
            <img src=eviter-ecrans.jpg alt="Main utilisant un smartphone, pour rappeler d’éviter les écrans avant de dormir.">
          </div>
          <p class=qTitle>Image 2</p>
          <select id=s2 aria-label="Image 2 choisir une catégorie">
            <option value=>Je choisis</option>
            <option value=avoid>À éviter</option>
            <option value=good>Conseillé</option>
          </select>
        </div>

        <div class=tile data-item=3>
          <div class=imgWrap>
            <img src=eviter-repas-copieux.jpg alt="Plat avec burger et frites, pour rappeler d’éviter les repas copieux avant de dormir.">
          </div>
          <p class=qTitle>Image 3</p>
          <select id=s3 aria-label="Image 3 choisir une catégorie">
            <option value=>Je choisis</option>
            <option value=avoid>À éviter</option>
            <option value=good>Conseillé</option>
          </select>
        </div>

        <div class=tile data-item=4>
          <div class=imgWrap>
            <img src=eviter-casque-audio.jpg alt="Jeune allongé dans son lit avec un casque audio, pour rappeler d’éviter le casque audio avant de dormir.">
          </div>
          <p class=qTitle>Image 4</p>
          <select id=s4 aria-label="Image 4 choisir une catégorie">
            <option value=>Je choisis</option>
            <option value=avoid>À éviter</option>
            <option value=good>Conseillé</option>
          </select>
        </div>

        <div class=tile data-item=5>
          <div class=imgWrap>
            <img src=eviter-sieste.jpg alt="Personne allongée et endormie sur un canapé, pour rappeler d’éviter les siestes longues.">
          </div>
          <p class=qTitle>Image 5</p>
          <select id=s5 aria-label="Image 5 choisir une catégorie">
            <option value=>Je choisis</option>
            <option value=avoid>À éviter</option>
            <option value=good>Conseillé</option>
          </select>
        </div>

        <div class=tile data-item=6>
          <div class=imgWrap>
            <img src=prendre-bain.jpg alt="Baignoire dans une salle de bain, pour rappeler qu’un bain peut aider à se détendre avant de dormir.">
          </div>
          <p class=qTitle>Image 6</p>
          <select id=s6 aria-label="Image 6 choisir une catégorie">
            <option value=>Je choisis</option>
            <option value=avoid>À éviter</option>
            <option value=good>Conseillé</option>
          </select>
        </div>

        <div class=tile data-item=7>
          <div class=imgWrap>
            <img src=regler-temperature-19c.jpg alt="Thermostat réglé autour de 19 degrés, pour rappeler de régler la chambre à environ 19 °C.">
          </div>
          <p class=qTitle>Image 7</p>
          <select id=s7 aria-label="Image 7 choisir une catégorie">
            <option value=>Je choisis</option>
            <option value=avoid>À éviter</option>
            <option value=good>Conseillé</option>
          </select>
        </div>

        <div class=tile data-item=8>
          <div class=imgWrap>
            <img src=activite-physique-journee.jpg alt="Deux personnes qui courent dehors, pour rappeler de pratiquer une activité physique dans la journée.">
          </div>
          <p class=qTitle>Image 8</p>
          <select id=s8 aria-label="Image 8 choisir une catégorie">
            <option value=>Je choisis</option>
            <option value=avoid>À éviter</option>
            <option value=good>Conseillé</option>
          </select>
        </div>

        <div class=tile data-item=9>
          <div class=imgWrap>
            <img src=bonne-literie.jpg alt="Personne portant un matelas, pour rappeler de choisir une bonne literie.">
          </div>
          <p class=qTitle>Image 9</p>
          <select id=s9 aria-label="Image 9 choisir une catégorie">
            <option value=>Je choisis</option>
            <option value=avoid>À éviter</option>
            <option value=good>Conseillé</option>
          </select>
        </div>

        <div class=tile data-item=10>
          <div class=imgWrap>
            <img src=se-coucher-heure-reguliere.jpg alt="Réveil affichant 8h57 sur plusieurs jours, pour rappeler de se coucher et se lever à heures régulières.">
          </div>
          <p class=qTitle>Image 10</p>
          <select id=s10 aria-label="Image 10 choisir une catégorie">
            <option value=>Je choisis</option>
            <option value=avoid>À éviter</option>
            <option value=good>Conseillé</option>
          </select>
        </div>

      </div>

      <div class=actions style="margin-top:16px">
        <button type=button id=btnCheck>Vérifier</button>
        <button type=button class=secondary id=btnClear>Effacer mes choix</button>
      </div>

      <div id=fb class=feedback aria-live=polite>Choisis puis clique sur Vérifier.</div>
    </section>
  </main>

  <script>
    (function(){
      var root=document.documentElement;
      var body=document.body;

      var total=10;
      var scoreKey='a2_act4_score_v1';
      var scoredKey='a2_act4_scored_v1';

      var correct = {
        1:'avoid',
        2:'avoid',
        3:'avoid',
        4:'avoid',
        5:'avoid',
        6:'good',
        7:'good',
        8:'good',
        9:'good',
        10:'good'
      };

      function getScore(){
        var v=parseInt(localStorage.getItem(scoreKey)||'0',10);
        if(isNaN(v)) v=0;
        return v;
      }
      function setScore(v){
        localStorage.setItem(scoreKey,String(v));
        updateScoreUI();
      }
      function getScored(){
        try{ return JSON.parse(localStorage.getItem(scoredKey)||'{}') || {}; }
        catch(e){ return {}; }
      }
      function setScored(obj){
        localStorage.setItem(scoredKey, JSON.stringify(obj));
      }
      function updateScoreUI(){
        document.getElementById('scoreText').textContent='Score '+getScore()+' sur '+total;
      }

      function markTile(n, state){
        var tile=document.querySelector('.tile[data-item="'+n+'"]');
        if(!tile) return;
        tile.classList.remove('ok'); tile.classList.remove('no');
        if(state===null) return;
        tile.classList.add(state ? 'ok' : 'no');
      }

      function check(){
        var any=false;
        var okNow=0;
        var answered=0;

        var scored=getScored();

        for(var i=1;i<=total;i++){
          var sel=document.getElementById('s'+i).value;
          if(!sel){
            markTile(i,null);
            continue;
          }
          any=true;
          answered++;
          var ok=(sel===correct[i]);
          if(ok) okNow++;
          markTile(i, ok);

          if(ok && scored[i]!==1){
            scored[i]=1;
            setScore(getScore()+1);
          }
        }

        setScored(scored);

        var fb=document.getElementById('fb');
        fb.classList.remove('ok'); fb.classList.remove('no');

        if(!any){
          fb.textContent='Choisis puis clique sur Vérifier.';
          return;
        }

        if(answered<total){
          fb.classList.add('no');
          fb.textContent='Tu as répondu à '+answered+' image(s). Tu as '+okNow+' bonne(s) réponse(s).';
          return;
        }

        if(okNow===total){
          fb.classList.add('ok');
          fb.textContent='Bravo. Tout est correct.';
        }else{
          fb.classList.add('no');
          fb.textContent='Il reste des erreurs. Corrige les images en rouge puis revérifie.';
        }
      }

      function clear(){
        for(var i=1;i<=total;i++){
          document.getElementById('s'+i).value='';
          markTile(i,null);
        }
        var fb=document.getElementById('fb');
        fb.classList.remove('ok'); fb.classList.remove('no');
        fb.textContent='Choisis puis clique sur Vérifier.';
      }

      function resetAll(){
        localStorage.setItem(scoreKey,'0');
        localStorage.setItem(scoredKey,'{}');
        updateScoreUI();
        clear();
      }

      document.getElementById('btnCheck').addEventListener('click', check);
      document.getElementById('btnClear').addEventListener('click', clear);
      document.getElementById('btnResetAll').addEventListener('click', resetAll);

      /* A11Y */
      var toggleDys=document.getElementById('toggleDys');
      var fontScale=document.getElementById('fontScale');
      var fontScaleVal=document.getElementById('fontScaleVal');
      var imgZoom=document.getElementById('imgZoom');
      var imgZoomVal=document.getElementById('imgZoomVal');
      var btnResetA11y=document.getElementById('btnResetA11y');

      function applyA11y(){
        var s=parseInt(fontScale.value,10)/100;
        root.style.setProperty('--scale',String(s));
        fontScaleVal.textContent=fontScale.value+'%';

        var z=parseInt(imgZoom.value,10)/100;
        root.style.setProperty('--imgzoom',String(z));
        imgZoomVal.textContent=imgZoom.value+'%';

        if(toggleDys.checked){ body.classList.add('dys'); }
        else{ body.classList.remove('dys'); }

        localStorage.setItem('a2_sleep_dys', toggleDys.checked ? '1' : '0');
        localStorage.setItem('a2_sleep_scale', fontScale.value);
        localStorage.setItem('a2_sleep_imgzoom', imgZoom.value);
      }

      function loadA11y(){
        var dys=localStorage.getItem('a2_sleep_dys');
        var scale=localStorage.getItem('a2_sleep_scale');
        var zoom=localStorage.getItem('a2_sleep_imgzoom');

        toggleDys.checked=(dys==='1');
        if(scale) fontScale.value=scale;
        if(zoom) imgZoom.value=zoom;

        applyA11y();
      }

      btnResetA11y.addEventListener('click',function(){
        toggleDys.checked=false;
        fontScale.value=100;
        imgZoom.value=100;
        applyA11y();
      });

      toggleDys.addEventListener('change',applyA11y);
      fontScale.addEventListener('input',applyA11y);
      imgZoom.addEventListener('input',applyA11y);

      updateScoreUI();
      loadA11y();
    })();
  </script>
</body>
</html>
