<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C.12 - Analyse des discriminations au travail - Terminale Bac Pro</title>
    <style>
        :root {
            --primary-pse: #2E86AB;
            --secondary-pse: #A23B72;
            --success-pse: #219653;
            --warning-pse: #F2994A;
            --danger-pse: #EB5757;
            --dark-pse: #2F3542;
            --light-pse: #F1F2F6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--light-pse) 0%, #e3e7f0 100%);
            min-height: 100vh;
            font-size: 16px;
            line-height: 1.6;
        }

        .exercice-container {
            width: 100%;
            max-width: 100vw;
            padding: 15px;
            font-size: 16px;
        }

        @media (min-width: 768px) {
            .exercice-container {
                padding: 20px;
                font-size: 17px;
            }
        }

        @media (min-width: 1024px) {
            .exercice-container {
                max-width: 900px;
                margin: 0 auto;
                padding: 30px;
                font-size: 18px;
            }
        }

        /* En-t√™te p√©dagogique obligatoire */
        .cadre-pedagogique {
            background: white;
            border-left: 8px solid var(--primary-pse);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(46, 134, 171, 0.15);
        }

        .module-info h2 {
            color: var(--primary-pse);
            font-size: 1.8em;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .objectif {
            background: #f8f9ff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid var(--warning-pse);
        }

        .competences-travaillees h3 {
            color: var(--dark-pse);
            margin-bottom: 12px;
            font-size: 1.2em;
        }

        .competences-list {
            list-style: none;
            padding-left: 0;
        }

        .competences-list li {
            margin: 8px 0;
            padding: 8px 12px;
            background: #f1f3f9;
            border-radius: 6px;
            border-left: 4px solid var(--success-pse);
        }

        .niveau-cible {
            margin-top: 15px;
            padding: 10px;
            background: var(--warning-pse);
            color: white;
            border-radius: 6px;
            text-align: center;
            font-weight: 600;
        }

        /* Exercice principal */
        .exercice-principal {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .titre-exercice {
            color: var(--primary-pse);
            font-size: 1.6em;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 3px solid var(--primary-pse);
            padding-bottom: 10px;
        }

        .situation-card {
            background: #fafbff;
            border: 2px solid #e1e6f0;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 25px;
            position: relative;
        }

        .situation-header {
            background: var(--primary-pse);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .situation-texte {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            line-height: 1.7;
            border-left: 4px solid var(--warning-pse);
        }

        .question-block {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9ff;
            border-radius: 8px;
            border-left: 4px solid var(--secondary-pse);
        }

        .question-title {
            color: var(--secondary-pse);
            font-weight: 600;
            margin-bottom: 12px;
            font-size: 1.1em;
        }

        /* Options de r√©ponse - Clic s√©lection */
        .options-container {
            display: grid;
            gap: 10px;
            margin-top: 15px;
        }

        .option-item {
            background: white;
            border: 2px solid #e1e6f0;
            border-radius: 8px;
            padding: 12px 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .option-item:hover {
            border-color: var(--primary-pse);
            background: #f0f7ff;
        }

        .option-item.selected {
            border: 3px solid var(--warning-pse);
            background: #FFA726;
            color: white;
            transform: scale(1.02);
        }

        .option-item.correct {
            background: #e8f5e8 !important;
            border: 3px solid var(--success-pse) !important;
            color: var(--success-pse);
        }

        .option-item.incorrect {
            background: #ffe8e8 !important;
            border: 2px solid var(--danger-pse) !important;
            color: var(--danger-pse);
        }

        .option-item.correct::before {
            content: "‚úÖ ";
            font-weight: bold;
        }

        .option-item.incorrect::before {
            content: "‚ùå ";
            font-weight: bold;
        }

        /* Boutons d'action */
        .action-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 1em;
        }

        .btn-primary {
            background: var(--primary-pse);
            color: white;
        }

        .btn-primary:hover {
            background: #1e5f7a;
            transform: translateY(-2px);
        }

        .btn-success {
            background: var(--success-pse);
            color: white;
        }

        .btn-warning {
            background: var(--warning-pse);
            color: white;
        }

        /* Correction explicite obligatoire */
        .correction-explicite {
            background: #fff3cd;
            border: 2px solid var(--warning-pse);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .correction-explicite.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .correction-titre {
            color: var(--danger-pse);
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .bonne-reponse {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid var(--success-pse);
        }

        .explication {
            background: #f8f9ff;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--primary-pse);
        }

        /* Instructions interaction */
        .instructions-interaction {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid var(--primary-pse);
        }

        .instructions-interaction h5 {
            color: var(--primary-pse);
            margin-bottom: 8px;
        }

        /* Progression et score */
        .progression-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .competence-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 600;
            margin: 3px;
        }

        .competence-c1 { background: #ffebee; color: #c62828; }
        .competence-c2 { background: #e3f2fd; color: #1565c0; }
        .competence-c3 { background: #e8f5e8; color: #2e7d32; }
        .competence-c4 { background: #fff3e0; color: #ef6c00; }

        /* Footer RGPD √©pur√© */
        .rgpd-notice {
            text-align: center;
            padding: 15px;
            background: var(--light-pse);
            border-radius: 8px;
            margin-top: 30px;
            font-size: 0.9em;
            color: var(--dark-pse);
        }

        /* Responsive am√©liorations */
        @media (max-width: 767px) {
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                min-width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="exercice-container">
        <!-- EN-T√äTE P√âDAGOGIQUE OBLIGATOIRE -->
        <div class="cadre-pedagogique">
            <div class="module-info">
                <h2>Module C.12 : L'√©galit√© de traitement au travail</h2>
                <div class="objectif">
                    <strong>Objectif :</strong> Identifier les diff√©rentes dimensions de l'√©galit√© au travail et les personnes √† contacter en cas de discrimination.
                </div>
            </div>
            
            <div class="competences-travaillees">
                <h3>Comp√©tences travaill√©es dans cet exercice :</h3>
                <ul class="competences-list">
                    <li><strong>C1</strong> - Traiter une information</li>
                    <li><strong>C2</strong> - Appliquer une d√©marche d'analyse dans une situation donn√©e</li>
                    <li><strong>C3</strong> - Expliquer un ph√©nom√®ne physiologique, un enjeu environnemental, une disposition r√©glementaire, en lien avec une mesure de pr√©vention</li>
                    <li><strong>C4</strong> - Proposer une solution pour r√©soudre un probl√®me</li>
                </ul>
            </div>
            
            <div class="niveau-cible">
                <strong>Niveau :</strong> Bac Pro Terminale
            </div>
        </div>

        <!-- EXERCICE PRINCIPAL -->
        <main class="exercice-principal">
            <h1 class="titre-exercice">üéØ Analyse de situations professionnelles - Discriminations au travail</h1>

            <div class="instructions-interaction">
                <h5>üì± COMMENT R√âPONDRE :</h5>
                <p><strong>1.</strong> Lisez attentivement chaque situation professionnelle<br>
                <strong>2.</strong> Cliquez sur la r√©ponse qui vous semble correcte<br>
                <strong>3.</strong> Validez pour voir la correction d√©taill√©e !</p>
            </div>

            <div class="progression-container">
                <h3>üéØ Progression par comp√©tences</h3>
                <div id="progression-competences">
                    <span class="competence-badge competence-c1" id="badge-c1">C1: 0/4</span>
                    <span class="competence-badge competence-c2" id="badge-c2">C2: 0/4</span>
                    <span class="competence-badge competence-c3" id="badge-c3">C3: 0/4</span>
                    <span class="competence-badge competence-c4" id="badge-c4">C4: 0/4</span>
                </div>
                <p><strong>Score global :</strong> <span id="score-global">0/16</span> points</p>
            </div>

            <!-- SITUATION 1 -->
            <div class="situation-card" id="situation-1">
                <div class="situation-header">
                    SITUATION PROFESSIONNELLE 1 - Embauche discriminatoire
                </div>
                <div class="situation-texte">
                    <strong>Sarah, 28 ans, postule pour un poste de commerciale dans une entreprise de mat√©riel √©lectrique.</strong><br><br>
                    Lors de l'entretien, le responsable RH lui d√©clare : "Votre profil nous int√©resse, mais nous cherchons quelqu'un de plus... dynamique. Vous savez, avec les enfants, on n'est jamais vraiment disponible. Et puis, vous risquez de retomber enceinte rapidement."<br><br>
                    Sarah pr√©cise qu'elle n'a pas d'enfants et n'en souhaite pas dans l'imm√©diat. Le responsable r√©pond : "C'est ce qu'elles disent toutes au d√©but..."
                </div>
                
                <div class="question-block">
                    <div class="question-title">Question 1 - Comp√©tence C1 : Quel est le crit√®re de discrimination principal dans cette situation ?</div>
                    <div class="options-container">
                        <div class="option-item" data-question="1" data-value="a">L'√¢ge de Sarah (28 ans)</div>
                        <div class="option-item" data-question="1" data-value="b">Le sexe et la situation de famille (grossesse potentielle)</div>
                        <div class="option-item" data-question="1" data-value="c">Ses comp√©tences professionnelles insuffisantes</div>
                        <div class="option-item" data-question="1" data-value="d">Son lieu de r√©sidence</div>
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="validerReponse(1, 'b', 'c1')">Valider ma r√©ponse</button>
                    </div>
                    <div class="correction-explicite" id="correction-1">
                        <div class="correction-titre">‚ùå CORRECTION</div>
                        <div class="bonne-reponse">
                            <strong>‚úÖ LA BONNE R√âPONSE √âTAIT :</strong><br>
                            <span style="color: #28a745; font-weight: bold;">Le sexe et la situation de famille (grossesse potentielle)</span>
                        </div>
                        <div class="explication">
                            <strong>üí° EXPLICATION :</strong> Le responsable RH base sa d√©cision sur des pr√©jug√©s li√©s au sexe (femmes = moins disponibles) et √† une situation de famille potentielle (grossesse future). Ces deux crit√®res (sexe + situation de famille) font partie des 25 crit√®res de discrimination interdits par le Code du travail. C'est une discrimination directe car elle vise explicitement les femmes en √¢ge de procr√©er.
                        </div>
                    </div>
                </div>
            </div>

            <!-- SITUATION 2 -->
            <div class="situation-card" id="situation-2">
                <div class="situation-header">
                    SITUATION PROFESSIONNELLE 2 - Promotion refus√©e
                </div>
                <div class="situation-texte">
                    <strong>Ahmed, 45 ans, technicien de maintenance depuis 8 ans dans une usine, postule pour un poste de chef d'√©quipe.</strong><br><br>
                    Son responsable lui annonce : "Ahmed, tu fais du bon travail, mais pour ce poste, il nous faut quelqu'un qui s'int√®gre mieux avec l'√©quipe. Les clients pr√©f√®rent traiter avec des gens... comment dire... plus fran√ßais de souche. Tu comprends, c'est commercial."<br><br>
                    Le poste est finalement attribu√© √† un coll√®gue moins exp√©riment√© mais "d'origine fran√ßaise".
                </div>
                
                <div class="question-block">
                    <div class="question-title">Question 2 - Comp√©tence C2 : Analysez cette situation. Quelle d√©marche juridique s'applique ?</div>
                    <div class="options-container">
                        <div class="option-item" data-question="2" data-value="a">C'est un choix commercial l√©gitime de l'entreprise</div>
                        <div class="option-item" data-question="2" data-value="b">Discrimination directe fond√©e sur l'origine, interdite par le Code du travail</div>
                        <div class="option-item" data-question="2" data-value="c">Probl√®me de comp√©tences relationnelles d'Ahmed</div>
                        <div class="option-item" data-question="2" data-value="d">Discrimination positive en faveur des salari√©s fran√ßais</div>
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="validerReponse(2, 'b', 'c2')">Valider ma r√©ponse</button>
                    </div>
                    <div class="correction-explicite" id="correction-2">
                        <div class="correction-titre">‚ùå CORRECTION</div>
                        <div class="bonne-reponse">
                            <strong>‚úÖ LA BONNE R√âPONSE √âTAIT :</strong><br>
                            <span style="color: #28a745; font-weight: bold;">Discrimination directe fond√©e sur l'origine, interdite par le Code du travail</span>
                        </div>
                        <div class="explication">
                            <strong>üí° EXPLICATION :</strong> L'article L1132-1 du Code du travail interdit formellement toute discrimination fond√©e sur l'origine. Le responsable invoque explicitement l'origine d'Ahmed comme motif de refus ("plus fran√ßais de souche"). Aucune justification commerciale ne peut l√©galiser une discrimination bas√©e sur l'origine. Ahmed peut saisir les prud'hommes, l'inspection du travail ou le D√©fenseur des droits.
                        </div>
                    </div>
                </div>
            </div>

            <!-- SITUATION 3 -->
            <div class="situation-card" id="situation-3">
                <div class="situation-header">
                    SITUATION PROFESSIONNELLE 3 - Conditions de travail in√©gales
                </div>
                <div class="situation-texte">
                    <strong>Marie, aide-soignante malentendante, travaille dans un EHPAD depuis 2 ans avec un appareil auditif.</strong><br><br>
                    La direction refuse de lui installer un syst√®me d'amplification pour les r√©unions d'√©quipe, arguant que "c'est trop co√ªteux pour une seule personne". Marie ne comprend qu'une partie des informations importantes et se sent exclue des d√©cisions.<br><br>
                    Ses coll√®gues lui reprochent parfois de mal faire son travail √† cause d'informations manqu√©es.
                </div>
                
                <div class="question-block">
                    <div class="question-title">Question 3 - Comp√©tence C3 : Expliquez la r√©glementation applicable et les obligations de l'employeur.</div>
                    <div class="options-container">
                        <div class="option-item" data-question="3" data-value="a">L'employeur n'a aucune obligation particuli√®re</div>
                        <div class="option-item" data-question="3" data-value="b">L'employeur doit prendre des mesures d'am√©nagement raisonnable du poste</div>
                        <div class="option-item" data-question="3" data-value="c">Marie doit s'adapter ou changer de poste</div>
                        <div class="option-item" data-question="3" data-value="d">C'est un probl√®me m√©dical, pas professionnel</div>
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="validerReponse(3, 'b', 'c3')">Valider ma r√©ponse</button>
                    </div>
                    <div class="correction-explicite" id="correction-3">
                        <div class="correction-titre">‚ùå CORRECTION</div>
                        <div class="bonne-reponse">
                            <strong>‚úÖ LA BONNE R√âPONSE √âTAIT :</strong><br>
                            <span style="color: #28a745; font-weight: bold;">L'employeur doit prendre des mesures d'am√©nagement raisonnable du poste</span>
                        </div>
                        <div class="explication">
                            <strong>üí° EXPLICATION :</strong> Le Code du travail (art. L5213-6) oblige l'employeur √† prendre des mesures appropri√©es pour permettre aux travailleurs handicap√©s d'exercer leur emploi. L'am√©nagement "raisonnable" signifie que le co√ªt ne doit pas √™tre disproportionn√© par rapport aux b√©n√©fices. Un syst√®me d'amplification pour r√©unions est un am√©nagement l√©gitime et peu co√ªteux. Le refus constitue une discrimination indirecte fond√©e sur le handicap.
                        </div>
                    </div>
                </div>
            </div>

            <!-- SITUATION 4 -->
            <div class="situation-card" id="situation-4">
                <div class="situation-header">
                    SITUATION PROFESSIONNELLE 4 - Licenciement suspect
                </div>
                <div class="situation-texte">
                    <strong>Jean-Pierre, 58 ans, cadre comptable exp√©riment√©, voit son contrat rompu lors d'un "plan de restructuration".</strong><br><br>
                    Son directeur lui confie officieusement : "Jean-Pierre, vous le savez, l'entreprise rajeunit ses √©quipes. Les jeunes sont plus adaptables aux nouveaux outils num√©riques. Nous allons vous accompagner vers une pr√©-retraite."<br><br>
                    Pourtant, Jean-Pierre ma√Ætrise parfaitement les logiciels et son poste est maintenu, confi√© √† un stagiaire de 24 ans.
                </div>
                
                <div class="question-block">
                    <div class="question-title">Question 4 - Comp√©tence C4 : Proposez une solution concr√®te pour Jean-Pierre face √† cette situation.</div>
                    <div class="options-container">
                        <div class="option-item" data-question="4" data-value="a">Accepter la pr√©-retraite sans contester</div>
                        <div class="option-item" data-question="4" data-value="b">Saisir les prud'hommes pour discrimination li√©e √† l'√¢ge + rassembler les preuves</div>
                        <div class="option-item" data-question="4" data-value="c">Demander une formation informatique</div>
                        <div class="option-item" data-question="4" data-value="d">Chercher un autre emploi sans contester</div>
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="validerReponse(4, 'b', 'c4')">Valider ma r√©ponse</button>
                    </div>
                    <div class="correction-explicite" id="correction-4">
                        <div class="correction-titre">‚ùå CORRECTION</div>
                        <div class="bonne-reponse">
                            <strong>‚úÖ LA BONNE R√âPONSE √âTAIT :</strong><br>
                            <span style="color: #28a745; font-weight: bold;">Saisir les prud'hommes pour discrimination li√©e √† l'√¢ge + rassembler les preuves</span>
                        </div>
                        <div class="explication">
                            <strong>üí° EXPLICATION :</strong> Cette situation constitue une discrimination directe li√©e √† l'√¢ge (crit√®re interdit). Jean-Pierre dispose de preuves solides : maintien du poste + d√©clarations du directeur sur le "rajeunissement". Action recommand√©e : 1) Rassembler toutes les preuves (emails, t√©moignages, d√©clarations), 2) Contacter un avocat sp√©cialis√©, 3) Saisir le conseil de prud'hommes dans les 12 mois. Possibilit√© aussi de contacter le D√©fenseur des droits en parall√®le.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bilan et rem√©diation -->
            <div class="progression-container" id="bilan-final" style="display: none;">
                <h3>üéØ BILAN DE VOS COMP√âTENCES</h3>
                <div id="bilan-competences"></div>
                <div id="conseils-remediation"></div>
                <div class="action-buttons">
                    <button class="btn btn-success" onclick="recommencer()">üîÑ Recommencer l'exercice</button>
                </div>
            </div>
        </main>

        <!-- RGPD FOOTER √âPUR√â -->
        <div class="rgpd-notice">
            üîí Conformit√© RGPD : Cet exercice respecte votre anonymat.
        </div>
    </div>

    <script>
        // √âtat de l'exercice
        let scores = {
            c1: 0, c2: 0, c3: 0, c4: 0
        };
        let maxScores = {
            c1: 1, c2: 1, c3: 1, c4: 1
        };
        let questionsRepondues = 0;
        let totalQuestions = 4;

        // Syst√®me de clic-s√©lection obligatoire
        document.addEventListener('DOMContentLoaded', function() {
            // Gestion des clics sur les options
            const options = document.querySelectorAll('.option-item');
            options.forEach(option => {
                option.addEventListener('click', function() {
                    // D√©s√©lectionner les autres options de la m√™me question
                    const question = this.getAttribute('data-question');
                    const autresOptions = document.querySelectorAll(`[data-question="${question}"]`);
                    autresOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // S√©lectionner cette option
                    this.classList.add('selected');
                });
            });
        });

        function validerReponse(questionNum, bonneReponse, competence) {
            const options = document.querySelectorAll(`[data-question="${questionNum}"]`);
            const correction = document.getElementById(`correction-${questionNum}`);
            let reponseChoisie = null;
            let correct = false;

            // Trouver la r√©ponse s√©lectionn√©e
            options.forEach(option => {
                if (option.classList.contains('selected')) {
                    reponseChoisie = option.getAttribute('data-value');
                    if (reponseChoisie === bonneReponse) {
                        option.classList.add('correct');
                        correct = true;
                    } else {
                        option.classList.add('incorrect');
                    }
                } else if (option.getAttribute('data-value') === bonneReponse) {
                    // Montrer la bonne r√©ponse m√™me si pas s√©lectionn√©e
                    option.classList.add('correct');
                }
            });

            // Afficher la correction explicite obligatoire
            correction.classList.add('show');

            // Mettre √† jour les scores
            if (correct) {
                scores[competence]++;
            }
            questionsRepondues++;

            // D√©sactiver la validation pour cette question
            const btnValider = document.querySelector(`button[onclick="validerReponse(${questionNum}, '${bonneReponse}', '${competence}')"]`);
            btnValider.disabled = true;
            btnValider.textContent = correct ? "‚úÖ Valid√©" : "‚ùå Vu";
            btnValider.className = correct ? "btn btn-success" : "btn btn-danger";

            // Mettre √† jour l'affichage des comp√©tences
            mettreAJourProgression();

            // Si toutes les questions sont r√©pondues, afficher le bilan
            if (questionsRepondues === totalQuestions) {
                setTimeout(() => {
                    afficherBilan();
                }, 1000);
            }
        }

        function mettreAJourProgression() {
            // Mettre √† jour les badges de comp√©tences
            document.getElementById('badge-c1').textContent = `C1: ${scores.c1}/${maxScores.c1}`;
            document.getElementById('badge-c2').textContent = `C2: ${scores.c2}/${maxScores.c2}`;
            document.getElementById('badge-c3').textContent = `C3: ${scores.c3}/${maxScores.c3}`;
            document.getElementById('badge-c4').textContent = `C4: ${scores.c4}/${maxScores.c4}`;

            // Score global
            const scoreTotal = scores.c1 + scores.c2 + scores.c3 + scores.c4;
            document.getElementById('score-global').textContent = `${scoreTotal}/${totalQuestions}`;
        }

        function afficherBilan() {
            const bilanDiv = document.getElementById('bilan-final');
            const competencesDiv = document.getElementById('bilan-competences');
            const remediationDiv = document.getElementById('conseils-remediation');

            // Analyser les r√©sultats par comp√©tence
            let bilanTexte = "<h4>üìä R√©sultats par comp√©tence :</h4><ul>";
            let conseilsRemediation = "<h4>üí° Conseils pour progresser :</h4><ul>";

            // C1 - Traiter une information
            if (scores.c1 === maxScores.c1) {
                bilanTexte += "<li><span style='color: #28a745'>‚úÖ C1 - Traiter une information : Ma√Ætris√©</span></li>";
            } else {
                bilanTexte += "<li><span style='color: #dc3545'>‚ùå C1 - Traiter une information : √Ä renforcer</span></li>";
                conseilsRemediation += "<li><strong>C1 :</strong> R√©visez l'identification des crit√®res de discrimination (25 crit√®res du Code du travail)</li>";
            }

            // C2 - Appliquer une d√©marche d'analyse
            if (scores.c2 === maxScores.c2) {
                bilanTexte += "<li><span style='color: #28a745'>‚úÖ C2 - Appliquer une d√©marche d'analyse : Ma√Ætris√©</span></li>";
            } else {
                bilanTexte += "<li><span style='color: #dc3545'>‚ùå C2 - Appliquer une d√©marche d'analyse : √Ä renforcer</span></li>";
                conseilsRemediation += "<li><strong>C2 :</strong> Travaillez la diff√©rence entre discrimination directe et indirecte</li>";
            }

            // C3 - Expliquer la r√©glementation
            if (scores.c3 === maxScores.c3) {
                bilanTexte += "<li><span style='color: #28a745'>‚úÖ C3 - Expliquer la r√©glementation : Ma√Ætris√©</span></li>";
            } else {
                bilanTexte += "<li><span style='color: #dc3545'>‚ùå C3 - Expliquer la r√©glementation : √Ä renforcer</span></li>";
                conseilsRemediation += "<li><strong>C3 :</strong> Approfondissez les obligations l√©gales des employeurs (am√©nagement du poste, √©galit√© de traitement)</li>";
            }

            // C4 - Proposer une solution
            if (scores.c4 === maxScores.c4) {
                bilanTexte += "<li><span style='color: #28a745'>‚úÖ C4 - Proposer une solution : Ma√Ætris√©</span></li>";
            } else {
                bilanTexte += "<li><span style='color: #dc3545'>‚ùå C4 - Proposer une solution : √Ä renforcer</span></li>";
                conseilsRemediation += "<li><strong>C4 :</strong> √âtudiez les recours possibles (prud'hommes, D√©fenseur des droits, inspection du travail)</li>";
            }

            bilanTexte += "</ul>";
            conseilsRemediation += "</ul>";

            competencesDiv.innerHTML = bilanTexte;
            remediationDiv.innerHTML = conseilsRemediation;

            // Score global et commentaire
            const scoreTotal = scores.c1 + scores.c2 + scores.c3 + scores.c4;
            let commentaire = "";
            if (scoreTotal === totalQuestions) {
                commentaire = "<p style='color: #28a745; font-weight: bold'>üéâ Excellente ma√Ætrise ! Vous √™tes pr√™t(e) pour l'√©preuve.</p>";
            } else if (scoreTotal >= totalQuestions * 0.75) {
                commentaire = "<p style='color: #ffa726; font-weight: bold'>üëç Bon niveau ! Quelques r√©visions et ce sera parfait.</p>";
            } else {
                commentaire = "<p style='color: #dc3545; font-weight: bold'>‚ö†Ô∏è Travaillez les points faibles identifi√©s avant l'√©preuve.</p>";
            }

            remediationDiv.innerHTML += commentaire;
            bilanDiv.style.display = 'block';

            // Faire d√©filer jusqu'au bilan
            bilanDiv.scrollIntoView({ behavior: 'smooth' });
        }

        function recommencer() {
            // R√©initialiser les scores
            scores = { c1: 0, c2: 0, c3: 0, c4: 0 };
            questionsRepondues = 0;

            // R√©initialiser l'affichage
            document.getElementById('bilan-final').style.display = 'none';
            mettreAJourProgression();

            // R√©initialiser toutes les options et corrections
            document.querySelectorAll('.option-item').forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });

            document.querySelectorAll('.correction-explicite').forEach(correction => {
                correction.classList.remove('show');
            });

            // R√©activer tous les boutons
            document.querySelectorAll('button[onclick^="validerReponse"]').forEach(btn => {
                btn.disabled = false;
                btn.textContent = "Valider ma r√©ponse";
                btn.className = "btn btn-primary";
            });

            // Retourner au d√©but
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>