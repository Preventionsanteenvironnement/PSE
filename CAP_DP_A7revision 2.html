<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Formation A7 : Alimentation & Activit√©</title>
<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
<style>
    :root {
        --primary: #007bff; /* Bleu institutionnel */
        --secondary: #6c757d;
        --success: #28a745;
        --warning: #ffc107;
        --danger: #dc3545;
        --light: #f8f9fa;
        --dark: #343a40;
        --card-bg: #ffffff;
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    body {
        margin: 0; padding: 0;
        font-family: 'Open Sans', sans-serif;
        background-color: #e9ecef;
        color: var(--dark);
        line-height: 1.6;
        min-height: 100vh;
        display: flex; flex-direction: column;
    }

    /* --- HEADER (CADRE INSTITUTIONNEL) --- */
    header {
        background: var(--dark); color: white; padding: 15px;
        border-bottom: 5px solid var(--primary);
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    .module-tag {
        background: var(--primary); color: white; padding: 2px 8px;
        border-radius: 4px; font-size: 0.8rem; font-weight: bold; text-transform: uppercase;
        display: inline-block; margin-bottom: 5px;
    }
    h1 { margin: 0; font-family: 'Fredoka', sans-serif; font-size: 1.4rem; }
    .objective { font-size: 0.9rem; opacity: 0.8; margin-top: 5px; font-style: italic; }

    /* --- CONTAINER --- */
    .container {
        flex: 1; max-width: 800px; margin: 0 auto; width: 100%; padding: 20px;
        display: flex; flex-direction: column; justify-content: center;
    }

    /* --- CARTES & √âTAPES --- */
    .card {
        background: var(--card-bg); border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        padding: 25px; margin-bottom: 20px;
        display: none; /* Cach√© par d√©faut */
        animation: fadeIn 0.5s ease;
    }
    .card.active { display: block; }

    h2 { color: var(--primary); border-bottom: 2px solid #eee; padding-bottom: 10px; margin-top: 0; font-size: 1.3rem; }
    .consigne { font-weight: bold; color: #555; background: #e2e6ea; padding: 10px; border-radius: 8px; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; }

    /* --- INTERACTIVIT√â --- */
    .btn-grid { display: grid; grid-template-columns: 1fr; gap: 10px; }
    @media(min-width: 600px) { .btn-grid { grid-template-columns: 1fr 1fr; } }

    .btn-choice {
        background: white; border: 2px solid #dee2e6; border-radius: 10px;
        padding: 15px; text-align: left; cursor: pointer; transition: all 0.2s;
        display: flex; align-items: center; gap: 15px;
    }
    .btn-choice:hover { border-color: var(--primary); background: #f1f8ff; }
    .btn-choice.selected { border-color: var(--primary); background: #cce5ff; }
    .btn-choice.correct { border-color: var(--success); background: #d4edda; color: #155724; }
    .btn-choice.wrong { border-color: var(--danger); background: #f8d7da; color: #721c24; }
    
    .icon-big { font-size: 2rem; min-width: 50px; text-align: center; }

    /* --- ALIMENTS (DRAG/CLICK SIMPLIFI√â) --- */
    .food-container { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-bottom: 20px; }
    .food-item {
        background: white; border: 1px solid #ced4da; padding: 8px 15px; border-radius: 20px;
        cursor: pointer; user-select: none; transition: transform 0.2s; font-weight: 600;
    }
    .food-item.selected { background: var(--primary); color: white; border-color: var(--primary); transform: scale(1.1); }

    /* --- FEEDBACK --- */
    .feedback-box {
        margin-top: 20px; padding: 15px; border-radius: 8px; display: none;
        border-left: 5px solid transparent;
    }
    .feedback-box.show { display: block; animation: slideUp 0.3s; }
    .feedback-box.success { background: #d4edda; color: #155724; border-color: var(--success); }
    .feedback-box.error { background: #f8d7da; color: #721c24; border-color: var(--danger); }
    
    .btn-next {
        background: var(--primary); color: white; border: none; padding: 12px 25px;
        border-radius: 5px; font-weight: bold; cursor: pointer; float: right; margin-top: 15px;
        display: none;
    }
    .btn-next.show { display: block; }

    /* --- PROGRESSION --- */
    .progress-track { background: #e9ecef; height: 8px; border-radius: 4px; margin: 0 20px 20px 20px; overflow: hidden; }
    .progress-fill { background: var(--success); height: 100%; width: 0%; transition: width 0.5s; }

    /* --- ANIMATIONS --- */
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes slideUp { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

    /* --- R√âVISION FINALE --- */
    .memo-card {
        background: #fff3cd; border: 1px solid #ffeeba; padding: 15px; margin-bottom: 10px; border-radius: 8px; font-size: 0.9rem;
    }
    .memo-card strong { color: #856404; }

</style>
</head>
<body>

<header>
    <div class="module-tag">MODULE A7</div>
    <h1>Alimentation adapt√©e √† l'activit√©</h1>
    <div class="objective">Objectif : √ätre capable d'adopter un comportement alimentaire responsable et adapt√©.</div>
</header>

<div style="padding-top: 20px;">
    <div class="progress-track"><div class="progress-fill" id="progressBar"></div></div>
</div>

<div class="container">

    <div class="card active" id="step-0">
        <h2>üëã Bienvenue en formation</h2>
        <p>Dans ce module, tu vas valider <strong>5 comp√©tences cl√©s</strong> pour ton CAP.</p>
        <div style="background: white; padding: 15px; border-radius: 8px; margin: 20px 0; border: 1px solid #ddd;">
            <ul style="list-style: none; padding: 0;">
                <li>‚úÖ <strong>1.</strong> Les besoins du corps</li>
                <li>‚úÖ <strong>2.</strong> L'√©quilibre (PNNS)</li>
                <li>‚úÖ <strong>3.</strong> Les facteurs de variation</li>
                <li>‚úÖ <strong>4.</strong> Les erreurs & cons√©quences</li>
                <li>‚úÖ <strong>5.</strong> L'adaptation au m√©tier</li>
            </ul>
        </div>
        <button class="btn-next show" onclick="nextStep(1)" style="width:100%; text-align:center;">COMMENCER LA FORMATION</button>
    </div>

    <div class="card" id="step-1">
        <h2>1. Les Besoins Nutritionnels</h2>
        <div class="consigne">üëÇ Relie chaque besoin √† son r√¥le dans le corps.</div>
        
        <p style="font-weight:bold; margin-bottom:10px;">Quel besoin sert √† CONSTRUIRE et R√âPARER le corps (comme des briques) ?</p>
        <div class="btn-grid" id="q1-options">
            <div class="btn-choice" onclick="checkQ1(this, false)">
                <div class="icon-big">‚ö°</div>
                <div>
                    <strong>Besoins √ânerg√©tiques</strong><br>
                    <small>Glucides, Lipides</small>
                </div>
            </div>
            <div class="btn-choice" onclick="checkQ1(this, true)">
                <div class="icon-big">üß±</div>
                <div>
                    <strong>Besoins Plastiques (B√¢tisseurs)</strong><br>
                    <small>Prot√©ines (VPO)</small>
                </div>
            </div>
            <div class="btn-choice" onclick="checkQ1(this, false)">
                <div class="icon-big">üõ°Ô∏è</div>
                <div>
                    <strong>Besoins Fonctionnels</strong><br>
                    <small>Vitamines, Min√©raux</small>
                </div>
            </div>
        </div>

        <div class="feedback-box" id="fb-1"></div>
        <button class="btn-next" id="btn-1" onclick="nextStep(2)">SUIVANT >></button>
    </div>

    <div class="card" id="step-2">
        <h2>2. L'Assiette √âquilibr√©e</h2>
        <div class="consigne">üçΩÔ∏è Pour √™tre en bonne sant√©, comment doit-on remplir son assiette ?</div>
        
        <p>S√©lectionne la bonne composition selon le PNNS :</p>
        <div class="btn-grid">
            <div class="btn-choice" onclick="checkQ2(this, false)">
                <div class="icon-big">üçî</div>
                <div>
                    <strong>L'assiette "Plaisir"</strong><br>
                    1/2 F√©culents, 1/2 Viande, 0 L√©gume
                </div>
            </div>
            <div class="btn-choice" onclick="checkQ2(this, true)">
                <div class="icon-big">ü•ó</div>
                <div>
                    <strong>L'assiette "Sant√©"</strong><br>
                    1/2 L√©gumes, 1/4 F√©culents, 1/4 Prot√©ines
                </div>
            </div>
            <div class="btn-choice" onclick="checkQ2(this, false)">
                <div class="icon-big">ü•©</div>
                <div>
                    <strong>L'assiette "Sportif"</strong><br>
                    3/4 Viande, 1/4 Riz
                </div>
            </div>
        </div>

        <div class="feedback-box" id="fb-2"></div>
        <button class="btn-next" id="btn-2" onclick="nextStep(3)">SUIVANT >></button>
    </div>

    <div class="card" id="step-3">
        <h2>3. Les Facteurs de Variation</h2>
        <div class="consigne">üìà Qui a besoin de le PLUS d'√©nergie (kJ) ?</div>
        
        <div class="btn-grid">
            <div class="btn-choice" onclick="checkQ3(this, true)">
                <div class="icon-big">üèóÔ∏è</div>
                <div>
                    <strong>Mourad (25 ans)</strong><br>
                    Ma√ßon, travaille dehors, porte des charges.
                </div>
            </div>
            <div class="btn-choice" onclick="checkQ3(this, false)">
                <div class="icon-big">üíª</div>
                <div>
                    <strong>L√©o (25 ans)</strong><br>
                    Comptable, assis au bureau toute la journ√©e.
                </div>
            </div>
        </div>

        <div class="feedback-box" id="fb-3"></div>
        <button class="btn-next" id="btn-3" onclick="nextStep(4)">SUIVANT >></button>
    </div>

    <div class="card" id="step-4">
        <h2>4. Erreurs & Cons√©quences</h2>
        <div class="consigne">‚ö†Ô∏è Analyse le cas de Livia.</div>
        
        <div style="background: #fff3cd; padding: 10px; border-radius: 5px; font-size: 0.9rem; margin-bottom: 15px;">
            <strong>Situation :</strong> Livia est coiffeuse. Elle ne prend pas de petit-d√©jeuner. √Ä 10h, elle mange deux barres chocolat√©es (Grignotage). Le midi, sandwich + soda. Elle a pris du poids et se sent fatigu√©e.
        </div>

        <p>Quelles sont les cons√©quences de ses erreurs ? (Clique sur la bonne r√©ponse)</p>
        
        <div class="btn-grid">
            <div class="btn-choice" onclick="checkQ4(this, false)">
                <div class="icon-big">üí™</div>
                <div>Elle va prendre du muscle et √™tre plus efficace.</div>
            </div>
            <div class="btn-choice" onclick="checkQ4(this, true)">
                <div class="icon-big">üìâ</div>
                <div>
                    <strong>Sant√© :</strong> Prise de poids, risque de diab√®te.<br>
                    <strong>Travail :</strong> Fatigue, baisse de vigilance.
                </div>
            </div>
        </div>

        <div class="feedback-box" id="fb-4"></div>
        <button class="btn-next" id="btn-4" onclick="nextStep(5)">SUIVANT >></button>
    </div>

    <div class="card" id="step-5">
        <h2>5. Adaptation au M√©tier</h2>
        <div class="consigne">‚úÖ Choisis le bon menu pour David (Travail de nuit 3x8).</div>
        
        <p>David rentre du travail √† 5h du matin. Il doit dormir. Que doit-il manger avant de se coucher ?</p>

        <div class="btn-grid">
            <div class="btn-choice" onclick="checkQ5(this, false)">
                <div class="icon-big">‚òï</div>
                <div>
                    <strong>Option A</strong><br>
                    Un caf√© noir et des biscuits pour se d√©tendre.
                </div>
            </div>
            <div class="btn-choice" onclick="checkQ5(this, false)">
                <div class="icon-big">üçî</div>
                <div>
                    <strong>Option B</strong><br>
                    Un gros burger-frites car il a tr√®s faim.
                </div>
            </div>
            <div class="btn-choice" onclick="checkQ5(this, true)">
                <div class="icon-big">ü•£</div>
                <div>
                    <strong>Option C</strong><br>
                    Un repas l√©ger : Soupe ou Yaourt + Fruit.
                </div>
            </div>
        </div>

        <div class="feedback-box" id="fb-5"></div>
        <button class="btn-next" id="btn-5" onclick="nextStep(6)">VOIR MON R√âSULTAT</button>
    </div>

    <div class="card" id="step-6">
        <h2 style="color:var(--success); text-align:center;">üèÜ FORMATION VALID√âE !</h2>
        <p style="text-align:center;">Tu ma√Ætrises les notions du Module A7.</p>
        
        <h3>üìù Ce qu'il faut retenir pour l'examen :</h3>
        
        <div class="memo-card">
            <strong>1. LES BESOINS :</strong>
            <ul>
                <li>‚ö° <strong>√ânerg√©tiques :</strong> Carburant (Glucides/Lipides).</li>
                <li>üß± <strong>Plastiques :</strong> Construction (Prot√©ines).</li>
                <li>üõ°Ô∏è <strong>Fonctionnels :</strong> Protection (Vitamines).</li>
            </ul>
        </div>

        <div class="memo-card">
            <strong>2. L'√âQUILIBRE (Assiette) :</strong>
            50% L√©gumes + 25% F√©culents + 25% VPO + Eau.
        </div>

        <div class="memo-card">
            <strong>3. VARIATIONS :</strong>
            Les besoins changent avec l'<strong>√Çge</strong>, le <strong>Sexe</strong>, l'<strong>Activit√© physique</strong> et l'<strong>√âtat physiologique</strong> (Grossesse).
        </div>

        <div class="memo-card">
            <strong>4. RISQUES :</strong>
            Grignotage + Trop gras/sucr√© = <strong>Ob√©sit√©, Diab√®te, Maladies Cardiovasculaires</strong> et <strong>Accidents du travail</strong> (baisse de vigilance).
        </div>

        <button class="btn-next show" onclick="location.reload()" style="width:100%; background:var(--secondary);">RERECOMMENCER</button>
    </div>

</div>

<script>
    // Barre de progression
    function updateProgress(step) {
        const percent = (step / 6) * 100;
        document.getElementById('progressBar').style.width = percent + '%';
    }

    // Navigation
    function nextStep(stepId) {
        // Masquer toutes les cartes
        document.querySelectorAll('.card').forEach(el => el.classList.remove('active'));
        // Afficher la cible
        document.getElementById('step-' + stepId).classList.add('active');
        // Scroll en haut
        window.scrollTo(0, 0);
        updateProgress(stepId);
    }

    // --- LOGIQUE DES QUESTIONS ---

    // Question 1 : Besoins
    function checkQ1(element, isCorrect) {
        const fb = document.getElementById('fb-1');
        const btn = document.getElementById('btn-1');
        
        // Reset styles
        element.parentElement.querySelectorAll('.btn-choice').forEach(el => el.classList.remove('selected', 'correct', 'wrong'));
        
        if (isCorrect) {
            element.classList.add('correct');
            fb.className = "feedback-box show success";
            fb.innerHTML = "<strong>‚úÖ BRAVO !</strong><br>Les besoins plastiques (ou b√¢tisseurs) servent √† construire les cellules (muscles, os). C'est le r√¥le des Prot√©ines (Viande, Poisson, Oeuf).";
            btn.classList.add('show');
        } else {
            element.classList.add('wrong');
            fb.className = "feedback-box show error";
            fb.innerHTML = "<strong>‚ùå Pas tout √† fait.</strong><br>Rappelle-toi : 'Plastique' veut dire 'Modeler/Construire'. L'√©nergie sert √† bouger, le fonctionnel sert √† prot√©ger. R√©essaie !";
        }
    }

    // Question 2 : Assiette
    function checkQ2(element, isCorrect) {
        const fb = document.getElementById('fb-2');
        const btn = document.getElementById('btn-2');
        element.parentElement.querySelectorAll('.btn-choice').forEach(el => el.classList.remove('selected', 'correct', 'wrong'));

        if (isCorrect) {
            element.classList.add('correct');
            fb.className = "feedback-box show success";
            fb.innerHTML = "<strong>‚úÖ EXACT !</strong><br>Le PNNS recommande : la moiti√© de l√©gumes (pour le volume et les vitamines), un quart de f√©culents (√©nergie) et un quart de prot√©ines.";
            btn.classList.add('show');
        } else {
            element.classList.add('wrong');
            fb.className = "feedback-box show error";
            fb.innerHTML = "<strong>‚ùå Non.</strong><br>Une assiette √©quilibr√©e doit contenir beaucoup de l√©gumes (50%). Trop de viande ou pas de l√©gumes, ce n'est pas bon pour la sant√©.";
        }
    }

    // Question 3 : Variations
    function checkQ3(element, isCorrect) {
        const fb = document.getElementById('fb-3');
        const btn = document.getElementById('btn-3');
        element.parentElement.querySelectorAll('.btn-choice').forEach(el => el.classList.remove('selected', 'correct', 'wrong'));

        if (isCorrect) {
            element.classList.add('correct');
            fb.className = "feedback-box show success";
            fb.innerHTML = "<strong>‚úÖ C'EST √áA !</strong><br>L'activit√© physique est un facteur de variation majeur. Mourad d√©pense environ 12 500 kJ contre 8 800 kJ pour un s√©dentaire.";
            btn.classList.add('show');
        } else {
            element.classList.add('wrong');
            fb.className = "feedback-box show error";
            fb.innerHTML = "<strong>‚ùå Erreur.</strong><br>L√©o est assis toute la journ√©e (s√©dentaire), il d√©pense peu d'√©nergie. Mourad, lui, bouge et porte du poids, il a besoin de plus de 'carburant'.";
        }
    }

    // Question 4 : Cons√©quences
    function checkQ4(element, isCorrect) {
        const fb = document.getElementById('fb-4');
        const btn = document.getElementById('btn-4');
        element.parentElement.querySelectorAll('.btn-choice').forEach(el => el.classList.remove('selected', 'correct', 'wrong'));

        if (isCorrect) {
            element.classList.add('correct');
            fb.className = "feedback-box show success";
            fb.innerHTML = "<strong>‚úÖ CORRECT.</strong><br>Le grignotage et les repas d√©s√©quilibr√©s entra√Ænent une prise de poids (risque sant√©) et de la fatigue (risque professionnel : accident, erreurs).";
            btn.classList.add('show');
        } else {
            element.classList.add('wrong');
            fb.className = "feedback-box show error";
            fb.innerHTML = "<strong>‚ùå Faux.</strong><br>La malbouffe (sucre/gras) ne donne pas de muscle ! Elle donne de la graisse et fatigue le corps √† long terme.";
        }
    }

    // Question 5 : Adaptation
    function checkQ5(element, isCorrect) {
        const fb = document.getElementById('fb-5');
        const btn = document.getElementById('btn-5');
        element.parentElement.querySelectorAll('.btn