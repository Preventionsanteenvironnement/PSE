<!doctype html>
<html lang=fr>
<head>
  <meta charset=utf-8>
  <meta name=viewport content=width=device-width,initial-scale=1>
  <title>Module A2 • Le sommeil, un rythme biologique • Page 1</title>
  <style>
    :root{
      --bg:#0b1220;
      --card:#101a2f;
      --text:#f2f5ff;
      --muted:#c7d2fe;
      --line:rgba(255,255,255,.14);
      --ok:#22c55e;
      --no:#ef4444;
      --accent:#60a5fa;
      --focus:#fbbf24;

      --scale:1;
      --spacing:0;
      --lineh:1.4;
      --font: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--font);
      background:linear-gradient(180deg,#081026 0%, #0b1220 55%, #081026 100%);
      color:var(--text);
      line-height:var(--lineh);
      font-size:calc(18px * var(--scale));
      letter-spacing:calc(0px + var(--spacing));
    }
    a{color:var(--text)}
    .skip{
      position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden
    }
    .skip:focus{
      left:12px;top:12px;width:auto;height:auto;z-index:1000;
      background:var(--focus);color:#111827;padding:10px 12px;border-radius:12px;
      border:0;outline:4px solid rgba(251,191,36,.35)
    }
    header{
      padding:18px 16px 12px 16px;
      max-width:980px;margin:0 auto;
    }
    .badgeRow{
      display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-bottom:10px
    }
    .badge{
      display:inline-flex;align-items:center;gap:8px;
      background:rgba(96,165,250,.14);
      border:1px solid rgba(96,165,250,.35);
      padding:8px 12px;border-radius:999px;
      font-weight:700;
    }
    .badge small{font-weight:600;color:var(--muted)}
    h1{
      margin:8px 0 8px 0;
      font-size:calc(34px * var(--scale));
      letter-spacing:.2px;
    }
    .objective{
      background:rgba(255,255,255,.06);
      border:1px solid var(--line);
      padding:12px 14px;border-radius:16px;
      color:var(--muted);
      max-width:980px;margin:0 auto;
      font-size:calc(18px * var(--scale));
    }

    main{max-width:980px;margin:0 auto;padding:14px 16px 28px 16px}

    .sectionTitle{
      margin:18px 0 10px 0;
      font-size:calc(24px * var(--scale));
      font-weight:800;
    }

    .card{
      background:rgba(16,26,47,.92);
      border:1px solid var(--line);
      border-radius:18px;
      padding:14px;
      box-shadow:0 10px 30px rgba(0,0,0,.28);
      margin:10px 0 14px 0;
    }

    figure{margin:0;display:flex;flex-direction:column;align-items:center;gap:10px}
    .imgWrap{
      width:100%;
      max-width:640px;
      border-radius:18px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.16);
      background:#0b1220;
      image-rendering: pixelated;
    }
    img{
      width:100%;
      height:auto;
      display:block;
      transform-origin:center;
      transform:scale(var(--imgzoom));
    }
    figcaption{
      max-width:640px;
      color:var(--muted);
      font-size:calc(16px * var(--scale));
    }
    .source{
      margin-top:6px;
      font-size:calc(15px * var(--scale));
      color:rgba(199,210,254,.9);
    }

    .help{
      margin-top:10px;
      background:rgba(255,255,255,.05);
      border:1px dashed rgba(255,255,255,.22);
      padding:12px 12px;border-radius:16px;
    }
    details summary{
      cursor:pointer;
      font-weight:800;
      color:var(--text);
      outline:none;
      font-size:calc(18px * var(--scale));
    }
    details summary:focus{
      outline:4px solid rgba(251,191,36,.35);
      border-radius:12px;
    }
    .hint{
      margin-top:10px;color:var(--muted);
      font-size:calc(18px * var(--scale));
    }

    fieldset{
      border:1px solid rgba(255,255,255,.14);
      border-radius:18px;
      padding:12px;
      margin:12px 0 12px 0;
    }
    legend{
      font-weight:900;
      padding:0 8px;
      font-size:calc(18px * var(--scale));
    }

    .choices{
      display:grid;
      gap:10px;
      margin-top:10px;
    }

    .choice{
      display:flex;
      gap:12px;
      align-items:flex-start;
      padding:12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.04);
    }
    .choice input{
      width:calc(22px * var(--scale));
      height:calc(22px * var(--scale));
      margin-top:2px;
      accent-color:var(--accent);
      flex:0 0 auto;
    }
    .choice label{
      cursor:pointer;
      display:block;
      width:100%;
      font-size:calc(18px * var(--scale));
    }
    .choice:focus-within{
      outline:4px solid rgba(251,191,36,.35);
      border-color:rgba(251,191,36,.45);
    }

    .grid5{
      display:grid;
      grid-template-columns:1fr;
      gap:12px;
    }
    @media (min-width:760px){
      .grid5{grid-template-columns:1fr 1fr}
    }

    .mini{
      background:rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.14);
      border-radius:16px;
      padding:12px;
    }
    .mini h3{
      margin:0 0 8px 0;
      font-size:calc(18px * var(--scale));
    }
    select{
      width:100%;
      font-size:calc(18px * var(--scale));
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.18);
      background:#0b1220;
      color:var(--text);
    }
    select:focus{
      outline:4px solid rgba(251,191,36,.35);
      border-color:rgba(251,191,36,.45);
    }

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:12px;
    }
    button{
      font-size:calc(18px * var(--scale));
      padding:12px 14px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(96,165,250,.16);
      color:var(--text);
      cursor:pointer;
      font-weight:800;
    }
    button.secondary{
      background:rgba(255,255,255,.06);
    }
    button:focus{
      outline:4px solid rgba(251,191,36,.35);
      border-color:rgba(251,191,36,.45);
    }

    .feedback{
      margin-top:12px;
      padding:12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.04);
      font-size:calc(18px * var(--scale));
    }
    .ok{border-color:rgba(34,197,94,.55)}
    .no{border-color:rgba(239,68,68,.55)}
    .srOnly{
      position:absolute;
      width:1px;height:1px;
      padding:0;margin:-1px;
      overflow:hidden;
      clip:rect(0,0,0,0);
      white-space:nowrap;border:0;
    }

    /* Barre accessibilité */
    .a11yBar{
      max-width:980px;
      margin:12px auto 0 auto;
      padding:0 16px;
    }
    .a11yCard{
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.14);
      border-radius:18px;
      padding:12px;
      display:grid;
      gap:12px;
    }
    .a11yRow{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:space-between;
    }
    .a11yTitle{
      font-weight:900;
      font-size:calc(18px * var(--scale));
    }
    .a11yControls{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
    }
    .toggle{
      display:inline-flex;gap:10px;align-items:center;
      padding:10px 12px;border-radius:14px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.04);
    }
    .toggle input{
      width:calc(22px * var(--scale));
      height:calc(22px * var(--scale));
      accent-color:var(--accent);
    }
    .toggle span{
      font-weight:800;
      font-size:calc(16px * var(--scale));
    }
    .sliderBox{
      display:flex;flex-direction:column;gap:6px;
      padding:10px 12px;border-radius:14px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.04);
      min-width:260px;
    }
    .sliderBox label{
      font-weight:900;
      font-size:calc(16px * var(--scale));
    }
    .sliderLine{
      display:flex;gap:10px;align-items:center;justify-content:space-between;
    }
    input[type=range]{
      width:100%;
      accent-color:var(--accent);
    }
    .val{
      min-width:74px;
      text-align:right;
      font-weight:900;
      color:var(--muted);
      font-size:calc(16px * var(--scale));
    }
    .smallHint{
      color:var(--muted);
      font-size:calc(15px * var(--scale));
    }

    /* Mode dys */
    body.dys{
      --font: Verdana, Arial, system-ui, sans-serif;
      --spacing: .6px;
      --lineh: 1.65;
    }
    body.dys .card, body.dys .objective{
      border-color:rgba(255,255,255,.22);
    }

    /* Zoom image */
    :root{ --imgzoom:1; }

    @media (prefers-reduced-motion: reduce){
      *{scroll-behavior:auto}
    }
  </style>
</head>

<body>
  <a class=skip href=#contenu>Aller au contenu</a>

  <header>
    <div class=badgeRow>
      <div class=badge>Thématique A <small>• capital santé</small></div>
      <div class=badge>Compétences <small>• C1 et C2</small></div>
      <div class=badge>Module A2</div>
    </div>
    <h1>Le sommeil, un rythme biologique</h1>
    <div class=objective>
      <strong>Objectif du module</strong><br>
      Être capable d adopter un mode de vie favorisant un sommeil récupérateur.
    </div>
  </header>

  <div class=a11yBar aria-label=Options daccessibilité>
    <div class=a11yCard>
      <div class=a11yRow>
        <div class=a11yTitle>Options pour mieux lire</div>
        <div class=a11yControls>
          <label class=toggle>
            <input id=toggleDys type=checkbox>
            <span>Mode dys</span>
          </label>

          <div class=sliderBox>
            <label for=fontScale>Taille du texte</label>
            <div class=sliderLine>
              <input id=fontScale type=range min=100 max=170 value=100 step=5>
              <div class=val id=fontScaleVal>100%</div>
            </div>
            <div class=smallHint>Augmente si tu vois mal ou si tu fatigues</div>
          </div>

          <div class=sliderBox>
            <label for=imgZoom>Zoom image</label>
            <div class=sliderLine>
              <input id=imgZoom type=range min=100 max=220 value=100 step=10>
              <div class=val id=imgZoomVal>100%</div>
            </div>
            <div class=smallHint>Pour agrandir limage</div>
          </div>

          <button type=button class=secondary id=btnResetA11y>Réinitialiser</button>
        </div>
      </div>
    </div>
  </div>

  <main id=contenu>
    <h2 class=sectionTitle>Situation</h2>

    <section class=card aria-label=Situation>
      <figure>
        <div class=imgWrap>
          <img id=sitImg src=apres-le-diner.jpg alt=Illustration: un adolescent sur un canapé après le dîner, écran allumé. Le visuel indique que 33,5 pourcent passent plus de 1 heure sur console tablette ou ordinateur après le dîner, dont 14,7 pourcent plus de 2 heures.>
        </div>
        <figcaption>
          <strong>Après le dîner</strong><br>
          Le temps passé devant les écrans en soirée, avant le coucher, augmente chez les adolescents. La télévision est moins utilisée, au profit des ordinateurs et surtout des smartphones. La luminosité de l écran agit sur la rétine comme une lumière de jour. Le cerveau croit que la nuit a peu commencé, donc il lance plus tard les signaux du sommeil. Plus le temps passé est long, plus l endormissement est retardé.
          <div class=source>Source : reseau-morphee.fr</div>
        </figcaption>
      </figure>

      <div class=help>
        <details>
          <summary>Aide rapide</summary>
          <div class=hint>
            Cherche les informations dans le texte sous limage : qui, quoi, quand, comment, pourquoi.<br>
            Tu as le droit de relire plusieurs fois.
          </div>
        </details>
      </div>
    </section>

    <h2 class=sectionTitle>J analyse la situation</h2>

    <section class=card aria-label=Analyse>
      <fieldset>
        <legend>1) Énoncer le problème posé</legend>
        <div class=choices role=radiogroup aria-label=Choisir la bonne phrase>
          <div class=choice>
            <input id=p1 type=radio name=probleme value=ok>
            <label for=p1>Le temps passé devant les écrans le soir retarde lendormissement des adolescents.</label>
          </div>
          <div class=choice>
            <input id=p2 type=radio name=probleme value=no>
            <label for=p2>Les adolescents ne dînent pas assez, donc ils dorment mal.</label>
          </div>
          <div class=choice>
            <input id=p3 type=radio name=probleme value=no>
            <label for=p3>Les écrans sont trop chers, donc les familles ont un problème de budget.</label>
          </div>
        </div>
      </fieldset>

      <fieldset>
        <legend>2) Repérer les éléments de la situation</legend>

        <div class=grid5>
          <div class=mini>
            <h3>Qui est concerné</h3>
            <select id=qui aria-label=Choisir qui est concerné>
              <option value=>Je choisis</option>
              <option value=no>Les bébés</option>
              <option value=ok>Les adolescents</option>
              <option value=no>Les personnes âgées</option>
            </select>
          </div>

          <div class=mini>
            <h3>Quoi</h3>
            <select id=quoi aria-label=Choisir le problème>
              <option value=>Je choisis</option>
              <option value=ok>Le temps passé devant les écrans le soir</option>
              <option value=no>Le manque de sport à lécole</option>
              <option value=no>Le bruit des voisins</option>
            </select>
          </div>

          <div class=mini>
            <h3>Quand</h3>
            <select id=quand aria-label=Choisir depuis quand>
              <option value=>Je choisis</option>
              <option value=ok>Depuis environ une dizaine dannées</option>
              <option value=no>Depuis hier</option>
              <option value=no>Depuis un siècle</option>
            </select>
          </div>

          <div class=mini>
            <h3>Comment</h3>
            <select id=comment aria-label=Choisir comment apparaît le problème>
              <option value=>Je choisis</option>
              <option value=ok>La lumière de lécran fait croire au cerveau que cest encore le jour</option>
              <option value=no>Le lit est trop petit</option>
              <option value=no>La chambre est trop froide</option>
            </select>
          </div>

          <div class=mini>
            <h3>Pourquoi</h3>
            <select id=pourquoi aria-label=Choisir pourquoi cela pose un problème>
              <option value=>Je choisis</option>
              <option value=ok>Parce que lendormissement est retardé</option>
              <option value=no>Parce que le dîner est plus long</option>
              <option value=no>Parce que le réveil sonne trop tôt</option>
            </select>
          </div>
        </div>

        <div class=actions>
          <button type=button id=btnValider>Valider mes choix</button>
          <button type=button class=secondary id=btnEffacer>Effacer</button>
        </div>

        <div id=retour class=feedback aria-live=polite>
          <span class=srOnly>Zone de résultat</span>
          Choisis, puis clique sur Valider mes choix.
        </div>
      </fieldset>
    </section>

    <section class=card aria-label=Accessibilité>
      <div>
        <strong>Accessibilité</strong><br>
        Options lecture en haut : mode dys, taille du texte, zoom image. Les réglages sont mémorisés sur l appareil.
      </div>
    </section>
  </main>

  <script>
    (function(){
      function getRadioValue(name){
        var els=document.querySelectorAll('input[name='+name+']');
        for(var i=0;i<els.length;i++){
          if(els[i].checked) return els[i].value;
        }
        return '';
      }

      function setFeedback(ok,total){
        var box=document.getElementById('retour');
        box.classList.remove('ok');
        box.classList.remove('no');

        if(total===0){
          box.textContent='Choisis, puis clique sur Valider mes choix.';
          return;
        }

        if(ok===total){
          box.classList.add('ok');
          box.textContent='Bravo. Tout est correct. Tu peux passer à la suite.';
        }else{
          box.classList.add('no');
          if(ok===0){
            box.textContent='Pas encore. Relis le texte sous limage et réessaie.';
          }else{
            box.textContent='Presque. Tu as '+ok+' bonne réponse sur '+total+'. Relis et corrige.';
          }
        }
      }

      document.getElementById('btnValider').addEventListener('click',function(){
        var total=0;
        var ok=0;

        var p=getRadioValue('probleme');
        if(p!==''){
          total++;
          if(p==='ok') ok++;
        }

        var ids=['qui','quoi','quand','comment','pourquoi'];
        for(var i=0;i<ids.length;i++){
          var v=document.getElementById(ids[i]).value;
          if(v!==''){
            total++;
            if(v==='ok') ok++;
          }
        }

        setFeedback(ok,total);
      });

      document.getElementById('btnEffacer').addEventListener('click',function(){
        var radios=document.querySelectorAll('input[name=probleme]');
        for(var i=0;i<radios.length;i++) radios[i].checked=false;

        var ids=['qui','quoi','quand','comment','pourquoi'];
        for(var j=0;j<ids.length;j++){
          document.getElementById(ids[j]).value='';
        }
        setFeedback(0,0);
      });

      /* A11Y options with persistence */
      var body=document.body;
      var toggleDys=document.getElementById('toggleDys');
      var fontScale=document.getElementById('fontScale');
      var fontScaleVal=document.getElementById('fontScaleVal');
      var imgZoom=document.getElementById('imgZoom');
      var imgZoomVal=document.getElementById('imgZoomVal');
      var btnReset=document.getElementById('btnResetA11y');
      var root=document.documentElement;

      function apply(){
        var s = parseInt(fontScale.value,10)/100;
        root.style.setProperty('--scale', String(s));
        fontScaleVal.textContent = fontScale.value + '%';

        var z = parseInt(imgZoom.value,10)/100;
        root.style.setProperty('--imgzoom', String(z));
        imgZoomVal.textContent = imgZoom.value + '%';

        if(toggleDys.checked){
          body.classList.add('dys');
        }else{
          body.classList.remove('dys');
        }

        localStorage.setItem('a2_sleep_dys', toggleDys.checked ? '1' : '0');
        localStorage.setItem('a2_sleep_scale', fontScale.value);
        localStorage.setItem('a2_sleep_imgzoom', imgZoom.value);
      }

      function load(){
        var dys = localStorage.getItem('a2_sleep_dys');
        var scale = localStorage.getItem('a2_sleep_scale');
        var zoom = localStorage.getItem('a2_sleep_imgzoom');

        toggleDys.checked = (dys === '1');
        if(scale) fontScale.value = scale;
        if(zoom) imgZoom.value = zoom;

        apply();
      }

      toggleDys.addEventListener('change', apply);
      fontScale.addEventListener('input', apply);
      imgZoom.addEventListener('input', apply);

      btnReset.addEventListener('click', function(){
        toggleDys.checked = false;
        fontScale.value = 100;
        imgZoom.value = 100;
        apply();
      });

      load();
    })();
  </script>
</body>
</html>
