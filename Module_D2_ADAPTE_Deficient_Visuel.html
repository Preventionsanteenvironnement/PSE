<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=3.0, user-scalable=yes">
    <title>PSE â€“ Module D2 : Le crÃ©dit (AdaptÃ© TSA)</title>
    <style>
        :root {
            --bg: #f5f5f5;
            --primary: #1565c0;
            --success: #2e7d32;
            --warning: #f9a825;
            --danger: #c62828;
            --text: #000;
            --font-size: 1rem;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Segoe UI", Arial, sans-serif;
            font-size: var(--font-size);
            background: var(--bg);
            color: var(--text);
            padding: 15px;
            line-height: 1.8;
        }

        .container {
            max-width: 950px;
            margin: 0 auto;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           BARRE DE CONTRÃ”LES FIXE
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .controls {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #1565c0, #0d47a1);
            padding: 10px 15px;
            z-index: 9999;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .ctrl-btn {
            color: #fff;
            border: none;
            padding: 10px 16px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: bold;
            box-shadow: 0 3px 0 rgba(0,0,0,0.2);
            user-select: none;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .ctrl-btn:active {
            transform: translateY(3px);
            box-shadow: none;
        }

        .btn-consigne { background: #e91e63; }
        .btn-son { background: #37474f; }
        .btn-zoom-plus { background: #43a047; }
        .btn-zoom-moins { background: #ff9800; }
        .btn-haut { background: #7b1fa2; }
        .btn-reset { background: #607d8b; }

        /* Espace pour la barre fixe */
        .spacer-top {
            height: 70px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           EN-TÃŠTE
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .header {
            background: linear-gradient(135deg, #1565c0, #0d47a1);
            color: #fff;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
            border: 4px solid #000;
        }

        .header-module {
            font-size: 1.1em;
            margin-bottom: 8px;
            opacity: 0.9;
        }

        .header h1 {
            font-size: 2em;
            margin-bottom: 15px;
        }

        .objectif-box {
            background: #ffd54f;
            color: #000;
            padding: 15px 20px;
            font-size: 1.2em;
            font-weight: bold;
            border-radius: 10px;
            border: 3px solid #000;
        }

        .competence-box {
            display: inline-block;
            background: #ff9800;
            color: #000;
            padding: 8px 20px;
            border-radius: 25px;
            font-weight: bold;
            margin-top: 15px;
            border: 2px solid #000;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           PROGRESSION
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .progress-box {
            background: #fff;
            border: 3px solid var(--primary);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        .progress-bar {
            background: #e0e0e0;
            height: 25px;
            border-radius: 12px;
            overflow: hidden;
            margin-top: 10px;
            border: 2px solid #999;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4caf50, #8bc34a);
            height: 100%;
            width: 0%;
            transition: width 0.5s;
            border-radius: 12px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CARTE QUESTION
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .question-card {
            background: #fff;
            border: 4px solid #000;
            border-radius: 15px;
            padding: 0;
            margin-bottom: 25px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .question-header {
            background: linear-gradient(135deg, #37474f, #263238);
            color: #fff;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .question-number {
            background: #ffd54f;
            color: #000;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8em;
            font-weight: bold;
            border: 3px solid #000;
            flex-shrink: 0;
        }

        .competence-tag {
            background: #2196f3;
            color: #fff;
            padding: 8px 18px;
            border-radius: 20px;
            font-weight: bold;
            border: 2px solid #000;
        }

        .btn-lire-question {
            background: #e91e63;
            color: #fff;
            border: 2px solid #000;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            margin-left: auto;
        }

        .btn-lire-question:hover {
            background: #c2185b;
        }

        .question-body {
            padding: 20px;
        }

        .question-text {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 20px;
            line-height: 1.6;
            padding: 15px;
            background: #e3f2fd;
            border-radius: 10px;
            border-left: 5px solid var(--primary);
        }

        .question-text .verbe {
            color: #c62828;
            text-decoration: underline;
            font-size: 1.1em;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ZONE RÃ‰PONSE
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .answer-zone {
            background: #fafafa;
            border: 3px solid #ccc;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .answer-label {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .answer-input {
            width: 100%;
            border: 3px solid #666;
            border-radius: 8px;
            padding: 15px;
            font-size: 1.1em;
            line-height: 1.7;
            min-height: 80px;
            font-family: inherit;
            resize: vertical;
        }

        .answer-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(21, 101, 192, 0.2);
        }

        .input-short {
            width: 200px;
            min-height: auto;
        }

        .input-row {
            margin-bottom: 15px;
        }

        .input-row label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 1.05em;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           BOUTONS AIDE / CORRIGÃ‰
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .btn-group {
            display: flex;
            gap: 12px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 30px;
            border: 3px solid #000;
            font-size: 1.15em;
            font-weight: bold;
            cursor: pointer;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: transform 0.1s;
        }

        .btn:hover {
            transform: scale(1.03);
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn-aide {
            background: linear-gradient(135deg, #ffd54f, #ffca28);
            color: #000;
        }

        .btn-corrige {
            background: linear-gradient(135deg, #66bb6a, #43a047);
            color: #000;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           BOÃTES AIDE / CORRIGÃ‰
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .aide-box, .corrige-box {
            display: none;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .aide-box.visible, .corrige-box.visible {
            display: block;
        }

        .aide-box {
            background: #fffde7;
            border: 4px solid #ffd54f;
        }

        .corrige-box {
            background: #e8f5e9;
            border: 4px solid #66bb6a;
        }

        .box-title {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .aide-box .box-title { color: #f57f17; }
        .corrige-box .box-title { color: #2e7d32; }

        .box-content {
            font-size: 1.15em;
            line-height: 1.8;
        }

        .etape {
            display: inline-block;
            background: #ffd54f;
            color: #000;
            padding: 3px 10px;
            border-radius: 5px;
            font-weight: bold;
            margin-right: 8px;
        }

        .corrige-answer {
            background: #fff;
            border: 3px solid #2e7d32;
            border-radius: 8px;
            padding: 15px 20px;
            margin: 15px 0;
            font-size: 1.2em;
            font-weight: bold;
        }

        .astuce-box {
            background: #ffd54f;
            padding: 12px 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-weight: bold;
        }

        .explication {
            margin-top: 15px;
            padding: 15px;
            background: rgba(255,255,255,0.7);
            border-radius: 8px;
        }

        .piege-box {
            background: #ffebee;
            border: 2px solid #c62828;
            border-radius: 8px;
            padding: 12px 15px;
            margin-top: 15px;
        }

        .piege-box strong {
            color: #c62828;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SECTIONS / DOCUMENTS
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .section-title {
            background: linear-gradient(135deg, #7b1fa2, #512da8);
            color: #fff;
            padding: 20px;
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            margin: 30px 0 20px;
            border-radius: 15px;
            border: 3px solid #000;
        }

        .doc-section {
            background: #eceff1;
            border: 4px solid #607d8b;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .doc-title {
            background: #37474f;
            color: #fff;
            padding: 12px 20px;
            font-size: 1.3em;
            font-weight: bold;
            border-radius: 8px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .doc-image {
            width: 100%;
            border: 3px solid #000;
            border-radius: 8px;
            margin: 10px 0;
        }

        .situation-box {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border: 4px solid #1976d2;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            font-size: 1.15em;
            line-height: 1.8;
        }

        .situation-box strong {
            color: #0d47a1;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CALCULATRICE FLOTTANTE
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .calc-container {
            position: fixed;
            right: 15px;
            bottom: 15px;
            z-index: 9998;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 10px;
        }

        .calc-toggle {
            background: linear-gradient(135deg, #9c27b0, #7b1fa2);
            color: white;
            border: 3px solid #000;
            width: 65px;
            height: 65px;
            border-radius: 50%;
            font-size: 2rem;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .calc-toggle:hover {
            transform: scale(1.1);
        }

        .calc-toggle.active {
            background: linear-gradient(135deg, #7b1fa2, #4a148c);
        }

        .calculatrice {
            background: #fff;
            border: 4px solid #000;
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            width: 280px;
            display: none;
        }

        .calculatrice.visible {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .calc-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ddd;
        }

        .calc-title {
            font-weight: bold;
            font-size: 1.2em;
        }

        .calc-close {
            background: #f44336;
            color: #fff;
            border: 2px solid #000;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
        }

        .calc-display {
            background: linear-gradient(135deg, #1b5e20, #2e7d32);
            color: #a5d6a7;
            padding: 15px;
            font-size: 2em;
            text-align: right;
            border-radius: 8px;
            margin-bottom: 12px;
            border: 3px solid #000;
            min-height: 60px;
            font-family: 'Courier New', monospace;
            font-weight: bold;
        }

        .calc-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
        }

        .calc-btn {
            padding: 15px;
            border: 2px solid #000;
            font-size: 1.4em;
            font-weight: bold;
            cursor: pointer;
            background: #f5f5f5;
            border-radius: 8px;
            transition: all 0.1s;
        }

        .calc-btn:hover {
            background: #ffd54f;
        }

        .calc-btn:active {
            transform: scale(0.95);
        }

        .calc-btn.operator {
            background: #1976d2;
            color: #fff;
        }

        .calc-btn.equals {
            background: #43a047;
            color: #fff;
            grid-column: span 2;
        }

        .calc-btn.clear {
            background: #e53935;
            color: #fff;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           FEEDBACK GLOBAL
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #feedback-global {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.9);
            color: #fff;
            padding: 25px 40px;
            border-radius: 20px;
            font-size: 1.8rem;
            display: none;
            z-index: 10000;
            text-align: center;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RESPONSIVE
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        @media (max-width: 700px) {
            .controls {
                padding: 8px 10px;
            }

            .ctrl-btn {
                padding: 8px 12px;
                font-size: 0.85rem;
            }

            .spacer-top {
                height: 90px;
            }

            .header h1 {
                font-size: 1.5em;
            }

            .question-number {
                width: 50px;
                height: 50px;
                font-size: 1.5em;
            }

            .btn {
                padding: 12px 20px;
                font-size: 1em;
            }

            .calculatrice {
                width: 260px;
                right: 5px;
            }

            .calc-toggle {
                width: 55px;
                height: 55px;
                font-size: 1.6rem;
            }
        }
    </style>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     BARRE DE CONTRÃ”LES FIXE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="controls">
    <button class="ctrl-btn btn-consigne" onclick="lireConsigneGenerale()">ğŸ”Š Consigne</button>
    <button class="ctrl-btn btn-son" id="btn-son" onclick="toggleSon()">ğŸ”ˆ Son : ON</button>
    <button class="ctrl-btn btn-zoom-plus" onclick="zoomPlus()">ğŸ”+ Agrandir</button>
    <button class="ctrl-btn btn-zoom-moins" onclick="zoomMoins()">ğŸ”- RÃ©duire</button>
    <button class="ctrl-btn btn-haut" onclick="window.scrollTo({top:0,behavior:'smooth'})">â¬†ï¸ Haut</button>
    <button class="ctrl-btn btn-reset" onclick="location.reload()">ğŸ”„ Reset</button>
</div>

<div class="spacer-top"></div>

<div class="container">

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     EN-TÃŠTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="header">
    <div class="header-module">PSE â€“ Module D2</div>
    <h1>ğŸ’³ Le crÃ©dit Ã  la consommation</h1>
    <div class="objectif-box">
        ğŸ¯ OBJECTIF : ÃŠtre capable de dÃ©cider de prendre un crÃ©dit de maniÃ¨re responsable
    </div>
    <div class="competence-box">CompÃ©tences C2 et C3</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PROGRESSION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="progress-box">
    <strong>ğŸ“Š Progression : <span id="progress-count">0</span> / 10 questions</strong>
    <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
    </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SITUATION QUENTIN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="question-card">
    <div class="question-header">
        <span style="font-size: 2em;">ğŸ“–</span>
        <span style="font-size: 1.3em; font-weight: bold;">L'HISTOIRE DE QUENTIN</span>
        <button class="btn-lire-question" onclick="speak('Voici l\'histoire de Quentin. Quentin veut acheter une voiture. Il a besoin de 2000 euros. Son salaire est de 1600 euros par mois. Il paie dÃ©jÃ  un crÃ©dit de 70 euros par mois. On lui propose un nouveau crÃ©dit de 90 euros par mois pendant 24 mois.')">ğŸ”Š Lire</button>
    </div>
    <div class="question-body">
        <div class="situation-box">
            <p><strong>ğŸ§‘ Quentin</strong> veut acheter une <strong>voiture</strong>.</p>
            <p>Il a besoin de <strong>2 000 â‚¬</strong>.</p>
            <p>Son salaire est de <strong>1 600 â‚¬</strong> par mois.</p>
            <p>Il paie dÃ©jÃ  un crÃ©dit de <strong>70 â‚¬</strong> par mois.</p>
            <p>On lui propose un nouveau crÃ©dit : <strong>90 â‚¬ par mois pendant 24 mois</strong>.</p>
        </div>
        <img src="images/situation_quentin.jpg" alt="Situation de Quentin" class="doc-image" onerror="this.style.display='none'">
    </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     QUESTION 1
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="question-card" id="q1">
    <div class="question-header">
        <div class="question-number">1</div>
        <span class="competence-tag">C2</span>
        <button class="btn-lire-question" onclick="lireQuestion(1)">ğŸ”Š Lire</button>
    </div>
    <div class="question-body">
        <div class="question-text">
            <span class="verbe">Dire</span> quel est le problÃ¨me de Quentin.
        </div>
        <div class="answer-zone">
            <div class="answer-label">âœï¸ Ã‰cris ta rÃ©ponse :</div>
            <textarea class="answer-input" placeholder="Ã‰cris ici..." onchange="checkProgress()"></textarea>
        </div>
        <div class="btn-group">
            <button class="btn btn-aide" onclick="toggle('aide1')">ğŸ’¡ AIDE</button>
            <button class="btn btn-corrige" onclick="toggle('corr1'); checkProgress()">âœ… VOIR LA RÃ‰PONSE</button>
        </div>
        <div class="aide-box" id="aide1">
            <div class="box-title">ğŸ’¡ JE T'AIDE :</div>
            <div class="box-content">
                <p><span class="etape">1</span> Que veut acheter Quentin ? â†’ Une voiture</p>
                <p><span class="etape">2</span> Comment va-t-il payer ? â†’ Avec un crÃ©dit</p>
                <p><span class="etape">3</span> Quel est le danger ? â†’ Se retrouver avec trop de dettes</p>
                <div class="astuce-box">
                    â†’ Son problÃ¨me : Acheter une voiture avec un crÃ©dit SANS se mettre en danger avec l'argent
                </div>
            </div>
        </div>
        <div class="corrige-box" id="corr1">
            <div class="box-title">âœ… LA BONNE RÃ‰PONSE :</div>
            <div class="corrige-answer">
                Acheter une voiture Ã  crÃ©dit sans risque de surendettement.
            </div>
            <div class="explication">
                <strong>ğŸ’¡ EXPLICATION :</strong><br>
                Quentin veut une voiture mais il n'a pas assez d'argent. Il pense prendre un crÃ©dit (= emprunter de l'argent Ã  la banque). Mais attention ! Il gagne 1 600 â‚¬ par mois. Il doit faire attention Ã  ne pas dÃ©penser trop pour les crÃ©dits, sinon il n'aura plus assez d'argent pour vivre.
            </div>
        </div>
    </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     QUESTION 2
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="question-card" id="q2">
    <div class="question-header">
        <div class="question-number">2</div>
        <span class="competence-tag">C2</span>
        <button class="btn-lire-question" onclick="lireQuestion(2)">ğŸ”Š Lire</button>
    </div>
    <div class="question-body">
        <div class="question-text">
            <span class="verbe">Trouver</span> les informations importantes sur Quentin.
        </div>
        <div class="answer-zone">
            <div class="input-row">
                <label>â€¢ Ce qu'il veut acheter :</label>
                <input type="text" class="answer-input" style="min-height:50px" onchange="checkProgress()">
            </div>
            <div class="input-row">
                <label>â€¢ Combien Ã§a coÃ»te :</label>
                <input type="text" class="answer-input input-short" onchange="checkProgress()">
            </div>
            <div class="input-row">
                <label>â€¢ Son salaire par mois :</label>
                <input type="text" class="answer-input input-short" onchange="checkProgress()">
            </div>
            <div class="input-row">
                <label>â€¢ CrÃ©dit qu'il paie dÃ©jÃ  :</label>
                <input type="text" class="answer-input input-short" onchange="checkProgress()">
            </div>
            <div class="input-row">
                <label>â€¢ Nouveau crÃ©dit proposÃ© :</label>
                <input type="text" class="answer-input" style="min-height:50px" onchange="checkProgress()">
            </div>
        </div>
        <div class="btn-group">
            <button class="btn btn-aide" onclick="toggle('aide2')">ğŸ’¡ AIDE</button>
            <button class="btn btn-corrige" onclick="toggle('corr2'); checkProgress()">âœ… VOIR LES RÃ‰PONSES</button>
        </div>
        <div class="aide-box" id="aide2">
            <div class="box-title">ğŸ’¡ JE T'AIDE - REGARDE BIEN L'HISTOIRE :</div>
            <div class="box-content">
                <p><span class="etape">1</span> Quentin veut acheter quoi ? â†’ Une...</p>
                <p><span class="etape">2</span> Il a besoin de combien ? â†’ Cherche le chiffre en â‚¬</p>
                <p><span class="etape">3</span> Son salaire est de combien ?</p>
                <p><span class="etape">4</span> Il paie dÃ©jÃ  un crÃ©dit de combien par mois ?</p>
                <p><span class="etape">5</span> Le nouveau crÃ©dit : combien par mois ? pendant combien de temps ?</p>
            </div>
        </div>
        <div class="corrige-box" id="corr2">
            <div class="box-title">âœ… LES BONNES RÃ‰PONSES :</div>
            <div class="corrige-answer">
                â€¢ Ce qu'il veut : <strong>Une voiture</strong><br>
                â€¢ Combien : <strong>2 000 â‚¬</strong><br>
                â€¢ Son salaire : <strong>1 600 â‚¬</strong><br>
                â€¢ CrÃ©dit dÃ©jÃ  payÃ© : <strong>70 â‚¬ / mois</strong><br>
                â€¢ Nouveau crÃ©dit : <strong>90 â‚¬ par mois pendant 24 mois</strong>
            </div>
            <div class="explication">
                <strong>ğŸ’¡ POURQUOI C'EST IMPORTANT ?</strong><br>
                Ces informations vont servir pour calculer si Quentin peut prendre ce crÃ©dit sans danger. On va vÃ©rifier s'il aura assez d'argent pour vivre aprÃ¨s avoir payÃ© tous ses crÃ©dits.
            </div>
        </div>
    </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ACTIVITÃ‰ 1
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="section-title">ğŸ’¡ ACTIVITÃ‰ 1 : Comment marche un crÃ©dit ?</div>

<!-- DOCUMENT A -->
<div class="doc-section">
    <div class="doc-title">ğŸ“„ DOCUMENT A - Deux crÃ©dits diffÃ©rents</div>
    <img src="images/document_A_2_propositions.jpg" alt="Document A - Comparaison de 2 crÃ©dits" class="doc-image" onerror="this.style.display='none'">
    <div class="situation-box" style="margin-top:15px">
        <strong>CrÃ©dit A :</strong> 500 â‚¬ empruntÃ©s, TAEG 15%, 12 mois â†’ Total dÃ» : 538,92 â‚¬<br>
        <strong>CrÃ©dit B :</strong> 500 â‚¬ empruntÃ©s, TAEG 17,90%, 18 mois â†’ Total dÃ» : 568,26 â‚¬
    </div>
</div>

<!-- QUESTION 3 -->
<div class="question-card" id="q3">
    <div class="question-header">
        <div class="question-number">3</div>
        <span class="competence-tag">C2</span>
        <button class="btn-lire-question" onclick="lireQuestion(3)">ğŸ”Š Lire</button>
    </div>
    <div class="question-body">
        <div class="question-text">
            <span class="verbe">Choisir</span> le crÃ©dit le moins cher.
        </div>
        <div class="answer-zone">
            <div style="font-size:1.3em;">
                <label style="display:block; padding:15px; background:#fff; border:2px solid #ccc; border-radius:8px; margin-bottom:10px; cursor:pointer;">
                    <input type="radio" name="q3" value="A" style="transform:scale(1.5); margin-right:15px;" onchange="checkProgress()"> 
                    <strong>CrÃ©dit A</strong> (538,92 â‚¬)
                </label>
                <label style="display:block; padding:15px; background:#fff; border:2px solid #ccc; border-radius:8px; cursor:pointer;">
                    <input type="radio" name="q3" value="B" style="transform:scale(1.5); margin-right:15px;" onchange="checkProgress()"> 
                    <strong>CrÃ©dit B</strong> (568,26 â‚¬)
                </label>
            </div>
        </div>
        <div class="btn-group">
            <button class="btn btn-aide" onclick="toggle('aide3')">ğŸ’¡ AIDE</button>
            <button class="btn btn-corrige" onclick="toggle('corr3'); checkProgress()">âœ… VOIR LA RÃ‰PONSE</button>
        </div>
        <div class="aide-box" id="aide3">
            <div class="box-title">ğŸ’¡ JE T'AIDE - COMMENT COMPARER ?</div>
            <div class="box-content">
                <p><span class="etape">1</span> NE REGARDE PAS les mensualitÃ©s (ce qu'on paie chaque mois)</p>
                <p><span class="etape">2</span> REGARDE le "Montant total dÃ»" :</p>
                <p style="margin-left:30px">â€¢ CrÃ©dit A : 538,92 â‚¬</p>
                <p style="margin-left:30px">â€¢ CrÃ©dit B : 568,26 â‚¬</p>
                <p><span class="etape">3</span> Lequel est le PLUS PETIT ?</p>
                <div class="astuce-box">
                    <strong>ASTUCE :</strong> Le crÃ©dit le moins cher = celui oÃ¹ on paie le MOINS AU TOTAL !
                </div>
            </div>
        </div>
        <div class="corrige-box" id="corr3">
            <div class="box-title">âœ… LA BONNE RÃ‰PONSE :</div>
            <div class="corrige-answer">CrÃ©dit A</div>
            <div class="explication">
                <strong>ğŸ’¡ EXPLICATION :</strong><br>
                <strong>CrÃ©dit A :</strong> 538,92 â‚¬<br>
                <strong>CrÃ©dit B :</strong> 568,26 â‚¬<br><br>
                Le crÃ©dit A coÃ»te <strong>29,34 â‚¬ de moins</strong> que le B !
            </div>
            <div class="piege-box">
                <strong>âš ï¸ PIÃˆGE !</strong> Le crÃ©dit B a des mensualitÃ©s plus petites (31,57 â‚¬ vs 44,91 â‚¬). On pourrait croire qu'il est moins cher ! MAIS NON ! Parce qu'on paie pendant plus longtemps (18 mois au lieu de 12), on paie plus d'intÃ©rÃªts au total.
            </div>
        </div>
    </div>
</div>

<!-- QUESTION 4 -->
<div class="question-card" id="q4">
    <div class="question-header">
        <div class="question-number">4</div>
        <span class="competence-tag">C3</span>
        <button class="btn-lire-question" onclick="lireQuestion(4)">ğŸ”Š Lire</button>
    </div>
    <div class="question-body">
        <div class="question-text">
            <span class="verbe">Dire</span> quels sont les 2 Ã©lÃ©ments qui font qu'un crÃ©dit coÃ»te plus ou moins cher.
        </div>
        <div class="answer-zone">
            <div class="answer-label">âœï¸ Ã‰cris les 2 Ã©lÃ©ments :</div>
            <textarea class="answer-input" placeholder="1. ...\n2. ..." onchange="checkProgress()"></textarea>
        </div>
        <div class="btn-group">
            <button class="btn btn-aide" onclick="toggle('aide4')">ğŸ’¡ AIDE</button>
            <button class="btn btn-corrige" onclick="toggle('corr4'); checkProgress()">âœ… VOIR LA RÃ‰PONSE</button>
        </div>
        <div class="aide-box" id="aide4">
            <div class="box-title">ğŸ’¡ JE T'AIDE :</div>
            <div class="box-content">
                <p>Regarde le Document A. Compare le crÃ©dit A et le crÃ©dit B :</p>
                <p><span class="etape">1</span> La DURÃ‰E est diffÃ©rente : 12 mois vs 18 mois</p>
                <p><span class="etape">2</span> Le TAEG (= le taux) est diffÃ©rent : 15% vs 17,90%</p>
                <div class="astuce-box">
                    Ces 2 choses changent le prix total du crÃ©dit !
                </div>
            </div>
        </div>
        <div class="corrige-box" id="corr4">
            <div class="box-title">âœ… LA BONNE RÃ‰PONSE :</div>
            <div class="corrige-answer">
                1. Le taux (TAEG)<br>
                2. La durÃ©e
            </div>
            <div class="explication">
                <strong>ğŸ’¡ EXPLICATION SIMPLE :</strong><br><br>
                <strong>Le TAUX (TAEG) :</strong> C'est le prix qu'on paie pour emprunter l'argent. Plus il est haut, plus on paie cher !<br><br>
                <strong>La DURÃ‰E :</strong> Plus on emprunte longtemps, plus on paie d'intÃ©rÃªts !<br><br>
                <strong>EXEMPLE :</strong> Si tu empruntes 500 â‚¬ :<br>
                â€¢ Pendant 12 mois avec un taux de 15% â†’ tu paies 538 â‚¬<br>
                â€¢ Pendant 18 mois avec un taux de 17,90% â†’ tu paies 568 â‚¬
            </div>
            <div class="piege-box">
                <strong>âš ï¸ Ã€ RETENIR :</strong> Taux Ã©levÃ© OU durÃ©e longue = crÃ©dit plus cher !
            </div>
        </div>
    </div>
</div>

<!-- Espace pour d'autres questions... -->
<div style="height: 150px;"></div>

</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CALCULATRICE FLOTTANTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="calc-container">
    <button class="calc-toggle" id="calc-toggle" onclick="toggleCalculatrice()" title="Calculatrice">
        ğŸ§®
    </button>
    <div class="calculatrice" id="calculatrice">
        <div class="calc-header">
            <div class="calc-title">ğŸ§® Calculatrice</div>
            <button class="calc-close" onclick="toggleCalculatrice()">Ã—</button>
        </div>
        <div class="calc-display" id="calc-display">0</div>
        <div class="calc-buttons">
            <button class="calc-btn" onclick="calcAppend('7')">7</button>
            <button class="calc-btn" onclick="calcAppend('8')">8</button>
            <button class="calc-btn" onclick="calcAppend('9')">9</button>
            <button class="calc-btn operator" onclick="calcOp('/')">Ã·</button>
            <button class="calc-btn" onclick="calcAppend('4')">4</button>
            <button class="calc-btn" onclick="calcAppend('5')">5</button>
            <button class="calc-btn" onclick="calcAppend('6')">6</button>
            <button class="calc-btn operator" onclick="calcOp('*')">Ã—</button>
            <button class="calc-btn" onclick="calcAppend('1')">1</button>
            <button class="calc-btn" onclick="calcAppend('2')">2</button>
            <button class="calc-btn" onclick="calcAppend('3')">3</button>
            <button class="calc-btn operator" onclick="calcOp('-')">âˆ’</button>
            <button class="calc-btn" onclick="calcAppend('0')">0</button>
            <button class="calc-btn" onclick="calcAppend(',')">,</button>
            <button class="calc-btn equals" onclick="calcEquals()">=</button>
            <button class="calc-btn operator" onclick="calcOp('+')">+</button>
            <button class="calc-btn clear" onclick="calcClear()">C</button>
        </div>
    </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     FEEDBACK GLOBAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="feedback-global"></div>

<script>
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // VARIABLES GLOBALES
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    let soundEnabled = true;
    let zoomLevel = 1;
    let questionsRepondues = new Set();
    const TOTAL_QUESTIONS = 4; // Ã€ ajuster selon le nombre de questions

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // QUESTIONS (textes pour lecture vocale)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const questionsTextes = {
        1: "Question 1. Dire quel est le problÃ¨me de Quentin.",
        2: "Question 2. Trouver les informations importantes sur Quentin. Ce qu'il veut acheter, combien Ã§a coÃ»te, son salaire, le crÃ©dit qu'il paie dÃ©jÃ , et le nouveau crÃ©dit proposÃ©.",
        3: "Question 3. Choisir le crÃ©dit le moins cher. CrÃ©dit A ou CrÃ©dit B ?",
        4: "Question 4. Dire quels sont les 2 Ã©lÃ©ments qui font qu'un crÃ©dit coÃ»te plus ou moins cher."
    };

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SYNTHÃˆSE VOCALE
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function speak(text) {
        if (!soundEnabled) return;
        try {
            if (!window.speechSynthesis) return;
            window.speechSynthesis.cancel();
            const msg = new SpeechSynthesisUtterance(text);
            msg.lang = "fr-FR";
            msg.rate = 0.9;
            window.speechSynthesis.speak(msg);
        } catch(e) {}
    }

    function toggleSon() {
        soundEnabled = !soundEnabled;
        document.getElementById("btn-son").textContent = soundEnabled ? "ğŸ”ˆ Son : ON" : "ğŸ”‡ Son : OFF";
        if (!soundEnabled && window.speechSynthesis) {
            window.speechSynthesis.cancel();
        }
    }

    function lireConsigneGenerale() {
        speak("Module D2 : Le crÃ©dit Ã  la consommation. Objectif : Savoir prendre un crÃ©dit sans se mettre en danger financier. Lis chaque question, utilise l'aide si besoin, puis regarde la correction.");
    }

    function lireQuestion(num) {
        if (questionsTextes[num]) {
            speak(questionsTextes[num]);
        }
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ZOOM
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function zoomPlus() {
        if (zoomLevel < 1.6) {
            zoomLevel += 0.15;
            document.body.style.fontSize = zoomLevel + 'rem';
            speak("Texte agrandi");
        }
    }

    function zoomMoins() {
        if (zoomLevel > 0.7) {
            zoomLevel -= 0.15;
            document.body.style.fontSize = zoomLevel + 'rem';
            speak("Texte rÃ©duit");
        }
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // TOGGLE AIDE / CORRIGÃ‰
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function toggle(id) {
        const el = document.getElementById(id);
        el.classList.toggle('visible');
        
        // Marquer comme rÃ©pondu si c'est un corrigÃ©
        if (id.startsWith('corr')) {
            const qNum = id.replace('corr', '');
            questionsRepondues.add(qNum);
            checkProgress();
        }
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // PROGRESSION
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function checkProgress() {
        const count = questionsRepondues.size;
        document.getElementById("progress-count").textContent = count;
        const percent = (count / TOTAL_QUESTIONS) * 100;
        document.getElementById("progress-fill").style.width = percent + "%";
        
        if (count === TOTAL_QUESTIONS) {
            playFeedback(true, "ğŸ‰ Bravo ! Exercice terminÃ© !");
            speak("Bravo ! Tu as terminÃ© l'exercice sur le crÃ©dit !");
        }
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // FEEDBACK
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function playFeedback(isGood, text) {
        const fb = document.getElementById("feedback-global");
        fb.textContent = text;
        fb.style.display = "block";
        fb.style.backgroundColor = isGood ? "rgba(46, 125, 50, 0.95)" : "rgba(198, 40, 40, 0.95)";
        setTimeout(() => fb.style.display = "none", 2000);
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // CALCULATRICE
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    let calcVal = '0';
    let calcOper = null;
    let calcPrev = null;
    let calcWait = false;

    function toggleCalculatrice() {
        const calc = document.getElementById('calculatrice');
        const btn = document.getElementById('calc-toggle');
        calc.classList.toggle('visible');
        btn.classList.toggle('active');
        
        if (calc.classList.contains('visible')) {
            speak("Calculatrice ouverte");
        }
    }

    function updateCalcDisplay() {
        // Afficher avec virgule (format franÃ§ais)
        document.getElementById('calc-display').textContent = calcVal.replace('.', ',');
    }

    function calcClear() {
        calcVal = '0';
        calcOper = null;
        calcPrev = null;
        calcWait = false;
        updateCalcDisplay();
    }

    function calcAppend(n) {
        // Convertir virgule en point pour le calcul interne
        if (n === ',') n = '.';
        
        if (calcWait) {
            calcVal = n === '.' ? '0.' : String(n);
            calcWait = false;
        } else {
            // Ã‰viter plusieurs points
            if (n === '.' && calcVal.includes('.')) return;
            calcVal = calcVal === '0' && n !== '.' ? String(n) : calcVal + n;
        }
        updateCalcDisplay();
    }

    function calcOp(op) {
        const v = parseFloat(calcVal);
        if (calcPrev === null) {
            calcPrev = v;
        } else if (calcOper) {
            const r = calcCalc(calcPrev, v, calcOper);
            calcVal = String(r);
            calcPrev = r;
        }
        calcWait = true;
        calcOper = op;
        updateCalcDisplay();
    }

    function calcCalc(p, c, o) {
        switch(o) {
            case '+': return p + c;
            case '-': return p - c;
            case '*': return p * c;
            case '/': return c !== 0 ? p / c : 0;
            default: return c;
        }
    }

    function calcEquals() {
        const v = parseFloat(calcVal);
        if (calcPrev !== null && calcOper) {
            const r = calcCalc(calcPrev, v, calcOper);
            // Arrondir Ã  2 dÃ©cimales
            calcVal = String(Math.round(r * 100) / 100);
            calcOper = null;
            calcPrev = null;
            calcWait = true;
            updateCalcDisplay();
        }
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // INITIALISATION
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    document.addEventListener('DOMContentLoaded', function() {
        // Lecture automatique de la consigne aprÃ¨s 1 seconde
        setTimeout(() => {
            lireConsigneGenerale();
        }, 1000);
    });
</script>

</body>
</html>
