<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module B.5 - Laboratoire d'empreinte carbone - Terminale Bac Pro</title>
    <style>
        /* RESPONSIVE MOBILE-FIRST */
        :root {
            --primary-pse: #2E86AB;
            --secondary-pse: #A23B72;
            --success-pse: #219653;
            --warning-pse: #F2994A;
            --danger-pse: #EB5757;
            --dark-pse: #2F3542;
            --light-pse: #F1F2F6;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark-pse);
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        .exercice-container {
            width: 100%;
            max-width: 100vw;
            padding: 15px;
            font-size: 16px;
        }

        /* EN-T√äTE P√âDAGOGIQUE OBLIGATOIRE */
        .cadre-pedagogique {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-left: 6px solid var(--primary-pse);
        }

        .module-info h2 {
            color: var(--primary-pse);
            font-size: 1.4rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .objectif {
            background: var(--light-pse);
            padding: 12px;
            border-radius: 8px;
            margin: 15px 0;
            font-size: 0.95rem;
        }

        .competences-travaillees h3 {
            color: var(--secondary-pse);
            margin: 15px 0 10px 0;
            font-size: 1.1rem;
        }

        .competences-list {
            list-style: none;
            padding: 0;
        }

        .competences-list li {
            padding: 8px 12px;
            margin: 5px 0;
            border-radius: 6px;
            background: rgba(46, 134, 171, 0.1);
            border-left: 4px solid var(--primary-pse);
        }

        .niveau-cible {
            background: var(--success-pse);
            color: white;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            margin-top: 15px;
            font-weight: 600;
        }

        /* LABORATOIRE PRINCIPAL */
        .laboratoire-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .lab-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .lab-header h2 {
            color: var(--primary-pse);
            font-size: 1.6rem;
            margin-bottom: 10px;
        }

        .lab-header p {
            color: #666;
            font-size: 1rem;
        }

        /* √âTAPES DU LABORATOIRE */
        .etape-lab {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            margin: 20px 0;
            padding: 20px;
            border-left: 5px solid var(--warning-pse);
        }

        .etape-titre {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--secondary-pse);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .etape-numero {
            background: var(--warning-pse);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }

        /* CALCULATEUR INTERACTIF */
        .calculateur {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }

        .calc-row {
            display: grid;
            grid-template-columns: 1fr auto auto;
            gap: 15px;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
        }

        .calc-input {
            padding: 10px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            text-align: center;
            width: 80px;
        }

        .calc-result {
            font-weight: bold;
            background: rgba(255,255,255,0.2);
            padding: 8px 12px;
            border-radius: 6px;
            min-width: 80px;
            text-align: center;
        }

        /* GRAPHIQUES ET DONN√âES */
        .data-visual {
            background: white;
            border: 2px solid var(--light-pse);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .progress-bar {
            width: 100%;
            height: 25px;
            background: #e9ecef;
            border-radius: 12px;
            overflow: hidden;
            margin: 10px 0;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            transition: width 0.8s ease-in-out;
            border-radius: 12px;
            position: relative;
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: bold;
            font-size: 0.8rem;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        /* QUESTIONS INTERACTIVES */
        .question-block {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--primary-pse);
        }

        .question-competence {
            background: var(--primary-pse);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 10px;
        }

        .question-titre {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 10px 0;
            color: var(--dark-pse);
        }

        .reponse-option {
            display: block;
            margin: 10px 0;
            padding: 12px 15px;
            background: #f8f9fa;
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .reponse-option:hover {
            background: var(--light-pse);
            border-color: var(--primary-pse);
        }

        .reponse-option.correct {
            background: #d4edda;
            border-color: var(--success-pse);
            color: #155724;
        }

        .reponse-option.incorrect {
            background: #f8d7da;
            border-color: var(--danger-pse);
            color: #721c24;
        }

        /* FEEDBACK ET REM√âDIATION */
        .feedback {
            margin: 15px 0;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }

        .feedback.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .remediation {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            display: none;
        }

        .remediation h4 {
            color: var(--warning-pse);
            margin-bottom: 10px;
        }

        /* BOUTONS */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn-primary {
            background: var(--primary-pse);
            color: white;
        }

        .btn-primary:hover {
            background: #1f5f85;
            transform: translateY(-2px);
        }

        .btn-success {
            background: var(--success-pse);
            color: white;
        }

        .btn-warning {
            background: var(--warning-pse);
            color: white;
        }

        /* AUTO-√âVALUATION */
        .auto-evaluation {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
            text-align: center;
        }

        .competence-score {
            display: inline-block;
            margin: 10px;
            padding: 15px;
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            min-width: 120px;
        }

        /* FOOTER RGPD */
        .rgpd-footer {
            text-align: center;
            padding: 20px;
            background: var(--dark-pse);
            color: white;
            font-size: 0.9rem;
            margin-top: 40px;
        }

        /* RESPONSIVE */
        @media (min-width: 768px) {
            .exercice-container {
                padding: 20px;
                font-size: 17px;
            }
            .calc-row {
                grid-template-columns: 2fr auto auto;
            }
        }

        @media (min-width: 1024px) {
            .exercice-container {
                max-width: 900px;
                margin: 0 auto;
                padding: 30px;
                font-size: 18px;
            }
        }

        /* ANIMATIONS */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeInUp 0.6s ease-out;
        }

        /* √âCRAN R√âSULTATS */
        .resultats-finaux {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            text-align: center;
            display: none;
        }

        .score-global {
            font-size: 3rem;
            font-weight: bold;
            color: var(--success-pse);
            margin: 20px 0;
        }

        .competences-detail {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .competence-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--primary-pse);
        }
    </style>
</head>
<body>
    <div class="exercice-container">
        
        <!-- EN-T√äTE P√âDAGOGIQUE OBLIGATOIRE -->
        <div class="cadre-pedagogique">
            <div class="module-info">
                <h2>Module B.5 : Les ressources en √©nergie et le d√©veloppement durable</h2>
                <div class="objectif">
                    <strong>Objectif :</strong> Adopter un comportement √©cocitoyen afin de pr√©server les ressources en √©nergie
                </div>
            </div>
            
            <div class="competences-travaillees">
                <h3>Comp√©tences travaill√©es dans cet exercice :</h3>
                <ul class="competences-list">
                    <li><strong>C1</strong> - Traiter une information</li>
                    <li><strong>C2</strong> - Appliquer une d√©marche d'analyse dans une situation donn√©e</li>
                    <li><strong>C3</strong> - Expliquer un ph√©nom√®ne physiologique, un enjeu environnemental, une disposition r√©glementaire, en lien avec une mesure de pr√©vention</li>
                    <li><strong>C4</strong> - Proposer une solution pour r√©soudre un probl√®me</li>
                    <li><strong>C6</strong> - Communiquer √† l'√©crit et √† l'oral avec une syntaxe claire et un vocabulaire adapt√©</li>
                </ul>
            </div>
            
            <div class="niveau-cible">
                <strong>Niveau :</strong> Bac Pro Terminale
            </div>
        </div>

        <!-- LABORATOIRE PRINCIPAL -->
        <div class="laboratoire-container">
            <div class="lab-header">
                <h2>üß¨ Laboratoire d'Empreinte Carbone</h2>
                <p>Analysez, calculez et optimisez l'impact √©nerg√©tique dans votre futur environnement professionnel</p>
            </div>

            <!-- √âTAPE 1 : ANALYSE DE DONN√âES -->
            <div class="etape-lab fade-in" id="etape1">
                <div class="etape-titre">
                    <div class="etape-numero">1</div>
                    Analyse des donn√©es de consommation
                </div>
                
                <div class="question-block">
                    <div class="question-competence">C1 - Traiter une information</div>
                    <div class="question-titre">
                        D'apr√®s les donn√©es du module, quel est le poste de consommation √©nerg√©tique le plus important dans un logement ?
                    </div>
                    <div class="data-visual">
                        <h4>R√©partition par usage (hors carburant)</h4>
                        <div style="margin: 20px 0;">
                            <div style="display: flex; justify-content: space-between; margin: 10px 0;">
                                <span>Chauffage:</span>
                                <span>66%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 66%; background: #e74c3c;">
                                    <div class="progress-text">66%</div>
                                </div>
                            </div>
                            
                            <div style="display: flex; justify-content: space-between; margin: 10px 0;">
                                <span>√âlectrom√©nager & multim√©dia:</span>
                                <span>17%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 17%; background: #f39c12;">
                                    <div class="progress-text">17%</div>
                                </div>
                            </div>
                            
                            <div style="display: flex; justify-content: space-between; margin: 10px 0;">
                                <span>Eau chaude sanitaire:</span>
                                <span>11%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 11%; background: #3498db;">
                                    <div class="progress-text">11%</div>
                                </div>
                            </div>
                            
                            <div style="display: flex; justify-content: space-between; margin: 10px 0;">
                                <span>Cuisson:</span>
                                <span>6%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 6%; background: #2ecc71;">
                                    <div class="progress-text">6%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <label class="reponse-option" onclick="verifierReponse(1, 'a', true)">
                        <input type="radio" name="q1" value="a" style="margin-right: 10px;">
                        Le chauffage (66% de la consommation)
                    </label>
                    <label class="reponse-option" onclick="verifierReponse(1, 'b', false)">
                        <input type="radio" name="q1" value="b" style="margin-right: 10px;">
                        L'√©lectrom√©nager et le multim√©dia (17%)
                    </label>
                    <label class="reponse-option" onclick="verifierReponse(1, 'c', false)">
                        <input type="radio" name="q1" value="c" style="margin-right: 10px;">
                        L'eau chaude sanitaire (11%)
                    </label>
                    
                    <div class="feedback" id="feedback1"></div>
                    <div class="remediation" id="remediation1">
                        <h4>üí° Pour progresser :</h4>
                        <p>La lecture de graphiques et tableaux de donn√©es est essentielle en PSE. Identifiez toujours la donn√©e la plus importante (ici 66% pour le chauffage). Cette comp√©tence C1 sera √©valu√©e √† l'√©preuve terminale !</p>
                    </div>
                </div>
            </div>

            <!-- √âTAPE 2 : CALCULATEUR D'EMPREINTE CARBONE -->
            <div class="etape-lab" id="etape2" style="display: none;">
                <div class="etape-titre">
                    <div class="etape-numero">2</div>
                    Calculateur d'empreinte carbone des transports
                </div>
                
                <div class="calculateur">
                    <h3>üöó Calculez l'empreinte carbone d'un trajet Paris-Bordeaux</h3>
                    <p style="margin-bottom: 20px;">Donn√©es : Distance = 584 km | √âmissions moyennes par mode de transport :</p>
                    
                    <div class="calc-row">
                        <span>‚úàÔ∏è Avion (90 kg CO‚ÇÇ pour 584 km)</span>
                        <input type="number" class="calc-input" id="calc-avion" value="90" readonly>
                        <div class="calc-result">90 kg CO‚ÇÇ</div>
                    </div>
                    
                    <div class="calc-row">
                        <span>üöó Voiture (pour 4 passagers)</span>
                        <input type="number" class="calc-input" id="calc-voiture" value="40" readonly>
                        <div class="calc-result">40 kg CO‚ÇÇ</div>
                    </div>
                    
                    <div class="calc-row">
                        <span>üöå Car</span>
                        <input type="number" class="calc-input" id="calc-car" value="10" readonly>
                        <div class="calc-result">10 kg CO‚ÇÇ</div>
                    </div>
                    
                    <div class="calc-row">
                        <span>üöÑ Train</span>
                        <input type="number" class="calc-input" id="calc-train" value="2" readonly>
                        <div class="calc-result">2 kg CO‚ÇÇ</div>
                    </div>
                    
                    <button class="btn btn-warning" onclick="calculerDifference()">Calculer la diff√©rence</button>
                    <div id="resultat-calcul" style="margin-top: 15px; font-weight: bold;"></div>
                </div>

                <div class="question-block">
                    <div class="question-competence">C3 - Expliquer un ph√©nom√®ne environnemental</div>
                    <div class="question-titre">
                        Expliquez pourquoi le train a une empreinte carbone beaucoup plus faible que l'avion pour ce m√™me trajet.
                    </div>
                    
                    <label class="reponse-option" onclick="verifierReponse(2, 'a', true)">
                        <input type="radio" name="q2" value="a" style="margin-right: 10px;">
                        L'√©lectricit√© utilis√©e par les trains en France produit tr√®s peu de CO‚ÇÇ (nucl√©aire + renouvelables) contrairement aux carburants d'avion
                    </label>
                    <label class="reponse-option" onclick="verifierReponse(2, 'b', false)">
                        <input type="radio" name="q2" value="b" style="margin-right: 10px;">
                        Le train est plus l√©ger que l'avion
                    </label>
                    <label class="reponse-option" onclick="verifierReponse(2, 'c', false)">
                        <input type="radio" name="q2" value="c" style="margin-right: 10px;">
                        Le train roule moins vite donc consomme moins
                    </label>
                    
                    <div class="feedback" id="feedback2"></div>
                    <div class="remediation" id="remediation2">
                        <h4>üí° Approfondissement :</h4>
                        <p>En France, l'√©lectricit√© provient majoritairement du nucl√©aire (~70%) et des √©nergies renouvelables (~25%), √©mettant tr√®s peu de CO‚ÇÇ. Les avions utilisent du k√©ros√®ne, √©nergie fossile tr√®s √©mettrice. C'est pourquoi l'empreinte carbone du train est 45 fois plus faible !</p>
                    </div>
                </div>
            </div>

            <!-- √âTAPE 3 : ANALYSE DE CYCLE DE VIE -->
            <div class="etape-lab" id="etape3" style="display: none;">
                <div class="etape-titre">
                    <div class="etape-numero">3</div>
                    Analyse du cycle de vie : voiture √©lectrique vs thermique
                </div>
                
                <div class="data-visual">
                    <h4>√âmissions CO‚ÇÇ sur cycle de vie complet</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                        
                        <div style="text-align: center;">
                            <h5>üîã Voiture √©lectrique</h5>
                            <div style="margin: 15px 0;">
                                <div style="background: #e74c3c; color: white; padding: 8px; border-radius: 4px; margin: 5px 0;">
                                    Fabrication: 9 tonnes CO‚ÇÇ
                                </div>
                                <div style="background: #2ecc71; color: white; padding: 8px; border-radius: 4px; margin: 5px 0;">
                                    Utilisation: 2.34 tonnes CO‚ÇÇ
                                </div>
                                <div style="background: #3498db; color: white; padding: 15px; border-radius: 4px; margin: 10px 0; font-weight: bold;">
                                    TOTAL: 11.34 tonnes CO‚ÇÇ
                                </div>
                            </div>
                        </div>
                        
                        <div style="text-align: center;">
                            <h5>‚õΩ Voiture thermique</h5>
                            <div style="margin: 15px 0;">
                                <div style="background: #e74c3c; color: white; padding: 8px; border-radius: 4px; margin: 5px 0;">
                                    Fabrication: 3.74 tonnes CO‚ÇÇ
                                </div>
                                <div style="background: #c0392b; color: white; padding: 8px; border-radius: 4px; margin: 5px 0;">
                                    Utilisation: 18.26 tonnes CO‚ÇÇ
                                </div>
                                <div style="background: #8e44ad; color: white; padding: 15px; border-radius: 4px; margin: 10px 0; font-weight: bold;">
                                    TOTAL: 22 tonnes CO‚ÇÇ
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="question-block">
                    <div class="question-competence">C2 - Appliquer une d√©marche d'analyse</div>
                    <div class="question-titre">
                        En analysant ces donn√©es, quelle phase du cycle de vie a l'impact le plus important pour chaque type de v√©hicule ?
                    </div>
                    
                    <label class="reponse-option" onclick="verifierReponse(3, 'a', true)">
                        <input type="radio" name="q3" value="a" style="margin-right: 10px;">
                        V√©hicule √©lectrique : la fabrication (9/11.34 = 79%) | V√©hicule thermique : l'utilisation (18.26/22 = 83%)
                    </label>
                    <label class="reponse-option" onclick="verifierReponse(3, 'b', false)">
                        <input type="radio" name="q3" value="b" style="margin-right: 10px;">
                        Pour les deux v√©hicules, c'est la fabrication qui √©met le plus
                    </label>
                    <label class="reponse-option" onclick="verifierReponse(3, 'c', false)">
                        <input type="radio" name="q3" value="c" style="margin-right: 10px;">
                        Pour les deux v√©hicules, c'est l'utilisation qui √©met le plus
                    </label>
                    
                    <div class="feedback" id="feedback3"></div>
                    <div class="remediation" id="remediation3">
                        <h4>üí° M√©thodologie d'analyse :</h4>
                        <p><strong>√âtape 1 :</strong> Identifier les phases du cycle de vie<br>
                        <strong>√âtape 2 :</strong> Comparer les valeurs absolues<br>
                        <strong>√âtape 3 :</strong> Calculer les pourcentages<br>
                        <strong>Conclusion :</strong> Cette d√©marche d'analyse vous sera utile dans de nombreuses situations professionnelles !</p>
                    </div>
                </div>
            </div>

            <!-- √âTAPE 4 : PROPOSER DES SOLUTIONS -->
            <div class="etape-lab" id="etape4" style="display: none;">
                <div class="etape-titre">
                    <div class="etape-numero">4</div>
                    Proposer des solutions √©co-responsables
                </div>
                
                <div class="question-block">
                    <div class="question-competence">C4 - Proposer une solution pour r√©soudre un probl√®me</div>
                    <div class="question-titre">
                        Votre entreprise souhaite r√©duire de 30% ses √©missions de CO‚ÇÇ li√©es aux d√©placements professionnels. 
                        Proposez 3 mesures concr√®tes et justifiez leur efficacit√©.
                    </div>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 15px 0;">
                        <h4>üíº Contexte professionnel :</h4>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            <li>Entreprise de 200 salari√©s</li>
                            <li>Nombreux d√©placements Paris ‚Üî Lyon ‚Üî Marseille</li>
                            <li>Actuellement : 80% avion, 20% train</li>
                            <li>Budget d√©placements : 500 000‚Ç¨/an</li>
                        </ul>
                    </div>

                    <div style="margin: 20px 0;">
                        <h4>S√©lectionnez 3 mesures efficaces :</h4>
                        
                        <label class="reponse-option" onclick="toggleSolution('sol1')">
                            <input type="checkbox" id="sol1" style="margin-right: 10px;">
                            Remplacer 70% des vols Paris-Lyon par du train (TGV 3h vs avion 1h30 + temps a√©roport)
                        </label>
                        
                        <label class="reponse-option" onclick="toggleSolution('sol2')">
                            <input type="checkbox" id="sol2" style="margin-right: 10px;">
                            Mettre en place des visioconf√©rences pour 40% des r√©unions
                        </label>
                        
                        <label class="reponse-option" onclick="toggleSolution('sol3')">
                            <input type="checkbox" id="sol3" style="margin-right: 10px;">
                            Organiser des formations sur l'√©co-conduite pour les v√©hicules de service
                        </label>
                        
                        <label class="reponse-option" onclick="toggleSolution('sol4')">
                            <input type="checkbox" id="sol4" style="margin-right: 10px;">
                            Acheter des voitures plus r√©centes et plus puissantes
                        </label>
                        
                        <label class="reponse-option" onclick="toggleSolution('sol5')">
                            <input type="checkbox" id="sol5" style="margin-right: 10px;">
                            Encourager le covoiturage entre coll√®gues pour les trajets clients
                        </label>
                        
                        <label class="reponse-option" onclick="toggleSolution('sol6')">
                            <input type="checkbox" id="sol6" style="margin-right: 10px;">
                            Augmenter la fr√©quence des d√©placements pour maintenir les relations clients
                        </label>
                    </div>
                    
                    <button class="btn btn-primary" onclick="verifierSolutions()">Valider mes propositions</button>
                    
                    <div class="feedback" id="feedback4"></div>
                    <div class="remediation" id="remediation4">
                        <h4>üí° Comment bien proposer des solutions :</h4>
                        <p><strong>1. Analysez les causes</strong> du probl√®me (ici : transport tr√®s √©metteur)<br>
                        <strong>2. Quantifiez l'impact</strong> de chaque solution<br>
                        <strong>3. V√©rifiez la faisabilit√©</strong> technique et √©conomique<br>
                        <strong>4. Argumentez avec des donn√©es</strong> concr√®tes</p>
                    </div>
                </div>

                <div class="question-block">
                    <div class="question-competence">C6 - Communiquer avec vocabulaire adapt√©</div>
                    <div class="question-titre">
                        R√©digez un argumentaire de 3 phrases pour convaincre votre direction d'adopter ces mesures.
                    </div>
                    
                    <textarea id="argumentaire" 
                              style="width: 100%; height: 100px; padding: 15px; border: 2px solid #dee2e6; border-radius: 8px; font-family: inherit; font-size: 1rem;" 
                              placeholder="Votre argumentaire professionnel (utilisez le vocabulaire PSE appropri√© : empreinte carbone, transition √©nerg√©tique, d√©veloppement durable...)"></textarea>
                    
                    <button class="btn btn-success" onclick="analyserArgumentaire()">Analyser mon argumentaire</button>
                    
                    <div class="feedback" id="feedback-argumentaire"></div>
                </div>
            </div>

            <!-- AUTO-√âVALUATION PAR COMP√âTENCES -->
            <div class="auto-evaluation" id="evaluation" style="display: none;">
                <h3>üìä Votre progression par comp√©tences</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; margin: 20px 0;">
                    
                    <div class="competence-score">
                        <div style="font-size: 2rem; margin-bottom: 5px;">üìà</div>
                        <div><strong>C1</strong></div>
                        <div>Traiter l'information</div>
                        <div id="score-c1" style="font-size: 1.5rem; font-weight: bold; margin-top: 10px;">-</div>
                    </div>
                    
                    <div class="competence-score">
                        <div style="font-size: 2rem; margin-bottom: 5px;">üîç</div>
                        <div><strong>C2</strong></div>
                        <div>Analyser</div>
                        <div id="score-c2" style="font-size: 1.5rem; font-weight: bold; margin-top: 10px;">-</div>
                    </div>
                    
                    <div class="competence-score">
                        <div style="font-size: 2rem; margin-bottom: 5px;">üí°</div>
                        <div><strong>C3</strong></div>
                        <div>Expliquer</div>
                        <div id="score-c3" style="font-size: 1.5rem; font-weight: bold; margin-top: 10px;">-</div>
                    </div>
                    
                    <div class="competence-score">
                        <div style="font-size: 2rem; margin-bottom: 5px;">üéØ</div>
                        <div><strong>C4</strong></div>
                        <div>Proposer solutions</div>
                        <div id="score-c4" style="font-size: 1.5rem; font-weight: bold; margin-top: 10px;">-</div>
                    </div>
                    
                    <div class="competence-score">
                        <div style="font-size: 2rem; margin-bottom: 5px;">üí¨</div>
                        <div><strong>C6</strong></div>
                        <div>Communiquer</div>
                        <div id="score-c6" style="font-size: 1.5rem; font-weight: bold; margin-top: 10px;">-</div>
                    </div>
                </div>
                
                <button class="btn btn-warning" onclick="afficherResultatsFinaux()">Voir mes r√©sultats d√©taill√©s</button>
            </div>

            <!-- R√âSULTATS FINAUX -->
            <div class="resultats-finaux" id="resultats-finaux">
                <h2>üèÜ Bilan de votre laboratoire d'empreinte carbone</h2>
                
                <div class="score-global" id="score-global">85%</div>
                <p style="font-size: 1.2rem; color: #666; margin-bottom: 30px;">Excellent travail ! Vous ma√Ætrisez les enjeux √©nerg√©tiques</p>
                
                <div class="competences-detail">
                    <div class="competence-card">
                        <h4>üí™ Points forts</h4>
                        <ul style="text-align: left; margin: 10px 0;">
                            <li>Lecture de donn√©es</li>
                            <li>Calculs d'empreinte carbone</li>
                            <li>Analyse comparative</li>
                        </ul>
                    </div>
                    
                    <div class="competence-card">
                        <h4>üìà √Ä approfondir</h4>
                        <ul style="text-align: left; margin: 10px 0;">
                            <li>Argumentation structur√©e</li>
                            <li>Vocabulaire technique PSE</li>
                            <li>Solutions innovantes</li>
                        </ul>
                    </div>
                    
                    <div class="competence-card">
                        <h4>üéØ Pour l'√©preuve</h4>
                        <ul style="text-align: left; margin: 10px 0;">
                            <li>Vous √™tes pr√™t pour les calculs</li>
                            <li>Renforcez la r√©daction</li>
                            <li>M√©morisez le vocabulaire</li>
                        </ul>
                    </div>
                </div>
                
                <div style="background: #fff3cd; padding: 20px; border-radius: 8px; margin: 20px 0;">
                    <h4>üéØ Pr√©paration √©preuve terminale Bac Pro</h4>
                    <p><strong>Ce que vous savez faire :</strong></p>
                    <ul style="text-align: left; margin: 10px 0; padding-left: 20px;">
                        <li>‚úÖ Lire et analyser des documents techniques</li>
                        <li>‚úÖ Effectuer des calculs d'empreinte carbone</li>
                        <li>‚úÖ Comparer des solutions √©nerg√©tiques</li>
                        <li>‚úÖ Proposer des mesures √©co-responsables</li>
                    </ul>
                    
                    <p><strong>Pour perfectionner :</strong></p>
                    <ul style="text-align: left; margin: 10px 0; padding-left: 20px;">
                        <li>üî∏ Structurer vos r√©ponses en 3 parties</li>
                        <li>üî∏ Utiliser syst√©matiquement le vocabulaire PSE</li>
                        <li>üî∏ Justifier vos choix avec des donn√©es chiffr√©es</li>
                    </ul>
                </div>
                
                <button class="btn btn-primary" onclick="recommencerLaboratoire()">üîÑ Refaire le laboratoire</button>
                <button class="btn btn-success" onclick="window.print()">üñ®Ô∏è Imprimer mes r√©sultats</button>
            </div>

            <!-- NAVIGATION ENTRE √âTAPES -->
            <div style="text-align: center; margin: 30px 0;">
                <button class="btn btn-primary" id="btn-suivant" onclick="etapeSuivante()" style="display: none;">
                    √âtape suivante ‚Üí
                </button>
            </div>
        </div>

        <!-- FOOTER RGPD OBLIGATOIRE -->
        <div class="rgpd-footer">
            üîí Conformit√© RGPD : Cet exercice respecte votre anonymat.
        </div>
    </div>

    <script>
        // Variables globales
        let etapeActuelle = 1;
        let scores = {
            c1: 0,
            c2: 0,
            c3: 0,
            c4: 0,
            c6: 0
        };
        let solutionsSelectionnees = [];

        // Fonction de v√©rification des r√©ponses
        function verifierReponse(etape, reponse, correct) {
            const feedbackElement = document.getElementById(`feedback${etape}`);
            const remediationElement = document.getElementById(`remediation${etape}`);
            const options = document.querySelectorAll(`input[name="q${etape}"]`);
            
            // D√©sactiver toutes les options
            options.forEach(option => {
                option.disabled = true;
                option.parentElement.style.pointerEvents = 'none';
            });
            
            // MARQUER TOUTES LES R√âPONSES VISUELLEMENT
            options.forEach(option => {
                const isCorrectOption = (etape === 1 && option.value === 'a') || 
                                      (etape === 2 && option.value === 'a') || 
                                      (etape === 3 && option.value === 'a');
                
                if (isCorrectOption) {
                    // Marquer la bonne r√©ponse en vert
                    option.parentElement.classList.add('correct');
                    option.parentElement.style.background = '#d4edda';
                    option.parentElement.style.borderColor = '#28a745';
                    option.parentElement.style.borderWidth = '3px';
                    option.parentElement.innerHTML = '‚úÖ ' + option.parentElement.innerHTML.replace('‚úÖ ', '');
                } else {
                    // Marquer les mauvaises r√©ponses
                    option.parentElement.style.background = '#f8d7da';
                    option.parentElement.style.borderColor = '#dc3545';
                    option.parentElement.style.borderWidth = '2px';
                    option.parentElement.style.opacity = '0.7';
                    option.parentElement.innerHTML = '‚ùå ' + option.parentElement.innerHTML.replace('‚ùå ', '');
                }
            });
            
            if (correct) {
                feedbackElement.className = 'feedback success';
                feedbackElement.innerHTML = '‚úÖ <strong>Excellent !</strong> Vous avez correctement trait√© l\'information.';
                feedbackElement.style.display = 'block';
                
                // Mise √† jour des scores selon l'√©tape
                if (etape === 1) scores.c1 = 100;
                if (etape === 2) scores.c3 = 100;
                if (etape === 3) scores.c2 = 100;
                
                setTimeout(() => {
                    document.getElementById('btn-suivant').style.display = 'inline-block';
                }, 1000);
                
            } else {
                feedbackElement.className = 'feedback error';
                
                // Messages personnalis√©s selon l'√©tape
                let messageCorrection = '';
                if (etape === 1) {
                    messageCorrection = `
                        <h4>‚ùå CORRECTION</h4>
                        <div style="background: #fff; padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <strong>‚úÖ LA BONNE R√âPONSE :</strong><br>
                            <span style="color: #28a745; font-weight: bold;">Le chauffage (66% de la consommation)</span>
                        </div>
                        <div style="background: #fff3cd; padding: 10px; border-radius: 8px;">
                            <strong>üí° EXPLICATION :</strong> D'apr√®s le graphique, le chauffage repr√©sente 66% de la consommation √©nerg√©tique du logement, soit les 2/3 de la consommation totale.
                        </div>
                    `;
                } else if (etape === 2) {
                    messageCorrection = `
                        <h4>‚ùå CORRECTION</h4>
                        <div style="background: #fff; padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <strong>‚úÖ LA BONNE R√âPONSE :</strong><br>
                            <span style="color: #28a745; font-weight: bold;">L'√©lectricit√© fran√ßaise √©met tr√®s peu de CO‚ÇÇ (nucl√©aire + renouvelables) contrairement aux carburants d'avion</span>
                        </div>
                        <div style="background: #fff3cd; padding: 10px; border-radius: 8px;">
                            <strong>üí° EXPLICATION :</strong> En France, 70% nucl√©aire + 25% renouvelables = √©lectricit√© tr√®s peu √©mettrice. Les avions utilisent du k√©ros√®ne (√©nergie fossile) tr√®s √©metteur de CO‚ÇÇ.
                        </div>
                    `;
                } else if (etape === 3) {
                    messageCorrection = `
                        <h4>‚ùå CORRECTION</h4>
                        <div style="background: #fff; padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <strong>‚úÖ LA BONNE R√âPONSE :</strong><br>
                            <span style="color: #28a745; font-weight: bold;">√âlectrique : fabrication 79% | Thermique : utilisation 83%</span>
                        </div>
                        <div style="background: #fff3cd; padding: 10px; border-radius: 8px;">
                            <strong>üí° CALCUL :</strong> √âlectrique 9/11.34 = 79% | Thermique 18.26/22 = 83%<br>
                            <strong>CONCLUSION :</strong> Strat√©gies diff√©rentes selon le type de v√©hicule !
                        </div>
                    `;
                }
                
                feedbackElement.innerHTML = messageCorrection;
                feedbackElement.style.display = 'block';
                remediationElement.style.display = 'block';
                
                // Score partiel
                if (etape === 1) scores.c1 = 50;
                if (etape === 2) scores.c3 = 50;
                if (etape === 3) scores.c2 = 50;
                
                setTimeout(() => {
                    document.getElementById('btn-suivant').style.display = 'inline-block';
                }, 2000);
            }
        }

        // Calculateur d'empreinte carbone
        function calculerDifference() {
            const avion = 90;
            const train = 2;
            const difference = avion - train;
            const facteur = Math.round(avion / train);
            
            document.getElementById('resultat-calcul').innerHTML = `
                <div style="background: rgba(255,255,255,0.3); padding: 15px; border-radius: 8px;">
                    üìä <strong>Diff√©rence :</strong> ${difference} kg CO‚ÇÇ<br>
                    üöÑ Le train √©met <strong>${facteur} fois moins</strong> de CO‚ÇÇ que l'avion !
                </div>
            `;
        }

        // Gestion des solutions multiples
        function toggleSolution(solutionId) {
            const checkbox = document.getElementById(solutionId);
            const solutionElement = checkbox.parentElement;
            
            if (checkbox.checked) {
                solutionElement.style.background = '#e8f5e8';
                solutionElement.style.borderColor = '#28a745';
                if (!solutionsSelectionnees.includes(solutionId)) {
                    solutionsSelectionnees.push(solutionId);
                }
            } else {
                solutionElement.style.background = '#f8f9fa';
                solutionElement.style.borderColor = 'transparent';
                solutionsSelectionnees = solutionsSelectionnees.filter(id => id !== solutionId);
            }
        }

        function verifierSolutions() {
            const bonnesSolutions = ['sol1', 'sol2', 'sol5']; // Train, visioconf, covoiturage
            const mauvaises = ['sol4', 'sol6']; // Voitures puissantes, plus de d√©placements
            
            let nbBonnes = 0;
            let nbMauvaises = 0;
            
            // D√âSACTIVER TOUTES LES CASES APR√àS VALIDATION
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.disabled = true;
                checkbox.parentElement.style.pointerEvents = 'none';
            });
            
            // AFFICHAGE EXPLICITE DE TOUTES LES R√âPONSES
            const solutions = {
                'sol1': { correct: true, explication: '‚úÖ EXCELLENT ! Le train √©met 45x moins de CO‚ÇÇ que l\'avion (2kg vs 90kg). Gain : -80% d\'√©missions.' },
                'sol2': { correct: true, explication: '‚úÖ EXCELLENT ! Les visioconf√©rences √©vitent 40% des d√©placements. Gain : -50% d\'√©missions transports.' },
                'sol3': { correct: false, explication: '‚ö†Ô∏è IMPACT LIMIT√â. L\'√©co-conduite r√©duit de 10-15% seulement. Priorit√© aux gros postes d\'√©mission.' },
                'sol4': { correct: false, explication: '‚ùå ERREUR MAJEURE ! Voitures puissantes = +30% d\'√©missions. Contraire √† l\'objectif de r√©duction.' },
                'sol5': { correct: true, explication: '‚úÖ EXCELLENT ! Covoiturage divise par 2 les √©missions par personne. Gain : -50% d\'√©missions.' },
                'sol6': { correct: false, explication: '‚ùå ERREUR MAJEURE ! Plus de d√©placements = plus d\'√©missions. Contraire √† l\'objectif -30%.' }
            };
            
            // Marquer TOUTES les r√©ponses visuellement
            Object.keys(solutions).forEach(sol => {
                const element = document.getElementById(sol).parentElement;
                const solution = solutions[sol];
                
                if (solution.correct) {
                    element.classList.add('correct');
                    element.style.background = '#d4edda';
                    element.style.borderColor = '#28a745';
                    element.style.borderWidth = '3px';
                    // Ajouter une ic√¥ne check
                    if (!element.querySelector('.check-icon')) {
                        element.innerHTML = '‚úÖ ' + element.innerHTML;
                        element.querySelector('input').style.display = 'none';
                    }
                } else {
                    element.classList.add('incorrect');
                    element.style.background = '#f8d7da';
                    element.style.borderColor = '#dc3545';
                    element.style.borderWidth = '3px';
                    // Ajouter une ic√¥ne croix
                    if (!element.querySelector('.cross-icon')) {
                        element.innerHTML = '‚ùå ' + element.innerHTML;
                        element.querySelector('input').style.display = 'none';
                    }
                }
            });
            
            // V√©rifier les s√©lections de l'utilisateur
            solutionsSelectionnees.forEach(sol => {
                if (bonnesSolutions.includes(sol)) {
                    nbBonnes++;
                } else if (mauvaises.includes(sol)) {
                    nbMauvaises++;
                }
            });
            
            const feedbackElement = document.getElementById('feedback4');
            
            if (nbBonnes >= 2 && nbMauvaises === 0) {
                scores.c4 = 100;
                feedbackElement.className = 'feedback success';
                feedbackElement.innerHTML = `
                    <h4>üèÜ EXCELLENT TRAVAIL !</h4>
                    <strong>Vous avez identifi√© les 3 mesures les plus efficaces :</strong><br>
                    <ul style="margin: 10px 0; padding-left: 20px;">
                        <li><strong>Train Paris-Lyon :</strong> -80% √©missions (2kg vs 90kg CO‚ÇÇ)</li>
                        <li><strong>Visioconf√©rences :</strong> -50% d√©placements √©vit√©s</li>
                        <li><strong>Covoiturage :</strong> -50% √©missions par personne</li>
                    </ul>
                    <strong>Objectif -30% largement atteint ! üëç</strong>
                `;
            } else {
                scores.c4 = Math.max(0, (nbBonnes - nbMauvaises) * 30);
                feedbackElement.className = 'feedback error';
                feedbackElement.innerHTML = `
                    <h4>‚ùå CORRECTION D√âTAILL√âE</h4>
                    <div style="background: #fff; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <strong>üéØ LES 3 BONNES R√âPONSES √âTAIENT :</strong><br>
                        <div style="color: #28a745; font-weight: bold; margin: 8px 0;">
                            ‚úÖ Train Paris-Lyon : -80% CO‚ÇÇ (2kg vs 90kg)<br>
                            ‚úÖ Visioconf√©rences : -50% d√©placements<br>
                            ‚úÖ Covoiturage : -50% √©missions/personne
                        </div>
                    </div>
                    
                    <div style="background: #fff; padding: 15px; border-radius: 8px; margin: 10px 0;">
                        <strong>‚ùå LES ERREURS √Ä √âVITER :</strong><br>
                        <div style="color: #dc3545; margin: 8px 0;">
                            ‚Ä¢ <strong>Voitures puissantes</strong> = +30% √©missions (inverse de l'objectif)<br>
                            ‚Ä¢ <strong>Plus de d√©placements</strong> = +√©missions (inverse de l'objectif)
                        </div>
                    </div>
                    
                    <div style="background: #fff3cd; padding: 10px; border-radius: 8px;">
                        <strong>üí° M√âTHODE :</strong> Pour r√©duire les √©missions, privil√©gier les solutions qui <em>√©vitent</em> ou <em>remplacent</em> les √©nergies fossiles !
                    </div>
                `;
                document.getElementById('remediation4').style.display = 'block';
            }
            
            // AFFICHER EXPLICATIONS D√âTAILL√âES POUR CHAQUE OPTION
            feedbackElement.innerHTML += `
                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
                    <h4>üìö EXPLICATIONS D√âTAILL√âES :</h4>
                    ${Object.keys(solutions).map(sol => `
                        <div style="margin: 10px 0; padding: 8px; border-left: 4px solid ${solutions[sol].correct ? '#28a745' : '#dc3545'};">
                            ${solutions[sol].explication}
                        </div>
                    `).join('')}
                </div>
            `;
            
            feedbackElement.style.display = 'block';
            setTimeout(() => {
                document.getElementById('btn-suivant').style.display = 'inline-block';
            }, 1500);
        }

        // Analyse de l'argumentaire
        function analyserArgumentaire() {
            const texte = document.getElementById('argumentaire').value.toLowerCase();
            const motsCles = ['empreinte carbone', 'co2', 'transition √©nerg√©tique', 'd√©veloppement durable', '√©conomie', 'environnement'];
            const feedbackElement = document.getElementById('feedback-argumentaire');
            
            let score = 0;
            let motsPresents = [];
            
            motsCles.forEach(mot => {
                if (texte.includes(mot)) {
                    score += 20;
                    motsPresents.push(mot);
                }
            });
            
            // Bonus pour structure
            if (texte.length > 150 && texte.length < 400) score += 20;
            
            scores.c6 = Math.min(100, score);
            
            if (score >= 80) {
                feedbackElement.className = 'feedback success';
                feedbackElement.innerHTML = `
                    ‚úÖ <strong>Argumentaire professionnel !</strong><br>
                    Vocabulaire PSE utilis√© : ${motsPresents.join(', ')}<br>
                    Structure et longueur appropri√©es.
                `;
            } else if (score >= 50) {
                feedbackElement.className = 'feedback';
                feedbackElement.style.background = '#fff3cd';
                feedbackElement.innerHTML = `
                    üîÑ <strong>Bon d√©but !</strong> Int√©grez plus de vocabulaire PSE : empreinte carbone, transition √©nerg√©tique, d√©veloppement durable...
                `;
            } else {
                feedbackElement.className = 'feedback error';
                feedbackElement.innerHTML = `
                    ‚ùå <strong>√Ä refaire :</strong> Utilisez le vocabulaire PSE professionnel et structurez vos arguments en 3 phrases.
                `;
            }
            
            feedbackElement.style.display = 'block';
            
            // Activer l'√©valuation finale
            setTimeout(() => {
                document.getElementById('evaluation').style.display = 'block';
                afficherScores();
            }, 2000);
        }

        // Navigation entre √©tapes
        function etapeSuivante() {
            // Masquer l'√©tape actuelle
            document.getElementById(`etape${etapeActuelle}`).style.display = 'none';
            document.getElementById('btn-suivant').style.display = 'none';
            
            etapeActuelle++;
            
            // Afficher l'√©tape suivante
            if (etapeActuelle <= 4) {
                document.getElementById(`etape${etapeActuelle}`).style.display = 'block';
                document.getElementById(`etape${etapeActuelle}`).classList.add('fade-in');
            }
        }

        // Affichage des scores par comp√©tence
        function afficherScores() {
            document.getElementById('score-c1').textContent = scores.c1 + '%';
            document.getElementById('score-c2').textContent = scores.c2 + '%';
            document.getElementById('score-c3').textContent = scores.c3 + '%';
            document.getElementById('score-c4').textContent = scores.c4 + '%';
            document.getElementById('score-c6').textContent = scores.c6 + '%';
            
            // Couleurs selon la performance
            Object.keys(scores).forEach(competence => {
                const scoreElement = document.getElementById(`score-${competence}`);
                if (scores[competence] >= 80) {
                    scoreElement.style.color = '#28a745';
                } else if (scores[competence] >= 60) {
                    scoreElement.style.color = '#ffc107';
                } else {
                    scoreElement.style.color = '#dc3545';
                }
            });
        }

        // R√©sultats finaux
        function afficherResultatsFinaux() {
            const scoreGlobal = Math.round((scores.c1 + scores.c2 + scores.c3 + scores.c4 + scores.c6) / 5);
            document.getElementById('score-global').textContent = scoreGlobal + '%';
            document.getElementById('resultats-finaux').style.display = 'block';
            document.getElementById('evaluation').style.display = 'none';
        }

        // Recommencer le laboratoire
        function recommencerLaboratoire() {
            location.reload();
        }

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üß¨ Laboratoire d\'empreinte carbone PSE charg√© !');
            
            // Animation d'entr√©e
            setTimeout(() => {
                document.querySelector('.laboratoire-container').classList.add('fade-in');
            }, 500);
        });
    </script>
</body>
</html>