<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module A4 - Analyse de Situation : Cons√©quences et cadre l√©gal - Seconde Bac Pro</title>
    <style>
        :root {
            --primary-pse: #2E86AB;
            --secondary-pse: #A23B72;
            --success-pse: #219653;
            --warning-pse: #F2994A;
            --danger-pse: #EB5757;
            --dark-pse: #2F3542;
            --light-pse: #F1F2F6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            font-size: 16px;
            line-height: 1.6;
        }

        .exercice-container {
            width: 100%;
            max-width: 100vw;
            padding: 15px;
        }

        /* EN-T√äTE P√âDAGOGIQUE OBLIGATOIRE */
        .cadre-pedagogique {
            background: linear-gradient(135deg, var(--primary-pse), var(--secondary-pse));
            color: white;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .module-info h2 {
            font-size: 1.8em;
            margin-bottom: 15px;
            text-align: center;
        }

        .objectif {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 5px solid var(--warning-pse);
        }

        .competences-travaillees h3 {
            margin-bottom: 10px;
            color: var(--warning-pse);
        }

        .competences-list {
            list-style: none;
            margin-bottom: 15px;
        }

        .competences-list li {
            background: rgba(255,255,255,0.1);
            margin: 8px 0;
            padding: 12px;
            border-radius: 8px;
            border-left: 5px solid #9B59B6;
        }

        .niveau-cible {
            text-align: center;
            font-weight: bold;
            background: rgba(255,255,255,0.2);
            padding: 10px;
            border-radius: 8px;
        }

        /* EXERCICE PRINCIPAL */
        .exercice-principal {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .scenario-intro {
            background: linear-gradient(135deg, #FFF3E0, #FFE0B2);
            padding: 20px;
            border-radius: 12px;
            border-left: 5px solid var(--warning-pse);
            margin-bottom: 25px;
        }

        .scenario-intro h3 {
            color: var(--dark-pse);
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .cas-etude {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid var(--danger-pse);
        }

        .profil-personne {
            display: flex;
            align-items: center;
            gap: 15px;
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .photo-profil {
            width: 80px;
            height: 80px;
            background: var(--primary-pse);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2em;
            font-weight: bold;
        }

        .info-personne h4 {
            color: var(--dark-pse);
            margin-bottom: 5px;
        }

        .info-personne .situation {
            color: #666;
            font-style: italic;
            margin-bottom: 8px;
        }

        .info-personne .addiction-type {
            background: var(--danger-pse);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            display: inline-block;
        }

        .question-section {
            margin: 30px 0;
            padding: 25px;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.08);
            border-left: 5px solid var(--primary-pse);
        }

        .question-title {
            color: var(--primary-pse);
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .competence-badge {
            background: var(--primary-pse);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .competence-badge.c2 {
            background: #3498DB;
        }

        .competence-badge.c5 {
            background: #9B59B6;
        }

        /* CONS√âQUENCES INTERACTIVES */
        .consequence-card {
            background: white;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 15px;
            margin: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .consequence-card:hover {
            border-color: var(--primary-pse);
            background: #e3f2fd;
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(46, 134, 171, 0.2);
        }

        .consequence-card.selected {
            border-color: var(--warning-pse);
            background: #fff3e0;
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
        }

        .consequence-card.correct {
            background: #e8f5e8 !important;
            border-color: var(--success-pse) !important;
            color: var(--success-pse);
        }

        .consequence-card.incorrect {
            background: #ffebee !important;
            border-color: var(--danger-pse) !important;
            color: var(--danger-pse);
        }

        .consequence-card .icon {
            font-size: 2em;
            margin-bottom: 8px;
        }

        .consequence-card .label {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .consequence-card .description {
            font-size: 0.9em;
            color: #666;
        }

        .consequence-card::after {
            content: "";
            position: absolute;
            top: 10px;
            right: 10px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid #ccc;
        }

        .consequence-card.correct::after {
            content: "‚úì";
            background: var(--success-pse);
            border-color: var(--success-pse);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8em;
        }

        .consequence-card.incorrect::after {
            content: "‚úó";
            background: var(--danger-pse);
            border-color: var(--danger-pse);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8em;
        }

        /* GRILLE RESPONSIVE */
        .grid-consequences {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        /* SYST√àME L√âGAL */
        .tableau-legal {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .tableau-legal th {
            background: var(--dark-pse);
            color: white;
            padding: 15px;
            text-align: left;
        }

        .tableau-legal td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }

        .tableau-legal tr:hover {
            background: #f8f9fa;
        }

        .substance-licite {
            background: #e8f5e8;
            color: var(--success-pse);
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
        }

        .substance-illicite {
            background: #ffebee;
            color: var(--danger-pse);
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
        }

        /* SANCTIONS */
        .sanction-box {
            background: #fff5f5;
            border: 1px solid #fed7d7;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border-left: 5px solid var(--danger-pse);
        }

        .sanction-title {
            font-weight: bold;
            color: var(--danger-pse);
            margin-bottom: 8px;
        }

        /* DRAG & DROP ALTERNATIF : CLIC-S√âLECTION */
        .element-draggable {
            background: #e3f2fd;
            border: 2px solid #2196F3;
            padding: 10px;
            margin: 8px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 500;
        }

        .element-draggable:hover {
            background: #bbdefb;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.3);
        }

        .element-draggable.selected {
            border: 3px solid var(--warning-pse);
            background: #FFA726;
            color: white;
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(255, 167, 38, 0.4);
        }

        .zone-depot {
            min-height: 120px;
            border: 3px dashed #ccc;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            background: #fafafa;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #666;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .zone-depot:hover, .zone-depot.active {
            border-color: var(--primary-pse);
            background: #e3f2fd;
            color: var(--primary-pse);
        }

        .zone-depot.filled {
            background: var(--success-pse);
            color: white;
            border-color: var(--success-pse);
        }

        .instructions-interaction {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 5px solid var(--success-pse);
        }

        .instructions-interaction h5 {
            color: var(--success-pse);
            margin-bottom: 8px;
        }

        /* CORRECTION EXPLICITE OBLIGATOIRE */
        .correction-explicite {
            background: linear-gradient(135deg, #2a2a3e, #1e1e2f);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            display: none;
        }

        .correction-explicite.visible {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .correction-explicite h4 {
            color: var(--danger-pse);
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .correction-explicite .bonne-reponse {
            background: rgba(33, 150, 67, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 5px solid var(--success-pse);
        }

        .correction-explicite .explication {
            background: rgba(255, 193, 7, 0.1);
            padding: 15px;
            border-radius: 10px;
            border-left: 5px solid var(--warning-pse);
        }

        .btn-validation {
            background: var(--success-pse);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            margin: 20px 10px;
            transition: all 0.3s ease;
        }

        .btn-validation:hover {
            background: #1e7e34;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(33, 150, 67, 0.3);
        }

        .btn-action {
            background: var(--primary-pse);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        .btn-action:hover {
            background: var(--secondary-pse);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* √âVALUATION COMP√âTENCES */
        .evaluation-competences {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            border-left: 5px solid var(--secondary-pse);
        }

        .competence-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 5px solid #ddd;
            transition: all 0.3s ease;
        }

        .competence-item.acquired {
            border-left-color: var(--success-pse);
            background: #e8f5e8;
        }

        .competence-item.partial {
            border-left-color: var(--warning-pse);
            background: #fff8e1;
        }

        .competence-item.not-acquired {
            border-left-color: var(--danger-pse);
            background: #ffebee;
        }

        .score-display {
            background: var(--primary-pse);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
            font-size: 1.2em;
            font-weight: bold;
        }

        /* FOOTER RGPD √âPUR√â */
        .rgpd-notice {
            text-align: center;
            padding: 15px;
            background: var(--dark-pse);
            color: white;
            font-size: 0.9em;
            margin-top: 30px;
        }

        /* RESPONSIVE DESIGN */
        @media (min-width: 768px) {
            .exercice-container {
                padding: 20px;
                font-size: 17px;
            }
            
            .cadre-pedagogique {
                padding: 30px;
            }
            
            .exercice-principal {
                padding: 35px;
            }

            .grid-consequences {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }
        }

        @media (min-width: 1024px) {
            .exercice-container {
                max-width: 900px;
                margin: 0 auto;
                padding: 30px;
                font-size: 18px;
            }
            
            .module-info h2 {
                font-size: 2.2em;
            }

            .grid-consequences {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* ANIMATIONS */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: slideIn 0.5s ease;
        }

        /* ALERTES */
        .alerte-info {
            background: #e3f2fd;
            border: 1px solid #90caf9;
            color: #1565c0;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 5px solid var(--primary-pse);
        }
    </style>
</head>
<body>
    <div class="exercice-container">
        
        <!-- EN-T√äTE P√âDAGOGIQUE OBLIGATOIRE -->
        <div class="cadre-pedagogique">
            <div class="module-info">
                <h2>Module A4 : Les addictions</h2>
                <div class="objectif">
                    <strong>Objectif :</strong> Agir en citoyen responsable vis-√†-vis des comportements √† risques et des conduites addictives
                </div>
            </div>
            
            <div class="competences-travaillees">
                <h3>Comp√©tences travaill√©es dans cet exercice :</h3>
                <ul class="competences-list">
                    <li><strong>C1</strong> - Traiter une information</li>
                    <li><strong>C2</strong> - Appliquer une d√©marche d'analyse dans une situation donn√©e</li>
                    <li><strong>C5</strong> - Argumenter un choix</li>
                </ul>
            </div>
            
            <div class="niveau-cible">
                <strong>Niveau :</strong> Bac Pro Seconde
            </div>
        </div>

        <!-- EXERCICE PRINCIPAL -->
        <main class="exercice-principal">
            
            <!-- SCENARIO INTRODUCTION -->
            <div class="scenario-intro">
                <h3>‚öñÔ∏è MISSION : Analyse des cons√©quences des addictions</h3>
                <p><strong>Contexte :</strong> Vous √™tes stagiaire dans un tribunal pour mineurs. Le juge vous confie l'analyse de plusieurs dossiers de jeunes ayant des probl√®mes d'addiction pour comprendre l'impact sur leur vie sociale, familiale et professionnelle.</p>
                <p><strong>Objectif :</strong> Analyser les cons√©quences multiples des addictions et comprendre le cadre r√©glementaire fran√ßais.</p>
                <p><strong>Dur√©e estim√©e :</strong> 35-40 minutes</p>
            </div>

            <!-- PR√âSENTATION DES CAS -->
            <div class="cas-etude">
                <h4>üìÅ DOSSIERS √Ä ANALYSER</h4>
                
                <div class="profil-personne">
                    <div class="photo-profil">K</div>
                    <div class="info-personne">
                        <h4>Kevin, 17 ans</h4>
                        <p class="situation">Apprenti en m√©canique, consomme de l'alcool quotidiennement</p>
                        <span class="addiction-type">Alcool</span>
                    </div>
                </div>

                <div class="profil-personne">
                    <div class="photo-profil" style="background: var(--secondary-pse);">L</div>
                    <div class="info-personne">
                        <h4>Lisa, 16 ans</h4>
                        <p class="situation">√âtudiante en coiffure, addiction aux jeux vid√©o (15h/jour)</p>
                        <span class="addiction-type">Jeux vid√©o</span>
                    </div>
                </div>

                <div class="profil-personne">
                    <div class="photo-profil" style="background: var(--danger-pse);">M</div>
                    <div class="info-personne">
                        <h4>Malik, 18 ans</h4>
                        <p class="situation">√âtudiant en BTS, consommation r√©guli√®re de cannabis</p>
                        <span class="addiction-type">Cannabis</span>
                    </div>
                </div>
            </div>

            <!-- QUESTION 1 : CONS√âQUENCES PERSONNELLES ET SOCIALES -->
            <div class="question-section">
                <div class="question-title">
                    <span class="competence-badge c2">C2</span>
                    Question 1 : Analyser les cons√©quences des addictions
                </div>

                <div class="instructions-interaction">
                    <h5>üì± COMMENT PROC√âDER :</h5>
                    <p><strong>1.</strong> Cliquez sur les cons√©quences qui peuvent affecter Kevin, Lisa et Malik <strong>2.</strong> S√©lectionnez toutes celles qui vous semblent pertinentes <strong>3.</strong> Validez votre analyse</p>
                </div>

                <p><strong>Le juge vous demande d'identifier toutes les cons√©quences possibles des addictions sur la vie de ces jeunes. Cliquez sur celles qui sont r√©ellement li√©es aux addictions :</strong></p>

                <div class="grid-consequences">
                    <div class="consequence-card" data-consequence="isolement" data-correct="true">
                        <div class="icon">üë§</div>
                        <div class="label">Isolement social</div>
                        <div class="description">Perte d'amis, repli sur soi</div>
                    </div>

                    <div class="consequence-card" data-consequence="sante" data-correct="true">
                        <div class="icon">üè•</div>
                        <div class="label">Probl√®mes de sant√©</div>
                        <div class="description">Maladies physiques et mentales</div>
                    </div>

                    <div class="consequence-card" data-consequence="echec" data-correct="true">
                        <div class="icon">üìö</div>
                        <div class="label">√âchec scolaire/professionnel</div>
                        <div class="description">Absent√©isme, baisse des performances</div>
                    </div>

                    <div class="consequence-card" data-consequence="sport" data-correct="false">
                        <div class="icon">‚öΩ</div>
                        <div class="label">Am√©lioration sportive</div>
                        <div class="description">Meilleures performances physiques</div>
                    </div>

                    <div class="consequence-card" data-consequence="famille" data-correct="true">
                        <div class="icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
                        <div class="label">Conflits familiaux</div>
                        <div class="description">Tensions, ruptures familiales</div>
                    </div>

                    <div class="consequence-card" data-consequence="financier" data-correct="true">
                        <div class="icon">üí∏</div>
                        <div class="label">Difficult√©s financi√®res</div>
                        <div class="description">Endettement, co√ªt des substances</div>
                    </div>

                    <div class="consequence-card" data-consequence="creativite" data-correct="false">
                        <div class="icon">üé®</div>
                        <div class="label">Boost de cr√©ativit√©</div>
                        <div class="description">Plus d'imagination et d'inspiration</div>
                    </div>

                    <div class="consequence-card" data-consequence="accidents" data-correct="true">
                        <div class="icon">üöó</div>
                        <div class="label">Risque d'accidents</div>
                        <div class="description">Conduite, travail, vie quotidienne</div>
                    </div>

                    <div class="consequence-card" data-consequence="legal" data-correct="true">
                        <div class="icon">‚öñÔ∏è</div>
                        <div class="label">Probl√®mes judiciaires</div>
                        <div class="description">Infractions, casier judiciaire</div>
                    </div>
                </div>

                <p id="compteur-consequences" style="color: var(--primary-pse); font-weight: bold;">0 cons√©quence s√©lectionn√©e</p>

                <button class="btn-validation" onclick="verifierConsequences()">‚úì Valider mon analyse des cons√©quences</button>

                <div id="correction-q1" class="correction-explicite">
                    <h4>‚ùå CORRECTION CONS√âQUENCES</h4>
                    <div class="bonne-reponse">
                        <strong>‚úÖ VRAIES CONS√âQUENCES DES ADDICTIONS :</strong><br>
                        ‚Ä¢ <strong>Isolement social :</strong> La personne se coupe de ses proches<br>
                        ‚Ä¢ <strong>Probl√®mes de sant√© :</strong> Effets physiques et psychiques<br>
                        ‚Ä¢ <strong>√âchec scolaire/professionnel :</strong> Absent√©isme, perte d'emploi<br>
                        ‚Ä¢ <strong>Conflits familiaux :</strong> Tensions, violence, s√©parations<br>
                        ‚Ä¢ <strong>Difficult√©s financi√®res :</strong> Co√ªt des substances, endettement<br>
                        ‚Ä¢ <strong>Risque d'accidents :</strong> Diminution des r√©flexes<br>
                        ‚Ä¢ <strong>Probl√®mes judiciaires :</strong> Infractions, d√©lits
                    </div>
                    <div class="explication">
                        <strong>üí° ANALYSE POUR LE JUGE :</strong> Les addictions ont des cons√©quences multiples qui s'interconnectent. L'isolement social aggrave les probl√®mes psychologiques, l'√©chec scolaire entra√Æne des difficult√©s financi√®res, etc. C'est un cercle vicieux. Contrairement aux id√©es re√ßues, les substances n'am√©liorent ni la cr√©ativit√© ni les performances sportives de fa√ßon durable - c'est une illusion temporaire qui masque la d√©gradation progressive des capacit√©s.
                    </div>
                </div>
            </div>

            <!-- QUESTION 2 : CADRE R√âGLEMENTAIRE -->
            <div class="question-section">
                <div class="question-title">
                    <span class="competence-badge">C1</span>
                    Question 2 : Conna√Ætre le cadre l√©gal fran√ßais
                </div>

                <div class="alerte-info">
                    <strong>üìñ RAPPEL JURIDIQUE :</strong> En France, les substances psychoactives sont class√©es en deux cat√©gories : <strong>licites</strong> (autoris√©es mais r√©glement√©es) et <strong>illicites</strong> (interdites par la loi).
                </div>

                <p><strong>Le juge vous interroge sur la r√©glementation. Compl√©tez le tableau en indiquant le statut l√©gal et les principales sanctions :</strong></p>

                <table class="tableau-legal">
                    <thead>
                        <tr>
                            <th>Substance</th>
                            <th>Statut l√©gal</th>
                            <th>R√©glementation principale</th>
                            <th>Sanction usage/d√©tention</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Alcool</strong></td>
                            <td>
                                <select id="statut-alcool" style="padding: 5px;">
                                    <option value="">Choisir...</option>
                                    <option value="licite">Licite</option>
                                    <option value="illicite">Illicite</option>
                                </select>
                            </td>
                            <td>
                                <select id="reglement-alcool" style="padding: 5px;">
                                    <option value="">Choisir...</option>
                                    <option value="correct">Interdit aux -18 ans, taux limit√©s au volant</option>
                                    <option value="incorrect">Totalement libre</option>
                                    <option value="incorrect">Interdit √† tous</option>
                                </select>
                            </td>
                            <td>
                                <select id="sanction-alcool" style="padding: 5px;">
                                    <option value="">Choisir...</option>
                                    <option value="correct">Amende si conduite en √©tat d'ivresse</option>
                                    <option value="incorrect">Prison syst√©matique</option>
                                    <option value="incorrect">Aucune sanction</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Cannabis</strong></td>
                            <td>
                                <select id="statut-cannabis" style="padding: 5px;">
                                    <option value="">Choisir...</option>
                                    <option value="licite">Licite</option>
                                    <option value="illicite">Illicite</option>
                                </select>
                            </td>
                            <td>
                                <select id="reglement-cannabis" style="padding: 5px;">
                                    <option value="">Choisir...</option>
                                    <option value="correct">Usage et d√©tention interdits</option>
                                    <option value="incorrect">Libre pour les adultes</option>
                                    <option value="incorrect">Autoris√© sur ordonnance uniquement</option>
                                </select>
                            </td>
                            <td>
                                <select id="sanction-cannabis" style="padding: 5px;">
                                    <option value="">Choisir...</option>
                                    <option value="correct">Amende forfaitaire de 200‚Ç¨ minimum</option>
                                    <option value="incorrect">Aucune sanction</option>
                                    <option value="incorrect">Prison obligatoire</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Tabac</strong></td>
                            <td>
                                <select id="statut-tabac" style="padding: 5px;">
                                    <option value="">Choisir...</option>
                                    <option value="licite">Licite</option>
                                    <option value="illicite">Illicite</option>
                                </select>
                            </td>
                            <td>
                                <select id="reglement-tabac" style="padding: 5px;">
                                    <option value="">Choisir...</option>
                                    <option value="correct">Interdit aux -18 ans, lieux publics interdits</option>
                                    <option value="incorrect">Libre partout</option>
                                    <option value="incorrect">Interdit totalement</option>
                                </select>
                            </td>
                            <td>
                                <select id="sanction-tabac" style="padding: 5px;">
                                    <option value="">Choisir...</option>
                                    <option value="correct">Amende si fumer dans lieux interdits</option>
                                    <option value="incorrect">Aucune sanction</option>
                                    <option value="incorrect">Confiscation syst√©matique</option>
                                </select>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <button class="btn-validation" onclick="verifierCadreLegal()">‚úì V√©rifier mes connaissances l√©gales</button>

                <div id="correction-q2" class="correction-explicite">
                    <h4>‚ùå CORRECTION CADRE L√âGAL</h4>
                    <div class="bonne-reponse">
                        <strong>‚úÖ R√âGLEMENTATION FRAN√áAISE :</strong><br>
                        <strong>ALCOOL :</strong> Licite - Interdit -18 ans, taux limit√©s conduite - Amende conduite<br>
                        <strong>CANNABIS :</strong> Illicite - Usage et d√©tention interdits - Amende 200‚Ç¨ minimum<br>
                        <strong>TABAC :</strong> Licite - Interdit -18 ans et lieux publics - Amende si infraction
                    </div>
                    <div class="explication">
                        <strong>‚öñÔ∏è POURQUOI CETTE R√âGLEMENTATION :</strong> L'√âtat prot√®ge les mineurs (cerveau en d√©veloppement plus vuln√©rable) et la sant√© publique. Les substances licites restent r√©glement√©es car elles ne sont pas sans danger. Le cannabis est illicite en raison de ses effets sur la sant√© mentale et cognitive. Les sanctions visent la dissuasion, pas l'emprisonnement syst√©matique - on privil√©gie l'accompagnement au p√©nal quand c'est possible.
                    </div>
                </div>
            </div>

            <!-- QUESTION 3 : ACTIONS DE PR√âVENTION -->
            <div class="question-section">
                <div class="question-title">
                    <span class="competence-badge c5">C5</span>
                    Question 3 : Argumenter des mesures de pr√©vention
                </div>

                <p><strong>Le juge souhaite comprendre quelles actions de pr√©vention seraient les plus efficaces pour √©viter que d'autres jeunes se retrouvent dans cette situation. Classez ces mesures par ordre de priorit√© et justifiez vos choix :</strong></p>

                <div class="instructions-interaction">
                    <h5>üì± COMMENT PROC√âDER :</h5>
                    <p><strong>1.</strong> Cliquez sur une mesure pour la s√©lectionner <strong>2.</strong> Cliquez sur la zone de priorit√© correspondante <strong>3.</strong> R√©p√©tez pour classer toutes les mesures</p>
                </div>

                <!-- MESURES √Ä CLASSER -->
                <div style="background: #f0f8ff; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <h5>Mesures de pr√©vention propos√©es :</h5>
                    <div id="mesures-disponibles" style="display: flex; flex-wrap: wrap; gap: 10px; margin: 15px 0;">
                        <div class="element-draggable" data-mesure="education" data-priorite="haute">
                            √âducation d√®s le coll√®ge sur les risques des addictions
                        </div>
                        <div class="element-draggable" data-mesure="interdiction" data-priorite="faible">
                            Interdiction totale de toutes les substances
                        </div>
                        <div class="element-draggable" data-mesure="aide" data-priorite="haute">
                            Centres d'aide et num√©ros d'√©coute gratuits
                        </div>
                        <div class="element-draggable" data-mesure="prison" data-priorite="faible">
                            Prison automatique pour tout usage
                        </div>
                        <div class="element-draggable" data-mesure="prix" data-priorite="moyenne">
                            Augmentation des prix (tabac, alcool)
                        </div>
                        <div class="element-draggable" data-mesure="campagnes" data-priorite="moyenne">
                            Campagnes de sensibilisation dans les m√©dias
                        </div>
                    </div>
                </div>

                <!-- ZONES DE PRIORIT√â -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0;">
                    <div>
                        <h5 style="color: var(--success-pse);">üî• Priorit√© HAUTE</h5>
                        <div class="zone-depot" data-priorite="haute">
                            Mesures les plus efficaces
                        </div>
                        <ul id="zone-haute" style="list-style: none; padding: 0;"></ul>
                    </div>
                    
                    <div>
                        <h5 style="color: var(--warning-pse);">‚ö° Priorit√© MOYENNE</h5>
                        <div class="zone-depot" data-priorite="moyenne">
                            Mesures utiles en compl√©ment
                        </div>
                        <ul id="zone-moyenne" style="list-style: none; padding: 0;"></ul>
                    </div>
                    
                    <div>
                        <h5 style="color: var(--danger-pse);">‚ùÑÔ∏è Priorit√© FAIBLE</h5>
                        <div class="zone-depot" data-priorite="faible">
                            Mesures peu efficaces ou contre-productives
                        </div>
                        <ul id="zone-faible" style="list-style: none; padding: 0;"></ul>
                    </div>
                </div>

                <button class="btn-validation" onclick="verifierPrevention()">‚úì Valider ma hi√©rarchisation</button>

                <div id="correction-q3" class="correction-explicite">
                    <h4>‚ùå CORRECTION PR√âVENTION</h4>
                    <div class="bonne-reponse">
                        <strong>‚úÖ HI√âRARCHISATION OPTIMALE :</strong><br>
                        <strong>PRIORIT√â HAUTE :</strong> √âducation pr√©coce + Centres d'aide et √©coute<br>
                        <strong>PRIORIT√â MOYENNE :</strong> Augmentation des prix + Campagnes de sensibilisation<br>
                        <strong>PRIORIT√â FAIBLE :</strong> Interdiction totale + Prison automatique
                    </div>
                    <div class="explication">
                        <strong>üí° ARGUMENTATION :</strong> L'<strong>√©ducation pr√©ventive</strong> et l'<strong>aide accessible</strong> sont prioritaires car elles agissent en amont et accompangnent sans stigmatiser. L'<strong>augmentation des prix</strong> et les <strong>campagnes</strong> ont un effet dissuasif mod√©r√©. L'<strong>interdiction totale</strong> est inapplicable et la <strong>r√©pression syst√©matique</strong> est contre-productive (criminalisation plut√¥t que soin). Une approche efficace combine information, accompagnement et r√©gulation intelligente.
                    </div>
                </div>
            </div>

            <!-- AUTO-√âVALUATION COMP√âTENCES -->
            <div class="evaluation-competences">
                <h3>üéØ Auto-√©valuation de tes comp√©tences d'analyse</h3>
                <div id="competence-c1" class="competence-item">
                    <strong>C1 - Traiter une information :</strong> 
                    <span class="status">En cours d'√©valuation...</span>
                </div>
                <div id="competence-c2" class="competence-item">
                    <strong>C2 - Appliquer une d√©marche d'analyse :</strong>
                    <span class="status">En cours d'√©valuation...</span>
                </div>
                <div id="competence-c5" class="competence-item">
                    <strong>C5 - Argumenter un choix :</strong>
                    <span class="status">En cours d'√©valuation...</span>
                </div>
            </div>

            <!-- SCORE GLOBAL -->
            <div id="score-global" class="score-display" style="display: none;">
                <h3>‚öñÔ∏è Votre analyse juridique : <span id="score-pourcentage">0</span>% de r√©ussite</h3>
                <p id="message-encourage"></p>
                <div style="margin: 20px 0; padding: 15px; background: rgba(255,255,255,0.2); border-radius: 8px;">
                    <strong>üìã RAPPORT POUR LE TRIBUNAL :</strong> Analyse compl√©t√©e - Cons√©quences identifi√©es - Cadre l√©gal ma√Ætris√© - Propositions argument√©es
                </div>
                <button class="btn-action" onclick="recommencer()">üîÑ Reprendre l'analyse</button>
                <button class="btn-action" onclick="window.print()">üìÑ Imprimer le rapport</button>
            </div>

        </main>

    </div>

    <!-- FOOTER RGPD √âPUR√â -->
    <div class="rgpd-notice">
        üîí Conformit√© RGPD : Cet exercice respecte votre anonymat.
    </div>

    <script>
        // VARIABLES GLOBALES
        let elementSelectionne = null;
        let scores = {
            q1: 0,
            q2: 0,
            q3: 0
        };
        let competences = {
            C1: { score: 0, total: 0 },
            C2: { score: 0, total: 0 },
            C5: { score: 0, total: 0 }
        };
        let consequencesSelectionnees = 0;

        // SYST√àME CLIC-S√âLECTION
        document.addEventListener('DOMContentLoaded', function() {
            // Gestion des cons√©quences
            const consequences = document.querySelectorAll('.consequence-card');
            consequences.forEach(card => {
                card.addEventListener('click', function() {
                    this.classList.toggle('selected');
                    updateCompteurConsequences();
                });
            });

            // Gestion des mesures de pr√©vention
            const mesures = document.querySelectorAll('[data-mesure]');
            const zones = document.querySelectorAll('[data-priorite]');

            mesures.forEach(mesure => {
                mesure.addEventListener('click', function() {
                    if (elementSelectionne) {
                        elementSelectionne.classList.remove('selected');
                    }
                    elementSelectionne = this;
                    this.classList.add('selected');
                });
            });

            zones.forEach(zone => {
                zone.addEventListener('click', function() {
                    if (elementSelectionne && elementSelectionne.dataset.mesure) {
                        placerMesure(this.dataset.priorite);
                    }
                });
            });
        });

        function updateCompteurConsequences() {
            const selected = document.querySelectorAll('.consequence-card.selected');
            consequencesSelectionnees = selected.length;
            document.getElementById('compteur-consequences').textContent = 
                `${consequencesSelectionnees} cons√©quence${consequencesSelectionnees > 1 ? 's' : ''} s√©lectionn√©e${consequencesSelectionnees > 1 ? 's' : ''}`;
        }

        function placerMesure(priorite) {
            if (!elementSelectionne) return;

            const mesure = elementSelectionne.dataset.mesure;
            const prioriteCorrecte = elementSelectionne.dataset.priorite;
            const texte = elementSelectionne.textContent;

            // Cr√©er l'√©l√©ment plac√©
            const elementPlace = document.createElement('li');
            elementPlace.innerHTML = `<span style="background: #e3f2fd; padding: 8px 12px; border-radius: 6px; display: block; margin: 5px 0;">${texte}</span>`;
            elementPlace.dataset.mesure = mesure;
            elementPlace.dataset.correct = prioriteCorrecte === priorite ? 'true' : 'false';

            // Ajouter √† la zone
            document.getElementById(`zone-${priorite}`).appendChild(elementPlace);

            // Cacher l'√©l√©ment original
            elementSelectionne.style.display = 'none';
            elementSelectionne = null;
        }

        function verifierConsequences() {
            let score = 0;
            let total = 7; // Nombre de bonnes cons√©quences

            const consequences = document.querySelectorAll('.consequence-card');
            consequences.forEach(card => {
                const isSelected = card.classList.contains('selected');
                const isCorrect = card.dataset.correct === 'true';
                
                if (isCorrect && isSelected) {
                    card.classList.add('correct');
                    score++;
                } else if (isCorrect && !isSelected) {
                    card.classList.add('correct');
                    // Pas de point mais on montre que c'√©tait correct
                } else if (!isCorrect && isSelected) {
                    card.classList.add('incorrect');
                }
            });

            scores.q1 = Math.round((score / total) * 100);
            
            // Mettre √† jour comp√©tences
            competences.C2.score += score >= 5 ? 1 : 0;
            competences.C2.total += 1;

            // Afficher correction
            document.getElementById('correction-q1').classList.add('visible');
            document.getElementById('correction-q1').scrollIntoView({ behavior: 'smooth' });
        }

        function verifierCadreLegal() {
            let score = 0;
            let total = 9; // 3 substances √ó 3 questions

            const reponses = [
                { id: 'statut-alcool', correct: 'licite' },
                { id: 'reglement-alcool', correct: 'correct' },
                { id: 'sanction-alcool', correct: 'correct' },
                { id: 'statut-cannabis', correct: 'illicite' },
                { id: 'reglement-cannabis', correct: 'correct' },
                { id: 'sanction-cannabis', correct: 'correct' },
                { id: 'statut-tabac', correct: 'licite' },
                { id: 'reglement-tabac', correct: 'correct' },
                { id: 'sanction-tabac', correct: 'correct' }
            ];

            reponses.forEach(rep => {
                const select = document.getElementById(rep.id);
                if (select.value === rep.correct) {
                    select.style.backgroundColor = '#e8f5e8';
                    select.style.borderColor = 'var(--success-pse)';
                    score++;
                } else {
                    select.style.backgroundColor = '#ffebee';
                    select.style.borderColor = 'var(--danger-pse)';
                }
            });

            scores.q2 = Math.round((score / total) * 100);
            
            // Mettre √† jour comp√©tences
            competences.C1.score += score >= 6 ? 1 : 0;
            competences.C1.total += 1;

            // Afficher correction
            document.getElementById('correction-q2').classList.add('visible');
            document.getElementById('correction-q2').scrollIntoView({ behavior: 'smooth' });
        }

        function verifierPrevention() {
            let score = 0;
            let total = 6; // Nombre de mesures

            // V√©rifier tous les placements
            const priorites = ['haute', 'moyenne', 'faible'];
            priorites.forEach(priorite => {
                const elements = document.querySelectorAll(`#zone-${priorite} [data-mesure]`);
                elements.forEach(element => {
                    const isCorrect = element.dataset.correct === 'true';
                    const span = element.querySelector('span');
                    
                    if (isCorrect) {
                        span.style.background = '#e8f5e8';
                        span.style.color = '#2e7d32';
                        span.style.borderLeft = '4px solid #4caf50';
                        score++;
                    } else {
                        span.style.background = '#ffebee';
                        span.style.color = '#d32f2f';
                        span.style.borderLeft = '4px solid #f44336';
                    }
                });
            });

            scores.q3 = Math.round((score / total) * 100);
            
            // Mettre √† jour comp√©tences
            competences.C5.score += score >= 4 ? 1 : 0;
            competences.C5.total += 1;

            // Afficher correction
            document.getElementById('correction-q3').classList.add('visible');
            document.getElementById('correction-q3').scrollIntoView({ behavior: 'smooth' });

            // Calculer score final
            calculerScoreFinal();
        }

        function calculerScoreFinal() {
            const scoreMoyen = Math.round((scores.q1 + scores.q2 + scores.q3) / 3);
            
            document.getElementById('score-pourcentage').textContent = scoreMoyen;
            
            let message = "";
            if (scoreMoyen >= 80) {
                message = "üéâ Excellent ! Votre analyse est digne d'un professionnel du droit. Vous ma√Ætrisez les enjeux sociaux et l√©gaux des addictions.";
            } else if (scoreMoyen >= 60) {
                message = "üëç Bien ! Votre compr√©hension est solide. Approfondissez vos connaissances du cadre r√©glementaire et des strat√©gies de pr√©vention.";
            } else {
                message = "üí™ Continue tes efforts ! R√©vise les cons√©quences des addictions et la r√©glementation fran√ßaise.";
            }
            
            document.getElementById('message-encourage').textContent = message;
            document.getElementById('score-global').style.display = 'block';
            
            // Mettre √† jour √©valuation comp√©tences
            mettreAJourCompetences();
            
            // Scroll vers r√©sultats
            document.getElementById('score-global').scrollIntoView({ behavior: 'smooth' });
        }

        function mettreAJourCompetences() {
            // C1
            const c1Element = document.getElementById('competence-c1');
            const c1Taux = competences.C1.total > 0 ? (competences.C1.score / competences.C1.total) * 100 : 0;
            if (c1Taux >= 70) {
                c1Element.classList.add('acquired');
                c1Element.querySelector('.status').textContent = "‚úÖ Acquise - Tu ma√Ætrises les informations juridiques";
            } else {
                c1Element.classList.add('partial');
                c1Element.querySelector('.status').textContent = "‚ö° En cours - Approfondis le cadre l√©gal";
            }

            // C2  
            const c2Element = document.getElementById('competence-c2');
            const c2Taux = competences.C2.total > 0 ? (competences.C2.score / competences.C2.total) * 100 : 0;
            if (c2Taux >= 70) {
                c2Element.classList.add('acquired');
                c2Element.querySelector('.status').textContent = "‚úÖ Acquise - Tu analyses bien les cons√©quences sociales";
            } else {
                c2Element.classList.add('partial');
                c2Element.querySelector('.status').textContent = "‚ö° En cours - Affine ton analyse des impacts sociaux";
            }

            // C5
            const c5Element = document.getElementById('competence-c5');
            const c5Taux = competences.C5.total > 0 ? (competences.C5.score / competences.C5.total) * 100 : 0;
            if (c5Taux >= 70) {
                c5Element.classList.add('acquired');
                c5Element.querySelector('.status').textContent = "‚úÖ Acquise - Tu argumentes tes choix de pr√©vention";
            } else {
                c5Element.classList.add('partial');
                c5Element.querySelector('.status').textContent = "‚ö° En cours - Travaille l'argumentation de tes propositions";
            }
        }

        function recommencer() {
            location.reload();
        }

        // Sauvegarde locale anonyme
        function sauvegarderProgres() {
            const progres = {
                scores: scores,
                competences: competences,
                consequencesSelectionnees: consequencesSelectionnees,
                timestamp: Date.now()
            };
            localStorage.setItem('pse_a4_analyse', JSON.stringify(progres));
        }

        // Auto-sauvegarde toutes les 2 minutes
        setInterval(sauvegarderProgres, 120000);
    </script>
</body>
</html>