<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPS C1.5 - Auto-√©valuation positive</title>
    <style>
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f0f4f8;
            color: #1e293b;
            line-height: 1.6;
            min-height: 100vh;
            padding-bottom: 40px;
        }

        .container {
            max-width: 520px;
            margin: 0 auto;
            padding: 16px;
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            color: #3b82f6;
            text-decoration: none;
            font-size: 0.95rem;
            font-weight: 500;
            margin-bottom: 12px;
            transition: color 0.2s;
        }

        .back-btn:hover { color: #1d4ed8; }

        .header-card {
            background: linear-gradient(135deg, #2563eb, #3b82f6);
            border-radius: 15px;
            padding: 28px 24px;
            color: white;
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
        }

        .header-card .emoji { font-size: 2.2rem; margin-bottom: 8px; }
        .header-card h1 { font-size: 1.6rem; margin-bottom: 8px; font-weight: 700; }
        .header-card p { font-size: 0.92rem; opacity: 0.92; line-height: 1.5; }

        .card {
            background: white;
            border-radius: 15px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            animation: fadeIn 0.4s ease;
        }

        .card-title {
            font-size: 1.15rem;
            font-weight: 700;
            color: #2563eb;
            margin-bottom: 16px;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section { display: none; }
        .section.active { display: block; }

        .intro-text {
            font-size: 0.9rem;
            color: #475569;
            line-height: 1.6;
            margin-bottom: 16px;
        }

        .mindset-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 16px 0;
        }

        .mindset-box {
            border-radius: 12px;
            padding: 14px 12px;
            text-align: center;
            font-size: 0.85rem;
            line-height: 1.45;
        }

        .mindset-box.fixe {
            background: #fee2e2;
            border: 2px solid #fca5a5;
            color: #991b1b;
        }

        .mindset-box.developpement {
            background: #dcfce7;
            border: 2px solid #86efac;
            color: #166534;
        }

        .mindset-box .box-icon {
            font-size: 1.4rem;
            display: block;
            margin-bottom: 6px;
        }

        .mindset-box .box-label {
            font-weight: 700;
            display: block;
            margin-bottom: 4px;
        }

        .highlight-text {
            font-size: 0.88rem;
            color: #1e293b;
            background: #f0f9ff;
            border-left: 3px solid #3b82f6;
            padding: 12px 14px;
            border-radius: 0 10px 10px 0;
            margin: 16px 0;
            line-height: 1.55;
        }

        .btn-primary {
            display: block;
            width: 100%;
            background: linear-gradient(135deg, #2563eb, #3b82f6);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 15px 24px;
            font-size: 1.05rem;
            font-weight: 700;
            cursor: pointer;
            font-family: inherit;
            margin-top: 8px;
            transition: transform 0.15s, box-shadow 0.15s;
            box-shadow: 0 3px 12px rgba(37, 99, 235, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 5px 18px rgba(37, 99, 235, 0.35);
        }

        .progress-bar {
            height: 6px;
            background: #e2e8f0;
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 6px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #2563eb, #3b82f6);
            border-radius: 20px;
            transition: width 0.4s ease;
        }

        .progress-text {
            font-size: 0.8rem;
            color: #94a3b8;
            text-align: right;
            margin-bottom: 16px;
        }

        .statement-card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px 16px;
            margin-bottom: 16px;
            text-align: center;
        }

        .statement-text {
            font-size: 1.05rem;
            font-weight: 600;
            color: #1e293b;
            font-style: italic;
            line-height: 1.5;
        }

        .quiz-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 12px;
        }

        .quiz-btn {
            padding: 14px 12px;
            border-radius: 12px;
            border: 2px solid #e2e8f0;
            background: white;
            cursor: pointer;
            font-family: inherit;
            font-size: 0.88rem;
            font-weight: 600;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .quiz-btn.fixe { color: #991b1b; }
        .quiz-btn.fixe:hover { border-color: #ef4444; background: #fee2e2; }
        .quiz-btn.developpement { color: #166534; }
        .quiz-btn.developpement:hover { border-color: #22c55e; background: #dcfce7; }
        .quiz-btn:disabled { opacity: 0.5; cursor: default; }

        .feedback-card {
            border-radius: 12px;
            padding: 14px 16px;
            margin-bottom: 12px;
            font-size: 0.88rem;
            line-height: 1.5;
            animation: fadeIn 0.3s ease;
        }

        .feedback-card.correct {
            background: #dcfce7;
            border: 2px solid #86efac;
            color: #166534;
        }

        .feedback-card.wrong {
            background: #fee2e2;
            border: 2px solid #fca5a5;
            color: #991b1b;
        }

        .feedback-icon { font-weight: 700; margin-right: 4px; }

        .btn-next {
            display: block;
            width: 100%;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 12px;
            font-size: 0.92rem;
            font-weight: 600;
            cursor: pointer;
            font-family: inherit;
            transition: background 0.2s;
        }

        .btn-next:hover { background: #2563eb; }

        .context-card {
            background: #dbeafe;
            border-radius: 12px;
            padding: 12px 14px;
            margin-bottom: 10px;
            font-size: 0.88rem;
            font-weight: 600;
            color: #1e40af;
        }

        .thought-bubble {
            background: #f8fafc;
            border: 2px dashed #cbd5e1;
            border-radius: 12px;
            padding: 14px 16px;
            margin-bottom: 14px;
            font-style: italic;
            color: #475569;
            font-size: 0.92rem;
            line-height: 1.5;
        }

        .thought-label {
            font-weight: 700;
            font-style: normal;
            color: #64748b;
            font-size: 0.8rem;
            display: block;
            margin-bottom: 4px;
        }

        .option-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 14px 16px;
            margin-bottom: 8px;
            cursor: pointer;
            font-size: 0.88rem;
            line-height: 1.5;
            transition: all 0.2s;
            animation: fadeIn 0.3s ease;
        }

        .option-card:hover { border-color: #3b82f6; background: #f0f7ff; }
        .option-card.disabled { pointer-events: none; opacity: 0.6; }
        .option-card.selected-correct { border-color: #22c55e; background: #dcfce7; opacity: 1; }
        .option-card.selected-wrong { border-color: #ef4444; background: #fee2e2; opacity: 1; }
        .option-card.reveal-correct { border-color: #22c55e; background: #dcfce7; opacity: 1; }

        .score-display {
            text-align: center;
            padding: 20px;
        }

        .score-number {
            font-size: 3rem;
            font-weight: 800;
            color: #2563eb;
            line-height: 1.1;
        }

        .score-total {
            font-size: 1.1rem;
            color: #94a3b8;
            font-weight: 500;
        }

        .score-message {
            margin-top: 14px;
            font-size: 1.1rem;
            font-weight: 600;
            color: #1e293b;
            line-height: 1.45;
        }

        .synthesis-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 12px 14px;
            background: #dbeafe;
            border-radius: 10px;
            margin-bottom: 8px;
            font-size: 0.88rem;
            color: #1e3a5f;
            line-height: 1.5;
        }

        .synthesis-icon {
            font-size: 1.2rem;
            flex-shrink: 0;
        }
    </style>
</head>
<body>

<div class="container">
    <a href="index.html" class="back-btn">‚Üê Retour</a>

    <div class="header-card">
        <div class="emoji">üå±</div>
        <h1>L'√©tat d'esprit qui change tout</h1>
        <p>D√©couvre comment ta fa√ßon de penser influence ta progression</p>
    </div>

    <!-- SECTION 1 : INTRO -->
    <div id="section-intro" class="section active">
        <div class="card">
            <div class="card-title">üß† Deux fa√ßons de voir les choses</div>
            <p class="intro-text">Face √† une difficult√©, notre cerveau peut r√©agir de deux mani√®res tr√®s diff√©rentes. Les chercheurs ont identifi√© deux <strong>√©tats d'esprit</strong> :</p>

            <div class="mindset-grid">
                <div class="mindset-box fixe">
                    <span class="box-icon">üîí</span>
                    <span class="box-label">√âTAT D'ESPRIT FIXE</span>
                    ¬´ Mes capacit√©s sont fig√©es, je ne peux pas changer. ¬ª
                </div>
                <div class="mindset-box developpement">
                    <span class="box-icon">üå±</span>
                    <span class="box-label">DE D√âVELOPPEMENT</span>
                    ¬´ Je peux progresser avec de l'effort et de la pratique. ¬ª
                </div>
            </div>

            <div class="highlight-text">
                La bonne nouvelle : l'√©tat d'esprit n'est pas fig√© ! On peut apprendre √† passer d'un √©tat d'esprit fixe √† un √©tat d'esprit de d√©veloppement. √áa commence par rep√©rer nos pens√©es automatiques.
            </div>

            <button class="btn-primary" onclick="startQuiz()">üéØ Commencer le d√©fi</button>
        </div>
    </div>

    <!-- SECTION 2 : QUIZ -->
    <div id="section-quiz" class="section">
        <div class="card">
            <div class="card-title">üéØ Fixe ou D√©veloppement ?</div>
            <div class="progress-bar"><div class="progress-fill" id="quiz-progress"></div></div>
            <div class="progress-text" id="quiz-progress-text"></div>
            <div id="quiz-container"></div>
        </div>
    </div>

    <!-- SECTION 3 : REFORMULATION -->
    <div id="section-reformulation" class="section">
        <div class="card">
            <div class="card-title">üîÑ Transformer sa pens√©e</div>
            <p class="intro-text">Quand une pens√©e ¬´ fixe ¬ª appara√Æt, on peut la reformuler en adoptant un √©tat d'esprit de d√©veloppement. L'objectif n'est pas de nier la difficult√©, mais de voir les possibilit√©s.</p>
            <div class="progress-bar"><div class="progress-fill" id="reform-progress"></div></div>
            <div class="progress-text" id="reform-progress-text"></div>
            <div id="reform-container"></div>
        </div>
    </div>

    <!-- SECTION 4 : BILAN -->
    <div id="section-bilan" class="section">
        <div class="card">
            <div class="score-display">
                <div class="score-number" id="final-score">0</div>
                <div class="score-total">/ 14</div>
                <div class="score-message" id="score-message"></div>
            </div>
        </div>

        <div class="card">
            <div class="card-title">Ce qu'il faut retenir</div>
            <div class="synthesis-item">
                <span class="synthesis-icon">üîí</span>
                <span>L'√©tat d'esprit fixe nous fait croire que nos capacit√©s ne peuvent pas changer.</span>
            </div>
            <div class="synthesis-item">
                <span class="synthesis-icon">üå±</span>
                <span>L'√©tat d'esprit de d√©veloppement nous montre que l'effort et la pratique permettent de progresser.</span>
            </div>
            <div class="synthesis-item">
                <span class="synthesis-icon">üîÑ</span>
                <span>On peut transformer une pens√©e ¬´ fixe ¬ª en pens√©e de d√©veloppement pour se donner les moyens d'avancer.</span>
            </div>
            <div class="synthesis-item">
                <span class="synthesis-icon">üí™</span>
                <span>Les erreurs ne sont pas des preuves d'√©chec, mais des √©tapes normales de l'apprentissage.</span>
            </div>

            <button class="btn-primary" onclick="resetAll()" style="margin-top:16px;">üîÑ Refaire l'exercice</button>
        </div>
    </div>
</div>

<footer style="text-align:center; padding:20px 16px; color:#94a3b8; font-size:0.78rem;">
    Comp√©tences psychosociales ‚Äî R√©f√©rentiel Sant√© publique France 2025
</footer>

<script>
    /* ========== DATA ========== */
    var quizItems = [
        { statement: "Je suis nul en maths, je n'y arriverai jamais.", answer: "fixe", explanation: "Le ¬´ jamais ¬ª fige la situation. Les comp√©tences en maths peuvent s'am√©liorer avec de la pratique." },
        { statement: "Je ne comprends pas encore, mais je vais continuer √† essayer.", answer: "developpement", explanation: "Le mot ¬´ encore ¬ª montre une perspective d'apprentissage. La difficult√© est vue comme temporaire." },
        { statement: "Certaines personnes sont dou√©es, d'autres non. C'est comme √ßa.", answer: "fixe", explanation: "Cette vision fig√©e oublie que les comp√©tences se d√©veloppent par l'entra√Ænement et l'exp√©rience." },
        { statement: "Chaque erreur me donne une information utile pour progresser.", answer: "developpement", explanation: "Les erreurs sont vues comme des opportunit√©s d'apprentissage, pas comme des √©checs." },
        { statement: "Si je dois faire beaucoup d'efforts, c'est que je ne suis pas fait pour √ßa.", answer: "fixe", explanation: "L'effort est vu comme un signe de faiblesse. En r√©alit√©, l'effort est le moteur de la progression." },
        { statement: "Avec de la pratique, je peux am√©liorer cette comp√©tence.", answer: "developpement", explanation: "La pratique est vue comme un levier de progr√®s. C'est l'√©tat d'esprit de d√©veloppement." },
        { statement: "Mon camarade r√©ussit facilement, moi je n'y arrive pas.", answer: "fixe", explanation: "La comparaison est fig√©e. On ne voit pas les efforts des autres ni sa propre marge de progression." },
        { statement: "Je peux apprendre des m√©thodes de ceux qui r√©ussissent.", answer: "developpement", explanation: "Le succ√®s des autres est vu comme une source d'inspiration, pas comme une menace." },
        { statement: "Mon niveau d'intelligence est fix√©, on ne peut pas le changer.", answer: "fixe", explanation: "Les recherches montrent que le cerveau continue de se d√©velopper tout au long de la vie gr√¢ce √† la plasticit√© c√©r√©brale." },
        { statement: "Je ne suis pas encore au niveau, mais je progresse petit √† petit.", answer: "developpement", explanation: "Le ¬´ pas encore ¬ª et le ¬´ petit √† petit ¬ª montrent une vision dynamique de ses capacit√©s." }
    ];

    var reformItems = [
        {
            context: "üìù Apr√®s un contr√¥le rat√©",
            thought: "Je suis nul, je n'ai aucun talent pour cette mati√®re.",
            options: [
                { text: "Ce contr√¥le n'a pas donn√© le r√©sultat esp√©r√©. Je peux analyser mes erreurs et adapter ma m√©thode de travail.", correct: true, feedback: "Tu transformes un constat n√©gatif en plan d'action. C'est l'√©tat d'esprit de d√©veloppement." },
                { text: "C'est la faute du prof, ses cours sont incompr√©hensibles.", correct: false, feedback: "Rejeter la responsabilit√© ne permet pas de progresser. Il s'agit de se concentrer sur ce qu'on peut changer soi-m√™me." },
                { text: "Tant pis, cette mati√®re ne sert √† rien de toute fa√ßon.", correct: false, feedback: "D√©valoriser la mati√®re est une strat√©gie d'√©vitement. L'√©tat d'esprit de d√©veloppement cherche √† comprendre et √† s'am√©liorer." }
            ]
        },
        {
            context: "üìä Face √† un exercice difficile",
            thought: "Les autres comprennent tout de suite, pas moi.",
            options: [
                { text: "Chacun a son rythme d'apprentissage. Je peux demander des explications et r√©essayer autrement.", correct: true, feedback: "Tu reconnais que la comparaison n'est pas utile et tu te concentres sur ta propre progression." },
                { text: "√áa ne sert √† rien d'essayer, je ne serai jamais au niveau des autres.", correct: false, feedback: "C'est l'√©tat d'esprit fixe : on se compare et on abandonne. En r√©alit√©, chacun progresse √† son rythme." },
                { text: "Je vais recopier sur mon voisin, c'est plus rapide.", correct: false, feedback: "Copier √©vite l'effort mais emp√™che l'apprentissage. L'√©tat d'esprit de d√©veloppement accepte la difficult√© comme une √©tape." }
            ]
        },
        {
            context: "üÜï En d√©couvrant une nouvelle comp√©tence",
            thought: "Je ne suis pas dou√© pour apprendre de nouvelles choses.",
            options: [
                { text: "C'est normal de ne pas ma√Ætriser quelque chose de nouveau tout de suite. Avec de la pratique, je vais progresser.", correct: true, feedback: "Tu acceptes que l'apprentissage prend du temps. C'est la cl√© de l'√©tat d'esprit de d√©veloppement." },
                { text: "Si c'√©tait naturel pour moi, j'aurais compris d√®s le d√©but.", correct: false, feedback: "Croire que tout doit √™tre naturel, c'est l'√©tat d'esprit fixe. L'apprentissage demande du temps et de l'effort." },
                { text: "Il vaut mieux que je me concentre uniquement sur ce que je sais d√©j√† faire.", correct: false, feedback: "Rester dans sa zone de confort limite la progression. L'√©tat d'esprit de d√©veloppement encourage √† explorer de nouveaux domaines." }
            ]
        },
        {
            context: "üé§ Apr√®s une remarque sur un expos√©",
            thought: "Mon expos√© √©tait nul, je ne sais pas parler en public.",
            options: [
                { text: "Les remarques m'aident √† identifier ce que je peux am√©liorer pour la prochaine fois.", correct: true, feedback: "Tu utilises le retour comme un outil de progression. C'est exactement l'√©tat d'esprit de d√©veloppement." },
                { text: "Je ne ferai plus jamais d'expos√© pour √©viter les critiques.", correct: false, feedback: "√âviter les situations difficiles emp√™che de progresser. Les critiques constructives sont des opportunit√©s d'apprentissage." },
                { text: "De toute fa√ßon, personne n'√©coute ce que je dis.", correct: false, feedback: "Cette g√©n√©ralisation n√©gative est typique de l'√©tat d'esprit fixe. La r√©alit√© est souvent plus nuanc√©e." }
            ]
        }
    ];

    /* ========== STATE ========== */
    var shuffledQuiz = [];
    var currentQuiz = 0;
    var quizScore = 0;

    var shuffledReform = [];
    var currentReform = 0;
    var reformScore = 0;

    /* ========== UTILITIES ========== */
    function shuffle(arr) {
        var a = arr.slice();
        for (var i = a.length - 1; i > 0; i--) {
            var j = Math.floor(Math.random() * (i + 1));
            var tmp = a[i]; a[i] = a[j]; a[j] = tmp;
        }
        return a;
    }

    function showSection(id) {
        var sections = document.querySelectorAll('.section');
        for (var i = 0; i < sections.length; i++) sections[i].classList.remove('active');
        document.getElementById(id).classList.add('active');
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    /* ========== QUIZ ========== */
    function startQuiz() {
        shuffledQuiz = shuffle(quizItems);
        currentQuiz = 0;
        quizScore = 0;
        showSection('section-quiz');
        renderQuiz();
    }

    function renderQuiz() {
        var item = shuffledQuiz[currentQuiz];
        var total = shuffledQuiz.length;
        var pct = (currentQuiz / total) * 100;

        document.getElementById('quiz-progress').style.width = pct + '%';
        document.getElementById('quiz-progress-text').textContent = 'Question ' + (currentQuiz + 1) + ' / ' + total;

        var html = '';
        html += '<div class="statement-card"><div class="statement-text">&laquo; ' + item.statement + ' &raquo;</div></div>';
        html += '<div class="quiz-buttons">';
        html += '<button class="quiz-btn fixe" onclick="answerQuiz(\'fixe\')">üîí Fixe</button>';
        html += '<button class="quiz-btn developpement" onclick="answerQuiz(\'developpement\')">üå± D√©veloppement</button>';
        html += '</div>';
        html += '<div id="quiz-feedback"></div>';

        document.getElementById('quiz-container').innerHTML = html;
    }

    function answerQuiz(answer) {
        var item = shuffledQuiz[currentQuiz];
        var correct = answer === item.answer;
        if (correct) quizScore++;

        var btns = document.querySelectorAll('.quiz-btn');
        for (var i = 0; i < btns.length; i++) btns[i].disabled = true;

        var fbClass = correct ? 'correct' : 'wrong';
        var fbIcon = correct ? '‚úì' : '‚úó';
        var rightLabel = item.answer === 'fixe' ? '√©tat d\'esprit fixe' : '√©tat d\'esprit de d√©veloppement';
        var fbText = correct
            ? '<span class="feedback-icon">' + fbIcon + '</span> Bonne r√©ponse ! ' + item.explanation
            : '<span class="feedback-icon">' + fbIcon + '</span> C\'est l\'' + rightLabel + '. ' + item.explanation;

        var isLast = currentQuiz >= shuffledQuiz.length - 1;
        var btnLabel = isLast ? 'Passer aux reformulations ‚Üí' : 'Suivant ‚Üí';
        var btnAction = isLast ? 'startReformulation()' : 'nextQuiz()';

        var html = '<div class="feedback-card ' + fbClass + '">' + fbText + '</div>';
        html += '<button class="btn-next" onclick="' + btnAction + '">' + btnLabel + '</button>';

        document.getElementById('quiz-feedback').innerHTML = html;
    }

    function nextQuiz() {
        currentQuiz++;
        renderQuiz();
    }

    /* ========== REFORMULATION ========== */
    function startReformulation() {
        shuffledReform = shuffle(reformItems);
        currentReform = 0;
        reformScore = 0;
        showSection('section-reformulation');
        renderReform();
    }

    function renderReform() {
        var item = shuffledReform[currentReform];
        var total = shuffledReform.length;
        var pct = (currentReform / total) * 100;

        document.getElementById('reform-progress').style.width = pct + '%';
        document.getElementById('reform-progress-text').textContent = (currentReform + 1) + ' / ' + total;

        var shuffledOpts = shuffle(item.options);

        var html = '';
        html += '<div class="context-card">' + item.context + '</div>';
        html += '<div class="thought-bubble"><span class="thought-label">üîí Pens√©e fixe :</span>&laquo; ' + item.thought + ' &raquo;</div>';

        for (var i = 0; i < shuffledOpts.length; i++) {
            var o = shuffledOpts[i];
            html += '<div class="option-card" data-correct="' + o.correct + '" data-feedback="' + o.feedback.replace(/"/g, '&quot;') + '" onclick="answerReform(this)">' + o.text + '</div>';
        }

        html += '<div id="reform-feedback"></div>';
        document.getElementById('reform-container').innerHTML = html;
    }

    function answerReform(el) {
        var correct = el.getAttribute('data-correct') === 'true';
        var feedback = el.getAttribute('data-feedback');
        if (correct) reformScore++;

        var cards = document.querySelectorAll('#reform-container .option-card');
        for (var i = 0; i < cards.length; i++) cards[i].classList.add('disabled');

        if (correct) {
            el.classList.add('selected-correct');
        } else {
            el.classList.add('selected-wrong');
            for (var i = 0; i < cards.length; i++) {
                if (cards[i].getAttribute('data-correct') === 'true') cards[i].classList.add('reveal-correct');
            }
        }

        var fbClass = correct ? 'correct' : 'wrong';
        var fbIcon = correct ? '‚úì' : '‚úó';
        var isLast = currentReform >= shuffledReform.length - 1;
        var btnLabel = isLast ? 'Voir mon bilan ‚Üí' : 'Suite ‚Üí';
        var btnAction = isLast ? 'showBilan()' : 'nextReform()';

        var html = '<div class="feedback-card ' + fbClass + '"><span class="feedback-icon">' + fbIcon + '</span> ' + feedback + '</div>';
        html += '<button class="btn-next" onclick="' + btnAction + '">' + btnLabel + '</button>';

        document.getElementById('reform-feedback').innerHTML = html;
    }

    function nextReform() {
        currentReform++;
        renderReform();
    }

    /* ========== BILAN ========== */
    function showBilan() {
        var total = quizScore + reformScore;
        document.getElementById('final-score').textContent = total;

        var msg = '';
        if (total >= 12) msg = 'üåü Excellent ! Tu sais reconna√Ætre et transformer les pens√©es fixes.';
        else if (total >= 8) msg = 'üëè Bien jou√© ! Tu es sur la bonne voie pour d√©velopper un √©tat d\'esprit de croissance.';
        else msg = 'üí™ C\'est un bon d√©but ! Continue √† rep√©rer tes pens√©es automatiques.';

        document.getElementById('score-message').textContent = msg;
        showSection('section-bilan');
    }

    /* ========== RESET ========== */
    function resetAll() {
        currentQuiz = 0; quizScore = 0;
        currentReform = 0; reformScore = 0;
        showSection('section-intro');
    }
</script>

</body>
</html>
