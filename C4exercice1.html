<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PSE Bac Pro — Compétence C4 — Exercice 1</title>
  <style>
    :root{--bg:#0b1020;--card:#121a33;--card2:#0f1730;--txt:#eaf0ff;--muted:#b9c6ff;--accent:#7cf7d4;--warn:#ffd27c;--bad:#ff7c9a;--ok:#7cff8a;}
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:radial-gradient(1000px 700px at 15% 10%, #1b2a66 0%, var(--bg) 55%),radial-gradient(900px 700px at 85% 30%, #1a5a53 0%, rgba(11,16,32,0) 55%),var(--bg);color:var(--txt);line-height:1.35}
    .wrap{max-width:980px;margin:0 auto;padding:22px 16px 40px}
    header{display:flex;gap:14px;align-items:flex-start;justify-content:space-between;flex-wrap:wrap;margin-bottom:14px}
    .title{display:flex;gap:12px;align-items:flex-start}
    .badge{padding:8px 10px;border:1px solid rgba(255,255,255,.15);border-radius:999px;background:rgba(255,255,255,.06);font-weight:700}
    h1{font-size:22px;margin:0 0 6px 0}
    .sub{color:var(--muted);margin:0}
    .row{display:grid;grid-template-columns:1.15fr .85fr;gap:14px;margin-top:14px}
    @media (max-width:880px){.row{grid-template-columns:1fr}}
    .card{background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));border:1px solid rgba(255,255,255,.12);border-radius:18px;padding:14px}
    .card h2{font-size:16px;margin:0 0 10px 0}
    .mini{background:rgba(0,0,0,.18);border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:12px}
    .mini h3{font-size:14px;margin:0 0 8px 0}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:7px 10px;border-radius:999px;background:rgba(124,247,212,.10);border:1px solid rgba(124,247,212,.25);color:var(--txt);font-weight:650}
    .pill small{color:var(--muted);font-weight:600}
    .hint{color:var(--muted);font-size:13px;margin:8px 0 0 0}
    .grid2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    @media (max-width:620px){.grid2{grid-template-columns:1fr}}
    .btns{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    button{appearance:none;border:0;border-radius:14px;padding:10px 12px;font-weight:800;color:#091128;background:var(--accent);cursor:pointer}
    button.secondary{background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.16);color:var(--txt)}
    button.ghost{background:transparent;border:1px dashed rgba(255,255,255,.25);color:var(--muted)}
    button:disabled{opacity:.55;cursor:not-allowed}
    .q{padding:12px;border-radius:16px;background:rgba(0,0,0,.18);border:1px solid rgba(255,255,255,.10);margin-top:10px}
    .q h3{font-size:14px;margin:0 0 8px 0}
    .tagline{display:flex;gap:8px;flex-wrap:wrap;margin:6px 0 0}
    .tag{font-size:12px;padding:6px 8px;border-radius:999px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.06);color:var(--muted)}
    select, textarea, input[type="text"]{width:100%;border-radius:12px;border:1px solid rgba(255,255,255,.14);background:rgba(15,23,48,.75);color:var(--txt);padding:10px 10px;font-size:14px}
    textarea{min-height:100px;resize:vertical}
    .scorebar{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-top:10px}
    .bar{flex:1;height:12px;border-radius:999px;background:rgba(255,255,255,.10);border:1px solid rgba(255,255,255,.14);overflow:hidden}
    .fill{height:100%;width:0%;background:linear-gradient(90deg, var(--warn), var(--accent));transition:width .35s ease}
    .score{font-weight:900}
    .ok{color:var(--ok);font-weight:800}
    .bad{color:var(--bad);font-weight:800}
    .model{display:none;margin-top:10px;padding:10px;border-radius:14px;background:rgba(124,255,138,.08);border:1px solid rgba(124,255,138,.22)}
    .model strong{display:block;margin-bottom:6px}
    .checklist{display:grid;gap:8px;margin-top:8px}
    .checkline{display:flex;gap:10px;align-items:flex-start;padding:10px;border-radius:14px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.10)}
    .checkline input{margin-top:3px;transform:scale(1.1)}
    .muted{color:var(--muted)}
    .footer{margin-top:14px;color:var(--muted);font-size:12px}
    @media print{
      body{background:#fff;color:#000}
      .wrap{max-width:none}
      .card,.q,.mini{background:#fff;border:1px solid #ccc}
      button,.scorebar,.footer{display:none !important}
      select,textarea,input[type="text"]{border:1px solid #777;color:#000;background:#fff}
      .model{display:block !important;border:1px solid #7a7a7a;background:#f7fff8}
    }
  
    .token{touch-action:none;-webkit-user-select:none;user-select:none;}
    .token.dragging{opacity:.92;box-shadow:0 18px 50px rgba(0,0,0,.35);}
    .drop-hover{outline:3px solid rgba(124,92,255,.6);outline-offset:4px;}
    .placeholder{border:2px dashed rgba(124,92,255,.6);border-radius:14px;min-height:44px;}

</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="title">
      <div class="badge">PSE</div>
      <div>
        <h1>Compétence C4 — Proposer une solution pour résoudre un problème</h1>
        <p class="sub">Exercice 1 — Santé + Environnement</p>
        <div class="tagline">
          <span class="tag">C4</span>
          <span class="tag">C6</span>
          <span class="tag">Auto‑évaluation</span>
          <span class="tag">Réponses modèles</span>
        </div>
      </div>
    </div>
    <div class="pill">Objectif <small>proposer des mesures précises, adaptées, réalistes</small></div>
  </header>

  <div class="row">
    <section class="card">
      <h2>1) Comprendre ce qui est attendu en C4</h2>
      <div class="mini">
        <h3>La règle d’or</h3>
        <div class="muted">
          En C4, tu réponds à la question : <b>Que faire ?</b> (une action / une mesure concrète).
          <br><br>
          Une bonne mesure C4 est :
          <ul>
            <li><b>Précise</b> (pas juste « faire attention »)</li>
            <li><b>Adaptée</b> au contexte</li>
            <li><b>Réalisable</b></li>
            <li><b>Formulée clairement</b> (C6) : phrases courtes + connecteurs</li>
          </ul>
        </div>
        <p class="hint">Astuce C6 : utilise un connecteur + un verbe d’action. Exemples : donc, car, afin de, pour, ainsi.</p>
      </div>

      <div class="q" id="q0">
        <h3>Mini‑échauffement — Reconnaître une vraie mesure</h3>
        <div class="grid2">
          <div>
            <label class="muted">Choisis la meilleure réponse</label>
            <select id="warmup">
              <option value="">Sélectionner…</option>
              <option value="a">Il faut faire attention au sommeil</option>
              <option value="b">Éteindre les écrans 60 minutes avant de dormir</option>
              <option value="c">Le sommeil est important</option>
              <option value="d">Ne pas stresser</option>
            </select>
            <div class="hint" id="warmupFeedback"></div>
          </div>
          <div class="mini">
            <h3>Pourquoi ?</h3>
            <div class="muted">Une mesure C4 = une action concrète. Ici, une action claire, faisable et vérifiable.</div>
          </div>
        </div>
      </div>

      <div class="q" id="q1">
        <h3>2) Exercice — Compléter une mesure (menu déroulant)</h3>
        <div class="muted">Complète la phrase pour obtenir une mesure C4 correcte (action + précision).</div>
        <p style="margin:10px 0 8px">
          Pour améliorer la qualité du sommeil, je peux
          <select id="dd1" style="display:inline-block;max-width:260px;margin:0 6px">
            <option value="">…</option>
            <option value="v1">éviter les produits excitants en soirée</option>
            <option value="x1">expliquer ce qu’est la mélatonine</option>
            <option value="v2">me coucher à des heures régulières</option>
            <option value="x2">raconter ma journée</option>
            <option value="v3">me coucher dès les premiers signes de fatigue</option>
          </select>
          .
        </p>
        <div class="btns">
          <button class="secondary" id="check1">Vérifier</button>
          <button class="ghost" id="show1">Voir les réponses attendues</button>
        </div>
        <div class="hint" id="fb1"></div>
        <div class="model" id="model1">
          <strong>Réponses attendues possibles</strong>
          Éviter les produits excitants • Se coucher à des heures régulières • Se coucher dès les premiers signes de fatigue (bâillements, picotements des yeux).
        </div>
      </div>

      <div class="q" id="q2">
        <h3>3) Exercice — Proposer des mesures (réponse guidée + auto‑correction)</h3>
        <div class="muted">Écris tes mesures. Ensuite compare avec les réponses modèles et coche la checklist pour calculer ton score.</div>

        <div class="mini" style="margin-top:10px">
          <h3>Question A</h3>
          <div class="muted">Proposer une mesure de prévention collective pour limiter l’impact environnemental lié à la distribution des téléphones connectés.</div>
          <textarea id="taA" placeholder="Écris 1 mesure collective (ex : à l’échelle d’un pays, d’une ville, d’une entreprise, d’une organisation)"></textarea>
        </div>

        <div class="mini" style="margin-top:10px">
          <h3>Question B</h3>
          <div class="muted">Proposer deux mesures permettant de prévenir l’apparition des TMS (troubles musculo‑squelettiques).</div>
          <textarea id="taB" placeholder="Écris 2 mesures (ex : organisation, matériel, aménagement, pauses, formation…)"></textarea>
        </div>

        <div class="btns">
          <button id="show2">Afficher les réponses modèles</button>
          <button class="secondary" id="score2">Calculer mon score (auto‑évaluation)</button>
          <button class="ghost" id="reset2">Réinitialiser</button>
        </div>

        <div class="model" id="model2">
          <strong>Réponses modèles (exemples)</strong>
          <div class="muted">
            <b>Question A (collectif)</b> : favoriser l’achat de téléphones assemblés en Europe ; développer l’assemblage, le recyclage ou le reconditionnement en Europe.<br><br>
            <b>Question B (TMS)</b> : automatiser des tâches ; aménager les postes ; varier les tâches ; augmenter les pauses ; diminuer les durées d’exposition ; former (ex : PRAP/PRAPS).
          </div>
        </div>

        <div class="checklist" id="checklist2">
          <div class="checkline"><input type="checkbox" class="c2" data-pts="1"><div><b>A1</b> Ma mesure A est <b>collective</b> (pas seulement individuelle).</div></div>
          <div class="checkline"><input type="checkbox" class="c2" data-pts="1"><div><b>A2</b> Ma mesure A est <b>précise</b> (action claire : développer, favoriser, mettre en place…).</div></div>
          <div class="checkline"><input type="checkbox" class="c2" data-pts="1"><div><b>B1</b> J’ai proposé <b>2 mesures</b> contre les TMS.</div></div>
          <div class="checkline"><input type="checkbox" class="c2" data-pts="1"><div><b>B2</b> Mes mesures B sont <b>réalistes</b> et liées au travail (poste, organisation, matériel…).</div></div>
          <div class="checkline"><input type="checkbox" class="c2" data-pts="1"><div><b>C6</b> J’ai écrit en phrases claires + au moins <b>1 connecteur</b> (donc, afin de, pour…).</div></div>
        </div>

        <div class="hint" id="fb2"></div>
      </div>
    </section>

    <aside class="card">
      <h2>Tableau de bord</h2>

      <div class="mini">
        <h3>Score total</h3>
        <div class="scorebar">
          <div class="bar"><div class="fill" id="fill"></div></div>
          <div class="score" id="totalScore">0 / 10</div>
        </div>
        <div class="hint" id="globalHint">Fais les exercices puis calcule ton score.</div>
      </div>

      <div class="mini" style="margin-top:10px">
        <h3>Grille rapide C4 + C6</h3>
        <div class="muted">
          <b>C4</b> : action concrète • adaptée • réalisable<br>
          <b>C6</b> : vocabulaire de PSE • phrases complètes • connecteurs
        </div>
      </div>

      <div class="mini" style="margin-top:10px">
        <h3>Banque de verbes d’action utiles</h3>
        <div class="muted">
          Proposer • Mettre en place • Organiser • Aménager • Former • Diminuer • Varier • Automatiser • Installer • Développer • Favoriser • Réduire
        </div>
      </div>

      <div class="mini" style="margin-top:10px">
        <h3>Rappel</h3>
        <div class="muted">
          Si on te demande <b>individuelle</b> : ce que fait une personne (habitudes, gestes, choix).<br>
          Si on te demande <b>collective</b> : ce que met en place une organisation (entreprise, État, lycée, organisateurs…).
        </div>
      </div>

      <div class="footer">
        Impression : le mode print affiche aussi les réponses modèles.
      </div>
    </aside>
  </div>
</div>

<script>
  const state = {score:0, max:10};

  function setBar(){
    const pct = Math.round((state.score/state.max)*100);
    document.getElementById('fill').style.width = pct + '%';
    document.getElementById('totalScore').textContent = state.score + ' / ' + state.max;
    const gh = document.getElementById('globalHint');
    if(pct===0) gh.textContent = 'Commence par l’échauffement puis avance.';
    else if(pct<50) gh.textContent = 'Continue : vise des mesures plus précises.';
    else if(pct<80) gh.textContent = 'Bien : il reste quelques points à gagner.';
    else gh.textContent = 'Très bien : tu es prêt(e) pour des sujets type bac.';
  }
  function clampScore(){ state.score = Math.max(0, Math.min(state.max, state.score)); setBar(); }

  // Warmup (2 points)
  const warmup = document.getElementById('warmup');
  const warmupFeedback = document.getElementById('warmupFeedback');
  let warmupScored = false;
  warmup.addEventListener('change', () => {
    const v = warmup.value;
    if(!v){ warmupFeedback.textContent=''; return; }
    if(v==='b'){
      warmupFeedback.innerHTML = '<span class="ok">OK</span> : action précise et vérifiable.';
      if(!warmupScored){ state.score += 2; warmupScored = true; clampScore(); }
    }else{
      warmupFeedback.innerHTML = '<span class="bad">Non</span> : trop vague ou pas une action.';
      if(warmupScored){ state.score -= 2; warmupScored = false; clampScore(); }
    }
  });

  // Dropdown check (3 points)
  const dd1 = document.getElementById('dd1');
  const fb1 = document.getElementById('fb1');
  const model1 = document.getElementById('model1');
  let ddScored = false;
  document.getElementById('check1').addEventListener('click', () => {
    const ok = ['v1','v2','v3'].includes(dd1.value);
    if(!dd1.value){ fb1.innerHTML = '<span class="bad">Choisis une proposition</span>'; return; }
    if(ok){
      fb1.innerHTML = '<span class="ok">Correct</span> : mesure individuelle claire.';
      if(!ddScored){ state.score += 3; ddScored = true; clampScore(); }
    }else{
      fb1.innerHTML = '<span class="bad">À corriger</span> : ce n’est pas une mesure (c’est expliquer / raconter).';
      if(ddScored){ state.score -= 3; ddScored = false; clampScore(); }
    }
  });
  document.getElementById('show1').addEventListener('click', () => {
    model1.style.display = (model1.style.display==='block') ? 'none' : 'block';
  });

  // Open response + checklist (5 points)
  const model2 = document.getElementById('model2');
  const fb2 = document.getElementById('fb2');
  document.getElementById('show2').addEventListener('click', () => {
    model2.style.display = 'block';
    model2.scrollIntoView({behavior:'smooth', block:'nearest'});
  });

  document.getElementById('score2').addEventListener('click', () => {
    updateChecklistScore();
    document.getElementById('checklist2').scrollIntoView({behavior:'smooth', block:'nearest'});
  });

  // Dynamic scoring (always reflect checklist)
  function updateChecklistScore(){
    const checks = [...document.querySelectorAll('.c2')];
    const pts = Math.min(5, checks.reduce((s,c)=> s + (c.checked ? Number(c.dataset.pts) : 0), 0));
    // base total = warmup(2) + dropdown(3) + checklist(0..5)
    const base = (warmupScored?2:0) + (ddScored?3:0);
    state.score = base + pts;
    clampScore();
    if(pts===0) fb2.textContent = 'Compare tes réponses aux modèles, puis coche la checklist.';
    else if(pts<3) fb2.innerHTML = '<span class="warn">Tu progresses</span> : ajoute précision + catégories (collectif/individuel).';
    else if(pts<5) fb2.innerHTML = '<span class="ok">Bien</span> : améliore encore la clarté (C6).';
    else fb2.innerHTML = '<span class="ok">Excellent</span> : mesures précises + écriture claire.';
  }
  document.querySelectorAll('.c2').forEach(cb => cb.addEventListener('change', updateChecklistScore));
  updateChecklistScore();

  document.getElementById('reset2').addEventListener('click', () => {
    document.getElementById('taA').value='';
    document.getElementById('taB').value='';
    document.querySelectorAll('.c2').forEach(cb => cb.checked=false);
    model2.style.display='none';
    updateChecklistScore();
  });

  setBar();
</script>
</body>
</html>
