<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module A.2 - Diagnostic Expert des Troubles du Sommeil - Seconde Bac Pro</title>
    <style>
        :root {
            --primary-pse: #2E86AB;
            --secondary-pse: #A23B72;
            --success-pse: #219653;
            --warning-pse: #F2994A;
            --danger-pse: #EB5757;
            --dark-pse: #2F3542;
            --light-pse: #F1F2F6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            font-size: 16px;
            line-height: 1.6;
        }

        .exercice-container {
            width: 100%;
            max-width: 100vw;
            padding: 15px;
            min-height: 100vh;
        }

        /* En-t√™te p√©dagogique obligatoire */
        .cadre-pedagogique {
            background: linear-gradient(135deg, #2a2a3e, #1e1e2f);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .module-info h2 {
            font-size: 1.8em;
            margin-bottom: 15px;
            color: #4fc3f7;
        }

        .objectif {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 5px solid var(--warning-pse);
        }

        .competences-travaillees {
            margin-top: 20px;
        }

        .competences-list {
            list-style: none;
            padding: 0;
        }

        .competences-list li {
            background: rgba(255,255,255,0.1);
            margin: 8px 0;
            padding: 12px;
            border-radius: 8px;
            border-left: 5px solid var(--success-pse);
        }

        .niveau-cible {
            text-align: center;
            font-size: 1.1em;
            color: #4fc3f7;
            margin-top: 15px;
        }

        /* Exercice principal */
        .exercice-principal {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .section-titre {
            background: linear-gradient(135deg, var(--primary-pse), var(--secondary-pse));
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 25px 0 15px 0;
            font-size: 1.3em;
            font-weight: bold;
        }

        .cas-clinique {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid var(--primary-pse);
        }

        .question-block {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            transition: all 0.3s ease;
        }

        .question-title {
            font-weight: bold;
            color: var(--dark-pse);
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .choix-container {
            display: grid;
            gap: 12px;
            margin-top: 15px;
        }

        .choix-option {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 60px;
            display: flex;
            align-items: center;
        }

        .choix-option:hover {
            border-color: var(--primary-pse);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 134, 171, 0.2);
        }

        .choix-option.selected {
            border-color: var(--warning-pse);
            background: #fff3cd;
            transform: scale(1.02);
        }

        .choix-option.correct {
            border-color: var(--success-pse);
            background: #d4edda;
        }

        .choix-option.incorrect {
            border-color: var(--danger-pse);
            background: #f8d7da;
        }

        .btn-valider {
            background: linear-gradient(135deg, var(--success-pse), #27ae60);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin: 20px auto;
            display: block;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .btn-valider:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(33, 150, 83, 0.3);
        }

        .btn-valider:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .feedback-overlay {
            display: none;
            background: linear-gradient(135deg, #2a2a3e, #1e1e2f);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }

        .feedback-overlay.show {
            display: block;
            animation: slideInUp 0.5s ease-out;
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .correction-explicite h4 {
            color: #ff6b6b;
            margin-bottom: 15px;
        }

        .bonne-reponse {
            background: rgba(33, 150, 83, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid var(--success-pse);
        }

        .explication-pedagogique {
            background: rgba(255, 206, 84, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid var(--warning-pse);
        }

        .score-section {
            text-align: center;
            background: linear-gradient(135deg, var(--primary-pse), var(--secondary-pse));
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 25px 0;
        }

        .rgpd-notice {
            text-align: center;
            font-size: 0.9em;
            color: #666;
            margin-top: 30px;
            padding: 15px;
        }

        /* Responsive design */
        @media (min-width: 768px) {
            .exercice-container {
                padding: 20px;
                font-size: 17px;
            }
        }

        @media (min-width: 1024px) {
            .exercice-container {
                max-width: 900px;
                margin: 0 auto;
                padding: 30px;
                font-size: 18px;
            }
        }

        .competence-c1 { border-left: 5px solid #E74C3C; }
        .competence-c2 { border-left: 5px solid #3498DB; }
        .competence-c3 { border-left: 5px solid #2ECC71; }

        .tableau-diagnostic {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
        }

        .tableau-diagnostic th,
        .tableau-diagnostic td {
            border: 2px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        .tableau-diagnostic th {
            background: var(--primary-pse);
            color: white;
        }

        .highlight {
            background: #fffacd;
            padding: 2px 5px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="exercice-container">
        <!-- EN-T√äTE P√âDAGOGIQUE OBLIGATOIRE -->
        <div class="cadre-pedagogique">
            <div class="module-info">
                <h2>Module A.2 : Les rythmes biologiques - Le sommeil</h2>
                <div class="objectif">
                    <strong>Objectif :</strong> Pr√©server les rythmes biologiques, dont le sommeil, pour √™tre en bonne sant√© tout en respectant les rythmes sociaux.
                </div>
            </div>
            
            <div class="competences-travaillees">
                <h3>Comp√©tences travaill√©es dans cet exercice :</h3>
                <ul class="competences-list">
                    <li class="competence-c1"><strong>C1</strong> - Traiter une information</li>
                    <li class="competence-c2"><strong>C2</strong> - Appliquer une d√©marche d'analyse dans une situation donn√©e</li>
                    <li class="competence-c3"><strong>C3</strong> - Expliquer un ph√©nom√®ne physiologique en lien avec une mesure de pr√©vention</li>
                </ul>
            </div>
            
            <div class="niveau-cible">
                <strong>Niveau :</strong> Bac Pro Seconde
            </div>
        </div>

        <!-- EXERCICE PRINCIPAL -->
        <main class="exercice-principal">
            <div class="section-titre">
                ü©∫ Diagnostic Expert : Analyse des Troubles du Sommeil
            </div>

            <p><strong>Contexte professionnel :</strong> Vous √™tes stagiaire dans un centre de pr√©vention sant√©. Votre mission est d'analyser des cas de troubles du sommeil et de proposer des diagnostics bas√©s sur vos connaissances des rythmes biologiques.</p>

            <!-- CAS CLINIQUE 1 -->
            <div class="cas-clinique">
                <h3>üìã CAS CLINIQUE 1 : Emma, 19 ans, apprentie coiffeuse</h3>
                <p><strong>Situation :</strong> Emma travaille de 8h √† 18h en salon de coiffure. Le soir, elle regarde des s√©ries sur sa tablette jusqu'√† 2h du matin. Elle a des difficult√©s √† s'endormir et se r√©veille fatigu√©e. Son cycle menstruel est r√©gulier (28 jours). Elle pratique la course √† pied 3 fois par semaine.</p>
            </div>

            <!-- QUESTION 1 -->
            <div class="question-block" id="question-1">
                <div class="question-title">
                    <strong>üîç QUESTION 1 - COMP√âTENCE C1 (Traiter une information)</strong><br>
                    Identifiez les types de rythmes biologiques pr√©sents chez Emma :
                </div>
                <div class="choix-container">
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 1)">
                        A) Rythme circadien uniquement (alternance veille-sommeil)
                    </div>
                    <div class="choix-option" data-correct="true" onclick="selectionner(this, 1)">
                        B) Rythmes circadien (sommeil) + infradien (cycle menstruel) + ultradien (respiration pendant le sport)
                    </div>
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 1)">
                        C) Rythme infradien uniquement (cycle de 28 jours)
                    </div>
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 1)">
                        D) Rythmes ultradiens uniquement (activit√©s sportives)
                    </div>
                </div>
                <button class="btn-valider" onclick="valider(1)" disabled>Valider ma r√©ponse</button>
            </div>

            <div class="feedback-overlay" id="feedback-1">
                <div class="correction-explicite">
                    <h4>‚ùå CORRECTION</h4>
                    <div class="bonne-reponse">
                        <strong>‚úÖ LA BONNE R√âPONSE √âTAIT :</strong><br>
                        <span style="color: #28a745; font-weight: bold;">B) Rythmes circadien (sommeil) + infradien (cycle menstruel) + ultradien (respiration pendant le sport)</span>
                    </div>
                    <div class="explication-pedagogique">
                        <strong>üí° EXPLICATION :</strong> Emma pr√©sente les 3 types de rythmes biologiques :<br>
                        ‚Ä¢ <span class="highlight">Rythme CIRCADIEN</span> (‚âà24h) : alternance veille-sommeil<br>
                        ‚Ä¢ <span class="highlight">Rythme INFRADIEN</span> (>24h) : cycle menstruel de 28 jours<br>
                        ‚Ä¢ <span class="highlight">Rythme ULTRADIEN</span> (<24h) : rythme respiratoire et cardiaque pendant le sport<br><br>
                        <strong>üìö Pour l'examen :</strong> Savoir distinguer les 3 fr√©quences selon leur dur√©e est fondamental !
                    </div>
                </div>
            </div>

            <!-- QUESTION 2 -->
            <div class="question-block" id="question-2">
                <div class="question-title">
                    <strong>üîç QUESTION 2 - COMP√âTENCE C2 (Appliquer une d√©marche d'analyse)</strong><br>
                    Analysez la cause principale des difficult√©s d'endormissement d'Emma :
                </div>
                <div class="choix-container">
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 2)">
                        A) Son travail physique en salon de coiffure fatigue son organisme
                    </div>
                    <div class="choix-option" data-correct="true" onclick="selectionner(this, 2)">
                        B) La lumi√®re bleue de sa tablette inhibe la production de m√©latonine
                    </div>
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 2)">
                        C) Ses activit√©s sportives augmentent son rythme cardiaque le soir
                    </div>
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 2)">
                        D) Son cycle menstruel perturbe ses rythmes circadiens
                    </div>
                </div>
                <button class="btn-valider" onclick="valider(2)" disabled>Valider ma r√©ponse</button>
            </div>

            <div class="feedback-overlay" id="feedback-2">
                <div class="correction-explicite">
                    <h4>‚ùå CORRECTION</h4>
                    <div class="bonne-reponse">
                        <strong>‚úÖ LA BONNE R√âPONSE √âTAIT :</strong><br>
                        <span style="color: #28a745; font-weight: bold;">B) La lumi√®re bleue de sa tablette inhibe la production de m√©latonine</span>
                    </div>
                    <div class="explication-pedagogique">
                        <strong>üí° EXPLICATION :</strong> <span class="highlight">M√©canisme de la perturbation :</span><br>
                        1. L'horloge biologique d√©tecte la lumi√®re bleue des √©crans<br>
                        2. Le cerveau "croit qu'il fait encore jour"<br>
                        3. La production de <span class="highlight">m√©latonine</span> (hormone du sommeil) est bloqu√©e<br>
                        4. L'endormissement est retard√© de plusieurs heures<br><br>
                        <strong>üìö Conseil CCF :</strong> Expliquez toujours le lien cause-effet avec les hormones !
                    </div>
                </div>
            </div>

            <!-- CAS CLINIQUE 2 -->
            <div class="cas-clinique">
                <h3>üìã CAS CLINIQUE 2 : David, 20 ans, agent de s√©curit√©</h3>
                <p><strong>Situation :</strong> David travaille de nuit (22h-6h) depuis 6 mois. Il dort environ 4h par jour, se r√©veille souvent et fait des cauchemars. Au travail, il a du mal √† se concentrer et a eu un petit accident (chute dans les escaliers). Il ne voit plus ses amis et est irritable.</p>
            </div>

            <!-- QUESTION 3 -->
            <div class="question-block" id="question-3">
                <div class="question-title">
                    <strong>üîç QUESTION 3 - COMP√âTENCE C3 (Expliquer un ph√©nom√®ne physiologique)</strong><br>
                    Expliquez pourquoi David manque de sommeil paradoxal et ses cons√©quences :
                </div>
                <div class="choix-container">
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 3)">
                        A) Le sommeil paradoxal ne sert qu'√† r√™ver, ce n'est pas grave pour la sant√©
                    </div>
                    <div class="choix-option" data-correct="true" onclick="selectionner(this, 3)">
                        B) Le sommeil paradoxal assure la r√©cup√©ration mentale et la m√©morisation, d'o√π troubles de concentration et irritabilit√©
                    </div>
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 3)">
                        C) Le sommeil paradoxal permet seulement la r√©paration musculaire
                    </div>
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 3)">
                        D) Les cauchemars prouvent que David a trop de sommeil paradoxal
                    </div>
                </div>
                <button class="btn-valider" onclick="valider(3)" disabled>Valider ma r√©ponse</button>
            </div>

            <div class="feedback-overlay" id="feedback-3">
                <div class="correction-explicite">
                    <h4>‚ùå CORRECTION</h4>
                    <div class="bonne-reponse">
                        <strong>‚úÖ LA BONNE R√âPONSE √âTAIT :</strong><br>
                        <span style="color: #28a745; font-weight: bold;">B) Le sommeil paradoxal assure la r√©cup√©ration mentale et la m√©morisation, d'o√π troubles de concentration et irritabilit√©</span>
                    </div>
                    <div class="explication-pedagogique">
                        <strong>üí° EXPLICATION :</strong> <span class="highlight">R√¥les du sommeil paradoxal :</span><br>
                        ‚Ä¢ <strong>R√©cup√©ration mentale</strong> : √©vacuation du stress, r√©gulation √©motionnelle<br>
                        ‚Ä¢ <strong>M√©morisation</strong> : consolidation des apprentissages de la journ√©e<br>
                        ‚Ä¢ <strong>Activit√© c√©r√©brale intense</strong> : "nettoyage" neuronal<br><br>
                        <span class="highlight">Cons√©quences du d√©ficit :</span> troubles de l'attention, irritabilit√©, difficult√©s d'apprentissage, risques d'accidents<br><br>
                        <strong>‚ö†Ô∏è Point cl√© :</strong> Ne pas confondre avec le sommeil lent profond (r√©cup√©ration physique) !
                    </div>
                </div>
            </div>

            <!-- QUESTION 4 -->
            <div class="question-block" id="question-4">
                <div class="question-title">
                    <strong>üîç QUESTION 4 - COMP√âTENCE C2 (Appliquer une d√©marche d'analyse)</strong><br>
                    Analysez les cycles de sommeil normaux. Combien de cycles complets David devrait-il avoir pour un sommeil r√©parateur ?
                </div>
                <div class="choix-container">
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 4)">
                        A) 2 cycles de 90 minutes = 3h de sommeil suffisent
                    </div>
                    <div class="choix-option" data-correct="true" onclick="selectionner(this, 4)">
                        B) 4 √† 5 cycles de 90 minutes = 6h √† 7h30 de sommeil n√©cessaires
                    </div>
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 4)">
                        C) 8 cycles de 60 minutes = 8h de sommeil obligatoires
                    </div>
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 4)">
                        D) Le nombre de cycles n'a pas d'importance, seule la dur√©e compte
                    </div>
                </div>
                <button class="btn-valider" onclick="valider(4)" disabled>Valider ma r√©ponse</button>
            </div>

            <div class="feedback-overlay" id="feedback-4">
                <div class="correction-explicite">
                    <h4>‚ùå CORRECTION</h4>
                    <div class="bonne-reponse">
                        <strong>‚úÖ LA BONNE R√âPONSE √âTAIT :</strong><br>
                        <span style="color: #28a745; font-weight: bold;">B) 4 √† 5 cycles de 90 minutes = 6h √† 7h30 de sommeil n√©cessaires</span>
                    </div>
                    <div class="explication-pedagogique">
                        <strong>üí° EXPLICATION :</strong> <span class="highlight">Structure du sommeil normal :</span><br>
                        ‚Ä¢ <strong>1 cycle</strong> = 90 minutes environ<br>
                        ‚Ä¢ <strong>1 nuit</strong> = 4 √† 5 cycles complets<br>
                        ‚Ä¢ <strong>Chaque cycle</strong> comprend sommeil lent l√©ger ‚Üí lent profond ‚Üí paradoxal<br><br>
                        <span class="highlight">Probl√®me de David :</span> Avec seulement 4h de sommeil, il ne compl√®te que 2,5 cycles ‚Üí d√©ficit majeur en sommeil paradoxal et lent profond<br><br>
                        <strong>üìä Chiffres √† retenir :</strong> 6h minimum, 7h30 id√©al pour un jeune adulte !
                    </div>
                </div>
            </div>

            <!-- QUESTION 5 -->
            <div class="question-block" id="question-5">
                <div class="question-title">
                    <strong>üîç QUESTION 5 - COMP√âTENCE C1 (Traiter une information)</strong><br>
                    √Ä partir de vos connaissances, identifiez les synchroniseurs de l'horloge biologique perturb√©s chez David :
                </div>
                <div class="choix-container">
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 5)">
                        A) Seulement l'alternance jour/nuit (exposition √† la lumi√®re artificielle la nuit)
                    </div>
                    <div class="choix-option" data-correct="true" onclick="selectionner(this, 5)">
                        B) Alternance jour/nuit + rythmes sociaux (horaires de travail, repas, loisirs d√©cal√©s)
                    </div>
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 5)">
                        C) Seulement les rythmes sociaux (travail de nuit)
                    </div>
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 5)">
                        D) Aucun synchroniseur n'est perturb√©, c'est un probl√®me de volont√©
                    </div>
                </div>
                <button class="btn-valider" onclick="valider(5)" disabled>Valider ma r√©ponse</button>
            </div>

            <div class="feedback-overlay" id="feedback-5">
                <div class="correction-explicite">
                    <h4>‚ùå CORRECTION</h4>
                    <div class="bonne-reponse">
                        <strong>‚úÖ LA BONNE R√âPONSE √âTAIT :</strong><br>
                        <span style="color: #28a745; font-weight: bold;">B) Alternance jour/nuit + rythmes sociaux (horaires de travail, repas, loisirs d√©cal√©s)</span>
                    </div>
                    <div class="explication-pedagogique">
                        <strong>üí° EXPLICATION :</strong> <span class="highlight">Synchroniseurs perturb√©s chez David :</span><br>
                        ‚Ä¢ <strong>Synchroniseur principal</strong> : lumi√®re (travail sous √©clairage artificiel la nuit)<br>
                        ‚Ä¢ <strong>Synchroniseurs secondaires</strong> : horaires de repas d√©cal√©s, rythme social invers√©, absence de loisirs<br><br>
                        <span class="highlight">Cons√©quence :</span> D√©synchronisation compl√®te de l'horloge biologique ‚Üí troubles multiples (physiologiques, psychologiques, sociaux)<br><br>
                        <strong>üîë Concept cl√© :</strong> L'horloge biologique ne peut pas s'adapter seule, elle a besoin de TOUS ses synchroniseurs !
                    </div>
                </div>
            </div>

            <!-- QUESTION SYNTH√àSE -->
            <div class="question-block" id="question-6">
                <div class="question-title">
                    <strong>üîç QUESTION 6 - COMP√âTENCE C3 (Expliquer un ph√©nom√®ne physiologique)</strong><br>
                    Expliquez pourquoi le travail de nuit de David augmente son risque d'accident du travail :
                </div>
                <div class="choix-container">
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 6)">
                        A) La nuit, il fait plus sombre donc on voit moins bien
                    </div>
                    <div class="choix-option" data-correct="true" onclick="selectionner(this, 6)">
                        B) La d√©synchronisation des rythmes biologiques diminue la vigilance et alt√®re les r√©flexes
                    </div>
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 6)">
                        C) David est moins motiv√© la nuit que le jour
                    </div>
                    <div class="choix-option" data-correct="false" onclick="selectionner(this, 6)">
                        D) Les √©quipements de s√©curit√© fonctionnent moins bien la nuit
                    </div>
                </div>
                <button class="btn-valider" onclick="valider(6)" disabled>Valider ma r√©ponse</button>
            </div>

            <div class="feedback-overlay" id="feedback-6">
                <div class="correction-explicite">
                    <h4>‚ùå CORRECTION</h4>
                    <div class="bonne-reponse">
                        <strong>‚úÖ LA BONNE R√âPONSE √âTAIT :</strong><br>
                        <span style="color: #28a745; font-weight: bold;">B) La d√©synchronisation des rythmes biologiques diminue la vigilance et alt√®re les r√©flexes</span>
                    </div>
                    <div class="explication-pedagogique">
                        <strong>üí° EXPLICATION :</strong> <span class="highlight">M√©canisme physiologique :</span><br>
                        1. <strong>Horloge biologique perturb√©e</strong> ‚Üí organisme "programm√©" pour dormir la nuit<br>
                        2. <strong>D√©ficit de sommeil</strong> ‚Üí fatigue cognitive et physique<br>
                        3. <strong>Baisse de vigilance</strong> ‚Üí temps de r√©action rallong√©<br>
                        4. <strong>Alt√©ration des r√©flexes</strong> ‚Üí coordination diminu√©e<br><br>
                        <span class="highlight">R√©sultat :</span> Risque d'accident multipli√© par 7 entre 2h et 5h du matin !<br><br>
                        <strong>‚ö†Ô∏è Enjeu professionnel :</strong> C'est pourquoi la r√©glementation encadre strictement le travail de nuit.
                    </div>
                </div>
            </div>

            <!-- SCORE ET AUTO-√âVALUATION -->
            <div class="score-section" id="score-final" style="display: none;">
                <h2>üéØ Votre Diagnostic Expert</h2>
                <div id="score-display"></div>
                <div id="competences-evaluation"></div>
                <p><strong>Bravo ! Vous avez termin√© l'analyse des troubles du sommeil.</strong><br>
                Vous ma√Ætrisez maintenant les m√©canismes des rythmes biologiques et leurs perturbations.</p>
            </div>
        </main>

        <!-- RGPD FOOTER -->
        <div class="rgpd-notice">
            üîí Conformit√© RGPD : Cet exercice respecte votre anonymat.
        </div>
    </div>

    <script>
        const reponses = {};
        let questionsValidees = 0;
        const totalQuestions = 6;

        const competencesScore = {
            'C1': { total: 0, reussies: 0 },
            'C2': { total: 0, reussies: 0 },
            'C3': { total: 0, reussies: 0 }
        };

        // Associer les questions aux comp√©tences
        const questionCompetences = {
            1: 'C1', 2: 'C2', 3: 'C3', 4: 'C2', 5: 'C1', 6: 'C3'
        };

        function selectionner(element, questionNum) {
            // D√©s√©lectionner les autres options
            const options = element.parentElement.querySelectorAll('.choix-option');
            options.forEach(opt => opt.classList.remove('selected'));
            
            // S√©lectionner l'option cliqu√©e
            element.classList.add('selected');
            reponses[questionNum] = element.getAttribute('data-correct') === 'true';
            
            // Activer le bouton de validation
            const btnValider = document.querySelector(`#question-${questionNum} .btn-valider`);
            btnValider.disabled = false;
        }

        function valider(questionNum) {
            const questionBlock = document.getElementById(`question-${questionNum}`);
            const feedbackOverlay = document.getElementById(`feedback-${questionNum}`);
            const options = questionBlock.querySelectorAll('.choix-option');
            
            // Marquer toutes les r√©ponses visuellement
            options.forEach(opt => {
                if (opt.getAttribute('data-correct') === 'true') {
                    opt.classList.add('correct');
                } else if (opt.classList.contains('selected')) {
                    opt.classList.add('incorrect');
                }
                opt.style.pointerEvents = 'none';
            });

            // Mettre √† jour le score des comp√©tences
            const competence = questionCompetences[questionNum];
            competencesScore[competence].total++;
            if (reponses[questionNum]) {
                competencesScore[competence].reussies++;
            }

            // Afficher le feedback
            feedbackOverlay.classList.add('show');
            
            // D√©sactiver le bouton
            const btnValider = questionBlock.querySelector('.btn-valider');
            btnValider.disabled = true;
            btnValider.textContent = 'R√©ponse valid√©e ‚úì';
            
            questionsValidees++;
            
            // Afficher le score final si toutes les questions sont termin√©es
            if (questionsValidees === totalQuestions) {
                setTimeout(afficherScoreFinal, 1000);
            }
        }

        function afficherScoreFinal() {
            const scoreSection = document.getElementById('score-final');
            const scoreDisplay = document.getElementById('score-display');
            const competencesEval = document.getElementById('competences-evaluation');
            
            const bonnesReponses = Object.values(reponses).filter(r => r).length;
            const pourcentage = Math.round((bonnesReponses / totalQuestions) * 100);
            
            scoreDisplay.innerHTML = `
                <h3>Score : ${bonnesReponses}/${totalQuestions} (${pourcentage}%)</h3>
            `;
            
            let evalHtml = '<h4>üìä √âvaluation par comp√©tences :</h4>';
            for (const [comp, scores] of Object.entries(competencesScore)) {
                const pourcentComp = scores.total > 0 ? Math.round((scores.reussies / scores.total) * 100) : 0;
                let niveau = '';
                if (pourcentComp >= 80) niveau = 'Tr√®s bien ma√Ætris√© ‚ú®';
                else if (pourcentComp >= 60) niveau = 'Ma√Ætris√© ‚úì';
                else if (pourcentComp >= 40) niveau = 'Insuffisamment ma√Ætris√© ‚ö†Ô∏è';
                else niveau = 'Non ma√Ætris√© ‚ùå';
                
                evalHtml += `<p><strong>${comp}</strong> : ${scores.reussies}/${scores.total} - ${niveau}</p>`;
            }
            
            competencesEval.innerHTML = evalHtml;
            scoreSection.style.display = 'block';
            scoreSection.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>