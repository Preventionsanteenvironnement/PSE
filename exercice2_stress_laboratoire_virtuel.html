<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A8 - Laboratoire Virtuel Stress - Bac Pro Premi√®re</title>
    <style>
        :root {
            --primary-pse: #2E86AB;
            --secondary-pse: #A23B72;
            --success-pse: #219653;
            --warning-pse: #F2994A;
            --danger-pse: #EB5757;
            --dark-pse: #2F3542;
            --light-pse: #F1F2F6;
            --adrenaline-color: #e74c3c;
            --cortisol-color: #f39c12;
            --lab-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: var(--lab-bg);
            min-height: 100vh;
        }

        /* Mobile-first responsive */
        .exercice-container {
            width: 100%;
            max-width: 100vw;
            padding: 15px;
            font-size: 16px;
        }

        @media (min-width: 768px) {
            .exercice-container {
                padding: 20px;
                font-size: 17px;
            }
        }

        @media (min-width: 1024px) {
            .exercice-container {
                max-width: 1000px;
                margin: 0 auto;
                padding: 30px;
                font-size: 18px;
            }
        }

        /* En-t√™te p√©dagogique obligatoire */
        .cadre-pedagogique {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 25px;
            padding: 20px;
            border-left: 8px solid var(--primary-pse);
        }

        .module-info h2 {
            color: var(--primary-pse);
            font-size: 1.8em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .module-info h2::before {
            content: "üß¨";
            margin-right: 10px;
            font-size: 1.2em;
        }

        .objectif {
            background: linear-gradient(90deg, #f8f9ff, #ffffff);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid var(--warning-pse);
        }

        .competences-travaillees h3 {
            color: var(--dark-pse);
            margin: 15px 0 10px 0;
            font-size: 1.2em;
        }

        .competences-list {
            list-style: none;
            padding: 0;
        }

        .competences-list li {
            padding: 8px 15px;
            margin: 5px 0;
            border-radius: 5px;
            background: linear-gradient(90deg, rgba(46, 134, 171, 0.1), rgba(255,255,255,0.8));
        }

        .competence-c1 { border-left: 5px solid #E74C3C; }
        .competence-c3 { border-left: 5px solid #2ECC71; }

        .niveau-cible {
            background: var(--success-pse);
            color: white;
            padding: 10px 15px;
            border-radius: 25px;
            display: inline-block;
            font-weight: bold;
            margin-top: 10px;
        }

        /* Laboratoire virtuel */
        .lab-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 25px;
            margin-bottom: 25px;
            position: relative;
        }

        .lab-container::before {
            content: "üî¨";
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 2.5em;
            opacity: 0.7;
        }

        .lab-title {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            text-align: center;
        }

        .lab-title h3 {
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        /* Instructions interaction */
        .instructions-interaction {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        /* Phases du stress - Manipulation interactive */
        .phases-container {
            display: grid;
            gap: 20px;
            margin: 25px 0;
        }

        @media (min-width: 768px) {
            .phases-container {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .phase-card {
            background: white;
            border: 3px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 200px;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .phase-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .phase-card.active {
            border-color: var(--primary-pse);
            background: linear-gradient(135deg, rgba(46, 134, 171, 0.1), rgba(255,255,255,0.9));
            transform: scale(1.05);
        }

        .phase-card h4 {
            color: var(--primary-pse);
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .phase-number {
            background: var(--primary-pse);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin: 0 auto 10px;
            font-size: 1.2em;
        }

        /* Simulation physiologique */
        .simulation-container {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            border: 2px solid var(--primary-pse);
        }

        .organe-humain {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .organe-item {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .organe-item:hover {
            border-color: var(--primary-pse);
            transform: scale(1.05);
        }

        .organe-item.stimule {
            background: linear-gradient(135deg, var(--adrenaline-color), #c0392b);
            color: white;
            border-color: var(--adrenaline-color);
            animation: pulse 1.5s infinite;
        }

        .organe-item.cortisol-active {
            background: linear-gradient(135deg, var(--cortisol-color), #e67e22);
            color: white;
            border-color: var(--cortisol-color);
            animation: glow 2s infinite alternate;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes glow {
            0% { box-shadow: 0 0 10px rgba(243, 156, 18, 0.5); }
            100% { box-shadow: 0 0 25px rgba(243, 156, 18, 0.8); }
        }

        .organe-emoji {
            font-size: 2em;
            margin-bottom: 8px;
        }

        /* Hormone tracker */
        .hormone-tracker {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin: 25px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .hormone-levels {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .hormone-item {
            text-align: center;
            flex: 1;
            min-width: 150px;
        }

        .hormone-bar {
            width: 100%;
            height: 30px;
            background: #e9ecef;
            border-radius: 15px;
            overflow: hidden;
            margin: 10px 0;
            position: relative;
        }

        .hormone-fill {
            height: 100%;
            border-radius: 15px;
            transition: width 0.8s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
        }

        .adrenaline-fill {
            background: linear-gradient(90deg, var(--adrenaline-color), #c0392b);
        }

        .cortisol-fill {
            background: linear-gradient(90deg, var(--cortisol-color), #e67e22);
        }

        /* Questions interactives */
        .question-interactive {
            background: white;
            border: 2px solid var(--primary-pse);
            border-radius: 12px;
            padding: 20px;
            margin: 25px 0;
        }

        .question-interactive h4 {
            color: var(--primary-pse);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .question-interactive h4::before {
            content: "ü§î";
            margin-right: 8px;
        }

        .drag-drop-zone {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .drag-drop-zone {
                grid-template-columns: 1fr;
            }
        }

        .elements-source {
            background: #f8f9fa;
            border: 2px dashed #adb5bd;
            border-radius: 8px;
            padding: 20px;
            min-height: 200px;
        }

        .elements-target {
            background: #e3f2fd;
            border: 2px dashed var(--primary-pse);
            border-radius: 8px;
            padding: 20px;
            min-height: 200px;
        }

        .element-draggable {
            background: white;
            border: 2px solid #dee2e6;
            border-radius: 6px;
            padding: 10px;
            margin: 8px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
            min-height: 44px;
            display: flex;
            align-items: center;
        }

        .element-draggable:hover {
            border-color: var(--primary-pse);
            transform: scale(1.02);
        }

        .element-draggable.selected {
            background: linear-gradient(135deg, var(--warning-pse), #e67e22);
            color: white;
            border-color: var(--warning-pse);
            transform: scale(1.1);
        }

        .element-draggable.placed {
            background: linear-gradient(135deg, var(--success-pse), #27ae60);
            color: white;
            border-color: var(--success-pse);
        }

        .btn-lab {
            background: linear-gradient(135deg, var(--primary-pse), #4a90e2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 5px;
            min-height: 44px;
        }

        .btn-lab:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(46, 134, 171, 0.4);
        }

        .btn-lab:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-reset {
            background: linear-gradient(135deg, var(--warning-pse), #e67e22);
        }

        .btn-valider {
            background: linear-gradient(135deg, var(--success-pse), #27ae60);
        }

        /* Correction explicite */
        .correction-explicite {
            background: linear-gradient(135deg, #2a2a3e, #1e1e2f);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            display: none;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }

        .correction-explicite.show {
            display: block;
            animation: slideDown 0.5s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .correction-explicite h4 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .resultat-correct {
            background: rgba(33, 150, 83, 0.4);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid var(--success-pse);
        }

        .explication-scientifique {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #ffd700;
        }

        /* √âvaluation comp√©tences */
        .evaluation-competences {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 25px;
            display: none;
        }

        .evaluation-competences.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .competence-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .competence-status {
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
        }

        .status-acquis {
            background: var(--success-pse);
            color: white;
        }

        .status-en-cours {
            background: var(--warning-pse);
            color: white;
        }

        .progress-indicator {
            text-align: center;
            margin: 20px 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-pse), var(--success-pse));
            width: 0%;
            transition: width 0.8s ease;
        }

        /* Success animation */
        .success-animation {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, var(--success-pse), #27ae60);
            color: white;
            border-radius: 12px;
            margin: 20px 0;
            display: none;
        }

        .success-animation.show {
            display: block;
            animation: successPulse 0.6s ease;
        }

        @keyframes successPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* RGPD Footer */
        .rgpd-notice {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            margin-top: 30px;
            color: white;
            font-size: 0.9em;
        }

        .rgpd-notice::before {
            content: "üîí ";
        }
    </style>
</head>
<body>
    <div class="exercice-container">
        <!-- EN-T√äTE P√âDAGOGIQUE OBLIGATOIRE -->
        <div class="cadre-pedagogique">
            <div class="module-info">
                <h2>Module A8 : Le stress au quotidien</h2>
                <div class="objectif">
                    <strong>Objectif :</strong> Appr√©hender le m√©canisme physiologique du stress pour mieux s'en prot√©ger
                </div>
            </div>
            
            <div class="competences-travaillees">
                <h3>Comp√©tences travaill√©es dans cet exercice :</h3>
                <ul class="competences-list">
                    <li class="competence-c1"><strong>C1</strong> - Traiter une information</li>
                    <li class="competence-c3"><strong>C3</strong> - Expliquer un ph√©nom√®ne physiologique en lien avec une mesure de pr√©vention</li>
                </ul>
            </div>
            
            <div class="niveau-cible">
                <strong>Niveau :</strong> Bac Pro Premi√®re
            </div>
        </div>

        <!-- LABORATOIRE VIRTUEL -->
        <main class="lab-container">
            <div class="instructions-interaction">
                <h5>üß™ LABORATOIRE VIRTUEL - MODE D'EMPLOI :</h5>
                <p><strong>1.</strong> Cliquez sur une phase du stress pour d√©clencher la simulation physiologique
                <strong>2.</strong> Observez les r√©actions des organes et les niveaux d'hormones 
                <strong>3.</strong> Reliez les √©l√©ments par clic-s√©lection dans les exercices interactifs</p>
            </div>

            <div class="lab-title">
                <h3>üî¨ Laboratoire des 3 Phases du Stress</h3>
                <p>Explorez les m√©canismes physiologiques du syndrome g√©n√©ral d'adaptation</p>
            </div>

            <!-- S√âLECTION DES PHASES -->
            <div class="phases-container">
                <div class="phase-card" onclick="activerPhase(1)" id="phase1">
                    <div class="phase-number">1</div>
                    <h4>Phase d'Alarme</h4>
                    <p>R√©action imm√©diate<br>< 1 heure</p>
                    <small>üö® Mobilisation rapide</small>
                </div>
                
                <div class="phase-card" onclick="activerPhase(2)" id="phase2">
                    <div class="phase-number">2</div>
                    <h4>Phase de R√©sistance</h4>
                    <p>Adaptation prolong√©e<br>< 1 mois</p>
                    <small>‚öñÔ∏è Maintien de l'√©nergie</small>
                </div>
                
                <div class="phase-card" onclick="activerPhase(3)" id="phase3">
                    <div class="phase-number">3</div>
                    <h4>Phase d'√âpuisement</h4>
                    <p>D√©passement des capacit√©s<br>Pathologies</p>
                    <small>üîã Ressources √©puis√©es</small>
                </div>
            </div>

            <!-- SIMULATION PHYSIOLOGIQUE -->
            <div class="simulation-container">
                <h4>ü´Ä Simulation Physiologique Interactive</h4>
                <p id="phase-description">Cliquez sur une phase pour observer les r√©actions physiologiques</p>
                
                <div class="organe-humain">
                    <div class="organe-item" id="coeur">
                        <div class="organe-emoji">‚ù§Ô∏è</div>
                        <strong>C≈ìur</strong>
                        <small id="coeur-status">Au repos</small>
                    </div>
                    
                    <div class="organe-item" id="poumons">
                        <div class="organe-emoji">ü´Å</div>
                        <strong>Poumons</strong>
                        <small id="poumons-status">Respiration normale</small>
                    </div>
                    
                    <div class="organe-item" id="muscles">
                        <div class="organe-emoji">üí™</div>
                        <strong>Muscles</strong>
                        <small id="muscles-status">D√©tendus</small>
                    </div>
                    
                    <div class="organe-item" id="foie">
                        <div class="organe-emoji">üü§</div>
                        <strong>Foie</strong>
                        <small id="foie-status">Production normale</small>
                    </div>
                    
                    <div class="organe-item" id="surr√©nales">
                        <div class="organe-emoji">üî¥</div>
                        <strong>Surr√©nales</strong>
                        <small id="surrenales-status">S√©cr√©tion faible</small>
                    </div>
                    
                    <div class="organe-item" id="cerveau">
                        <div class="organe-emoji">üß†</div>
                        <strong>Cerveau</strong>
                        <small id="cerveau-status">Vigilance normale</small>
                    </div>
                </div>
                
                <!-- NIVEAUX D'HORMONES -->
                <div class="hormone-tracker">
                    <h5>üìä Niveaux d'Hormones</h5>
                    <div class="hormone-levels">
                        <div class="hormone-item">
                            <strong style="color: var(--adrenaline-color);">Adr√©naline</strong>
                            <div class="hormone-bar">
                                <div class="hormone-fill adrenaline-fill" id="adrenaline-level" style="width: 10%;">10%</div>
                            </div>
                            <small id="adrenaline-info">Niveau basal</small>
                        </div>
                        
                        <div class="hormone-item">
                            <strong style="color: var(--cortisol-color);">Cortisol</strong>
                            <div class="hormone-bar">
                                <div class="hormone-fill cortisol-fill" id="cortisol-level" style="width: 5%;">5%</div>
                            </div>
                            <small id="cortisol-info">Niveau basal</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- EXERCICE INTERACTIF -->
            <div class="question-interactive">
                <h4>Exercice 1 : Associez les sympt√¥mes √† la phase correspondante (C1)</h4>
                <p>Cliquez sur un sympt√¥me puis sur la phase correspondante pour l'associer.</p>
                
                <div class="drag-drop-zone">
                    <div class="elements-source">
                        <h5>üí° Sympt√¥mes √† classer :</h5>
                        <div class="element-draggable" data-symptome="tachycardie" onclick="selectionnerElement(this)">
                            Acc√©l√©ration du rythme cardiaque
                        </div>
                        <div class="element-draggable" data-symptome="tensions" onclick="selectionnerElement(this)">
                            Tensions musculaires chroniques
                        </div>
                        <div class="element-draggable" data-symptome="vigilance" onclick="selectionnerElement(this)">
                            Augmentation de la vigilance
                        </div>
                        <div class="element-draggable" data-symptome="fatigue" onclick="selectionnerElement(this)">
                            Fatigue chronique et pathologies
                        </div>
                        <div class="element-draggable" data-symptome="glucose" onclick="selectionnerElement(this)">
                            Lib√©ration massive de glucose
                        </div>
                        <div class="element-draggable" data-symptome="immunite" onclick="selectionnerElement(this)">
                            Affaiblissement syst√®me immunitaire
                        </div>
                    </div>
                    
                    <div class="elements-target">
                        <h5>üéØ Zones de classification :</h5>
                        <div class="zone-drop" data-phase="alarme" onclick="placerDansPhase(this)">
                            <strong>Phase d'ALARME</strong>
                            <div id="alarme-items"></div>
                        </div>
                        <div class="zone-drop" data-phase="resistance" onclick="placerDansPhase(this)">
                            <strong>Phase de R√âSISTANCE</strong>
                            <div id="resistance-items"></div>
                        </div>
                        <div class="zone-drop" data-phase="epuisement" onclick="placerDansPhase(this)">
                            <strong>Phase d'√âPUISEMENT</strong>
                            <div id="epuisement-items"></div>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="btn-lab btn-reset" onclick="resetExercice()">üîÑ Reset</button>
                    <button class="btn-lab btn-valider" onclick="validerExercice()">‚úÖ Valider</button>
                </div>
            </div>

            <!-- CORRECTION EXPLICITE -->
            <div class="correction-explicite" id="correction1">
                <h4>üéØ CORRECTION D√âTAILL√âE</h4>
                <div class="resultat-correct">
                    <strong>‚úÖ ASSOCIATIONS CORRECTES :</strong><br>
                    <strong>Phase d'ALARME :</strong> Acc√©l√©ration cardiaque + Augmentation vigilance + Lib√©ration glucose<br>
                    <strong>Phase de R√âSISTANCE :</strong> Tensions musculaires chroniques<br>
                    <strong>Phase d'√âPUISEMENT :</strong> Fatigue chronique + Affaiblissement immunitaire
                </div>
                <div class="explication-scientifique">
                    <strong>üí° EXPLICATION SCIENTIFIQUE :</strong><br>
                    <strong>Phase d'alarme :</strong> L'hypothalamus stimule les surr√©nales ‚Üí s√©cr√©tion d'adr√©naline ‚Üí effets imm√©diats (tachycardie, hypervigilance, mobilisation √©nerg√©tique).<br>
                    <strong>Phase de r√©sistance :</strong> S√©cr√©tion continue d'adr√©naline + cortisol ‚Üí maintien de l'adaptation ‚Üí tensions musculaires persistantes.<br>
                    <strong>Phase d'√©puisement :</strong> Saturation des syst√®mes adaptatifs ‚Üí √©puisement des ressources ‚Üí pathologies (fatigue, immunod√©pression).
                </div>
            </div>
        </main>

        <!-- AUTO-√âVALUATION COMP√âTENCES -->
        <div class="evaluation-competences" id="evaluation">
            <h3>üìä Votre progression par comp√©tences</h3>
            <div class="progress-indicator">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressBar"></div>
                </div>
                <p id="progressText">0% - Explorez le laboratoire virtuel</p>
            </div>
            
            <div class="competence-item">
                <span><strong>C1 :</strong> Traiter une information</span>
                <span class="competence-status status-en-cours" id="statusC1">En cours</span>
            </div>
            <div class="competence-item">
                <span><strong>C3 :</strong> Expliquer un ph√©nom√®ne physiologique</span>
                <span class="competence-status status-en-cours" id="statusC3">En cours</span>
            </div>
        </div>

        <!-- ANIMATION DE SUCC√àS -->
        <div class="success-animation" id="successAnimation">
            <h2>üéâ Excellent travail !</h2>
            <p>Vous ma√Ætrisez maintenant les m√©canismes physiologiques du stress !</p>
            <p><strong>Comp√©tences d√©velopp√©es :</strong> Traitement d'information (C1) + Explication physiologique (C3)</p>
        </div>

        <!-- RGPD FOOTER -->
        <div class="rgpd-notice">
            Conformit√© RGPD : Cet exercice respecte votre anonymat.
        </div>
    </div>

    <script>
        let phaseActive = 0;
        let elementSelectionne = null;
        let associations = {};
        let exerciceComplete = false;

        // Associations correctes
        const bonnesAssociations = {
            'tachycardie': 'alarme',
            'vigilance': 'alarme', 
            'glucose': 'alarme',
            'tensions': 'resistance',
            'fatigue': 'epuisement',
            'immunite': 'epuisement'
        };

        function activerPhase(numPhase) {
            // D√©sactiver toutes les phases
            document.querySelectorAll('.phase-card').forEach(card => {
                card.classList.remove('active');
            });
            
            // Activer la phase s√©lectionn√©e
            document.getElementById(`phase${numPhase}`).classList.add('active');
            phaseActive = numPhase;
            
            // R√©initialiser les organes
            resetOrganes();
            
            // Simuler les effets physiologiques
            simulerPhase(numPhase);
            
            // Mettre √† jour la progression
            if (!document.getElementById('evaluation').classList.contains('show')) {
                document.getElementById('evaluation').classList.add('show');
                mettreAJourProgression(25);
            }
        }

        function resetOrganes() {
            const organes = document.querySelectorAll('.organe-item');
            organes.forEach(organe => {
                organe.classList.remove('stimule', 'cortisol-active');
            });
        }

        function simulerPhase(numPhase) {
            const organes = {
                coeur: document.getElementById('coeur'),
                poumons: document.getElementById('poumons'),
                muscles: document.getElementById('muscles'),
                foie: document.getElementById('foie'),
                surr√©nales: document.getElementById('surr√©nales'),
                cerveau: document.getElementById('cerveau')
            };

            const statusElements = {
                coeur: document.getElementById('coeur-status'),
                poumons: document.getElementById('poumons-status'),
                muscles: document.getElementById('muscles-status'),
                foie: document.getElementById('foie-status'),
                surrenales: document.getElementById('surrenales-status'),
                cerveau: document.getElementById('cerveau-status')
            };

            switch(numPhase) {
                case 1: // Phase d'alarme
                    document.getElementById('phase-description').textContent = 
                        "PHASE D'ALARME : R√©action imm√©diate de mobilisation (adr√©naline)";
                    
                    // Stimuler les organes
                    organes.coeur.classList.add('stimule');
                    organes.poumons.classList.add('stimule');
                    organes.muscles.classList.add('stimule');
                    organes.surr√©nales.classList.add('stimule');
                    organes.cerveau.classList.add('stimule');
                    
                    // Mettre √† jour les status
                    statusElements.coeur.textContent = "Tachycardie";
                    statusElements.poumons.textContent = "Hyperventilation";
                    statusElements.muscles.textContent = "Contract√©s";
                    statusElements.foie.textContent = "Lib√©ration glucose";
                    statusElements.surrenales.textContent = "Adr√©naline +++";
                    statusElements.cerveau.textContent = "Hypervigilance";
                    
                    // Hormones
                    animerHormone('adrenaline', 85, "Pic d'adr√©naline");
                    animerHormone('cortisol', 20, "L√©g√®re augmentation");
                    break;

                case 2: // Phase de r√©sistance
                    document.getElementById('phase-description').textContent = 
                        "PHASE DE R√âSISTANCE : Adaptation prolong√©e (adr√©naline + cortisol)";
                    
                    organes.muscles.classList.add('cortisol-active');
                    organes.foie.classList.add('cortisol-active');
                    organes.surr√©nales.classList.add('cortisol-active');
                    
                    statusElements.coeur.textContent = "Rythme √©lev√©";
                    statusElements.poumons.textContent = "Respiration rapide";
                    statusElements.muscles.textContent = "Tensions chroniques";
                    statusElements.foie.textContent = "Glucose maintenu";
                    statusElements.surrenales.textContent = "Adr√© + Cortisol";
                    statusElements.cerveau.textContent = "Stress maintenu";
                    
                    animerHormone('adrenaline', 60, "Niveau √©lev√©");
                    animerHormone('cortisol', 70, "S√©cr√©tion importante");
                    break;

                case 3: // Phase d'√©puisement
                    document.getElementById('phase-description').textContent = 
                        "PHASE D'√âPUISEMENT : D√©passement des capacit√©s - Pathologies";
                    
                    // Tous les organes affect√©s
                    Object.values(organes).forEach(organe => {
                        organe.style.background = 'linear-gradient(135deg, #e74c3c, #c0392b)';
                        organe.style.color = 'white';
                    });
                    
                    statusElements.coeur.textContent = "Pathologies cardio";
                    statusElements.poumons.textContent = "Troubles respiratoires";
                    statusElements.muscles.textContent = "TMS";
                    statusElements.foie.textContent = "√âpuisement";
                    statusElements.surrenales.textContent = "Surr√©nales √©puis√©es";
                    statusElements.cerveau.textContent = "D√©pression possible";
                    
                    animerHormone('adrenaline', 30, "Chute");
                    animerHormone('cortisol', 90, "S√©cr√©tion massive");
                    break;
            }
        }

        function animerHormone(hormone, pourcentage, description) {
            const element = document.getElementById(`${hormone}-level`);
            const infoElement = document.getElementById(`${hormone}-info`);
            
            setTimeout(() => {
                element.style.width = pourcentage + '%';
                element.textContent = pourcentage + '%';
                infoElement.textContent = description;
            }, 300);
        }

        function selectionnerElement(element) {
            // D√©s√©lectionner les autres √©l√©ments
            document.querySelectorAll('.element-draggable').forEach(el => {
                el.classList.remove('selected');
            });
            
            // S√©lectionner cet √©l√©ment
            element.classList.add('selected');
            elementSelectionne = element;
        }

        function placerDansPhase(zone) {
            if (!elementSelectionne) {
                alert('S√©lectionnez d'abord un sympt√¥me !');
                return;
            }
            
            const symptome = elementSelectionne.getAttribute('data-symptome');
            const phase = zone.getAttribute('data-phase');
            
            // Cr√©er une copie de l'√©l√©ment dans la zone
            const copie = elementSelectionne.cloneNode(true);
            copie.classList.remove('selected');
            copie.classList.add('placed');
            copie.onclick = null; // D√©sactiver le clic
            
            // Ajouter √† la zone correspondante
            const container = document.getElementById(`${phase}-items`);
            container.appendChild(copie);
            
            // Cacher l'√©l√©ment original
            elementSelectionne.style.display = 'none';
            
            // Enregistrer l'association
            associations[symptome] = phase;
            
            // R√©initialiser la s√©lection
            elementSelectionne = null;
            
            // V√©rifier si tous les √©l√©ments sont plac√©s
            const elementsRestants = document.querySelectorAll('.element-draggable:not([style*="display: none"])');
            if (elementsRestants.length === 0) {
                document.querySelector('.btn-valider').style.background = 'linear-gradient(135deg, var(--success-pse), #27ae60)';
            }
        }

        function resetExercice() {
            // Remettre tous les √©l√©ments
            document.querySelectorAll('.element-draggable').forEach(el => {
                el.style.display = 'block';
                el.classList.remove('selected', 'placed');
                el.onclick = function() { selectionnerElement(this); };
            });
            
            // Vider les zones de drop
            document.querySelectorAll('[id$="-items"]').forEach(container => {
                container.innerHTML = '';
            });
            
            // R√©initialiser les associations
            associations = {};
            elementSelectionne = null;
            exerciceComplete = false;
        }

        function validerExercice() {
            let score = 0;
            const totalItems = Object.keys(bonnesAssociations).length;
            
            // V√©rifier chaque association
            for (let symptome in bonnesAssociations) {
                if (associations[symptome] === bonnesAssociations[symptome]) {
                    score++;
                }
            }
            
            // Afficher la correction
            document.getElementById('correction1').classList.add('show');
            exerciceComplete = true;
            
            // √âvaluer les comp√©tences
            if (score >= 4) { // Au moins 4/6 correct
                document.getElementById('statusC1').textContent = 'Acquis ‚úì';
                document.getElementById('statusC1').className = 'competence-status status-acquis';
                
                if (phaseActive > 0) {
                    document.getElementById('statusC3').textContent = 'Acquis ‚úì';
                    document.getElementById('statusC3').className = 'competence-status status-acquis';
                }
                
                mettreAJourProgression(100);
                
                setTimeout(() => {
                    document.getElementById('successAnimation').classList.add('show');
                }, 1000);
            } else {
                mettreAJourProgression(75);
                document.getElementById('statusC1').textContent = '√Ä renforcer';
            }
        }

        function mettreAJourProgression(pourcentage) {
            document.getElementById('progressBar').style.width = pourcentage + '%';
            
            let message = '';
            if (pourcentage === 25) message = '25% - Phase explor√©e';
            else if (pourcentage === 75) message = '75% - Exercice termin√©';
            else if (pourcentage === 100) message = '100% - Laboratoire ma√Ætris√© !';
            
            document.getElementById('progressText').textContent = message;
        }

        // Initialisation au chargement
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Exercice 2 - Laboratoire virtuel du stress charg√©');
        });
    </script>
</body>
</html>