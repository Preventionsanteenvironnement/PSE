<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R√©vision C.12 - √âgalit√© de traitement au travail - Bac Pro Terminale</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
            transition: all 0.3s ease;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }
        
        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .btn-back {
            background: rgba(255,255,255,0.1);
            color: white;
            padding: 10px 20px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
            border: 2px solid rgba(255,255,255,0.2);
            cursor: pointer;
        }
        
        .btn-back:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }
        
        .score-bar {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(255,255,255,0.1);
            padding: 10px 20px;
            border-radius: 50px;
        }
        
        .score-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 14px;
            font-weight: 600;
        }
        
        .score-item .icon {
            font-size: 18px;
        }
        
        /* √âcrans */
        .screen {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .screen.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* √âcran d'accueil */
        .welcome-screen {
            text-align: center;
            padding: 30px 0;
        }
        
        .welcome-title {
            font-size: 42px;
            font-weight: 900;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #ff9a9e, #fecfef, #fecfef);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .welcome-subtitle {
            font-size: 18px;
            color: rgba(255,255,255,0.7);
            margin-bottom: 30px;
        }
        
        /* Objectifs */
        .objectifs-card {
            background: linear-gradient(135deg, rgba(255, 154, 158, 0.3), rgba(254, 207, 239, 0.3));
            border: 2px solid rgba(255, 154, 158, 0.5);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            text-align: left;
        }
        
        .objectifs-card h3 {
            font-size: 18px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .objectif-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            font-size: 14px;
            line-height: 1.5;
        }
        
        .objectif-item:last-child {
            border-bottom: none;
        }
        
        .objectif-item .check {
            color: #4CAF50;
            font-size: 18px;
            flex-shrink: 0;
        }
        
        .competences-row {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .comp-badge {
            background: rgba(255,255,255,0.15);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
        }
        
        .comp-badge.c1 { background: rgba(16, 185, 129, 0.3); border: 1px solid #10b981; }
        .comp-badge.c3 { background: rgba(245, 158, 11, 0.3); border: 1px solid #f59e0b; }
        .comp-badge.c4 { background: rgba(239, 68, 68, 0.3); border: 1px solid #ef4444; }
        .comp-badge.c6 { background: rgba(34, 197, 94, 0.3); border: 1px solid #22c55e; }
        
        /* Niveaux */
        .niveaux-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 25px;
        }
        
        .niveau-card {
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .niveau-card:hover:not(.locked) {
            background: rgba(255,255,255,0.1);
            transform: translateX(5px);
            border-color: rgba(255, 154, 158, 0.5);
        }
        
        .niveau-card.locked {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .niveau-card.completed {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }
        
        .niveau-icon {
            width: 50px;
            height: 50px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            background: rgba(255,255,255,0.1);
            flex-shrink: 0;
        }
        
        .niveau-info {
            flex: 1;
        }
        
        .niveau-info h4 {
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .niveau-info p {
            font-size: 13px;
            opacity: 0.8;
            margin-bottom: 8px;
        }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            border-radius: 3px;
            transition: width 0.8s ease;
        }
        
        .niveau-stats {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            min-width: 60px;
        }
        
        .niveau-percent {
            font-size: 18px;
            font-weight: 700;
        }
        
        .niveau-cartes {
            font-size: 12px;
            opacity: 0.7;
        }
        
        .btn-commencer {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }
        
        .btn-commencer:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 154, 158, 0.4);
        }

        /* √âcran de jeu */
        .game-screen {
            padding: 20px 0;
        }
        
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            background: rgba(255,255,255,0.05);
            padding: 15px 20px;
            border-radius: 15px;
        }
        
        .level-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .level-badge {
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 700;
        }
        
        .card-counter {
            font-size: 14px;
            font-weight: 600;
            opacity: 0.8;
        }
        
        .game-stats {
            display: flex;
            gap: 15px;
            font-size: 14px;
            font-weight: 600;
        }
        
        .stat-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .flashcard {
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .card-type {
            background: rgba(255, 154, 158, 0.3);
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 700;
            border: 1px solid rgba(255, 154, 158, 0.5);
        }
        
        .card-difficulty {
            font-size: 12px;
            opacity: 0.7;
            display: flex;
            gap: 2px;
        }
        
        .question-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .keyword-display {
            text-align: center;
            padding: 40px 20px;
        }
        
        .keyword-term {
            font-size: 32px;
            font-weight: 900;
            color: #ff9a9e;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .keyword-category {
            font-size: 16px;
            opacity: 0.7;
            margin-bottom: 30px;
        }
        
        .answer-input {
            width: 100%;
            padding: 15px 20px;
            font-size: 16px;
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 50px;
            background: rgba(255,255,255,0.05);
            color: white;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .answer-input::placeholder {
            color: rgba(255,255,255,0.5);
        }
        
        .answer-input:focus {
            border-color: #ff9a9e;
            box-shadow: 0 0 20px rgba(255, 154, 158, 0.3);
        }

        .question-text {
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 25px;
            text-align: center;
        }
        
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .option-btn {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 15px;
            color: white;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }
        
        .option-btn:hover {
            background: rgba(255,255,255,0.1);
            border-color: rgba(255, 154, 158, 0.5);
        }
        
        .option-btn.selected {
            background: rgba(255, 154, 158, 0.2);
            border-color: #ff9a9e;
        }
        
        .option-letter {
            width: 30px;
            height: 30px;
            background: rgba(255, 154, 158, 0.3);
            border: 1px solid #ff9a9e;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 12px;
            flex-shrink: 0;
        }

        .vf-container {
            display: flex;
            gap: 15px;
            justify-content: center;
        }
        
        .vf-btn {
            flex: 1;
            max-width: 200px;
            padding: 20px;
            font-size: 18px;
            font-weight: 700;
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 15px;
            background: rgba(255,255,255,0.05);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .vf-btn.vrai:hover {
            background: rgba(76, 175, 80, 0.2);
            border-color: #4CAF50;
        }
        
        .vf-btn.faux:hover {
            background: rgba(239, 68, 68, 0.2);
            border-color: #ef4444;
        }
        
        .vf-btn.selected.vrai {
            background: rgba(76, 175, 80, 0.3);
            border-color: #4CAF50;
        }
        
        .vf-btn.selected.faux {
            background: rgba(239, 68, 68, 0.3);
            border-color: #ef4444;
        }

        .card-actions {
            display: flex;
            gap: 15px;
            align-items: center;
            margin-top: 25px;
        }
        
        .btn-hint {
            background: rgba(245, 158, 11, 0.2);
            border: 2px solid rgba(245, 158, 11, 0.5);
            color: white;
            padding: 12px 20px;
            border-radius: 50px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-hint:hover {
            background: rgba(245, 158, 11, 0.3);
            transform: translateY(-2px);
        }
        
        .btn-validate {
            flex: 1;
            padding: 15px;
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-validate:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 154, 158, 0.4);
        }

        .hint-box {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            font-size: 14px;
            line-height: 1.5;
        }

        /* Feedback overlay */
        .feedback-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .feedback-overlay.visible {
            opacity: 1;
            visibility: visible;
        }
        
        .feedback-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            transform: scale(0.8);
            transition: all 0.3s ease;
        }
        
        .feedback-overlay.visible .feedback-card {
            transform: scale(1);
        }
        
        .feedback-card.correct {
            border: 2px solid #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }
        
        .feedback-card.incorrect {
            border: 2px solid #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }
        
        .feedback-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }
        
        .feedback-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .feedback-points {
            font-size: 16px;
            margin-bottom: 20px;
            color: #4CAF50;
            font-weight: 600;
        }
        
        .feedback-explanation {
            text-align: left;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .feedback-explanation h4 {
            margin-bottom: 10px;
            color: #ff9a9e;
        }
        
        .feedback-explanation p {
            line-height: 1.5;
            margin-bottom: 15px;
        }
        
        .keyword-box {
            background: rgba(255, 154, 158, 0.2);
            border: 1px solid rgba(255, 154, 158, 0.5);
            border-radius: 10px;
            padding: 10px 15px;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .keyword-box span {
            color: #fecfef;
        }
        
        .tip-box {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
            border-radius: 10px;
            padding: 15px;
        }
        
        .tip-box h5 {
            margin-bottom: 8px;
            color: #f59e0b;
        }
        
        .btn-continue {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-continue:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 154, 158, 0.4);
        }

        /* √âcran de r√©sultats */
        .results-screen {
            text-align: center;
            padding: 30px 0;
        }
        
        .results-icon {
            font-size: 64px;
            margin-bottom: 20px;
        }
        
        .results-title {
            font-size: 28px;
            font-weight: 900;
            margin-bottom: 10px;
        }
        
        .results-score {
            font-size: 48px;
            font-weight: 900;
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 25px;
        }
        
        .results-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 12px;
            opacity: 0.7;
        }
        
        .errors-recap {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            text-align: left;
        }
        
        .errors-recap h4 {
            color: #ef4444;
            margin-bottom: 15px;
        }
        
        .errors-recap ul {
            list-style: none;
        }
        
        .errors-recap li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(239, 68, 68, 0.1);
            font-size: 14px;
        }
        
        .errors-recap li:last-child {
            border-bottom: none;
        }
        
        .results-actions {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .btn-results {
            padding: 15px;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-home {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid rgba(255,255,255,0.2);
        }
        
        .btn-home:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }
        
        .btn-next-level {
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            color: white;
        }
        
        .btn-next-level:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 154, 158, 0.4);
        }

        /* Popup streak */
        .streak-popup {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            font-size: 18px;
            font-weight: 700;
            z-index: 1001;
            animation: bounceIn 0.8s ease;
            display: none;
        }
        
        @keyframes bounceIn {
            0% { transform: translateX(-50%) scale(0.3); }
            50% { transform: translateX(-50%) scale(1.1); }
            100% { transform: translateX(-50%) scale(1); }
        }

        /* Confettis */
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #ff9a9e;
            animation: confetti-fall 3s linear forwards;
            z-index: 999;
        }
        
        @keyframes confetti-fall {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .welcome-title {
                font-size: 32px;
            }
            
            .header {
                flex-direction: column;
                align-items: stretch;
            }
            
            .score-bar {
                justify-content: space-between;
            }
            
            .game-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .flashcard {
                padding: 20px;
                min-height: 350px;
            }
            
            .keyword-term {
                font-size: 24px;
            }
            
            .question-text {
                font-size: 16px;
            }
            
            .vf-container {
                flex-direction: column;
            }
            
            .vf-btn {
                max-width: none;
            }
            
            .feedback-card {
                padding: 20px;
            }
            
            .results-stats {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .welcome-title {
                font-size: 28px;
            }
            
            .card-actions {
                flex-direction: column;
            }
            
            .btn-hint {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <button class="btn-back" onclick="goHome()">üè† Accueil</button>
            <div class="score-bar">
                <div class="score-item">
                    <span class="icon">üíé</span>
                    <span id="totalPoints">0</span>
                </div>
                <div class="score-item">
                    <span class="icon">üî•</span>
                    <span id="currentStreak">0</span>
                </div>
            </div>
        </div>

        <!-- √âcran d'accueil -->
        <div class="screen active" id="homeScreen">
            <div class="welcome-screen">
                <h1 class="welcome-title">‚öñÔ∏è FLASHCARDS C.12</h1>
                <p class="welcome-subtitle">√âgalit√© de traitement au travail</p>
                
                <div class="objectifs-card">
                    <h3>üéØ Objectifs du module</h3>
                    <div class="objectif-item">
                        <span class="check">‚úì</span>
                        <span>Identifier les 25 crit√®res de discrimination interdits par la loi</span>
                    </div>
                    <div class="objectif-item">
                        <span class="check">‚úì</span>
                        <span>Distinguer discrimination directe et indirecte</span>
                    </div>
                    <div class="objectif-item">
                        <span class="check">‚úì</span>
                        <span>Comprendre l'Index √©galit√© professionnelle femmes-hommes</span>
                    </div>
                    <div class="objectif-item">
                        <span class="check">‚úì</span>
                        <span>Conna√Ætre les interlocuteurs en cas de discrimination</span>
                    </div>
                    <div class="objectif-item">
                        <span class="check">‚úì</span>
                        <span>Ma√Ætriser les recours possibles et obligations l√©gales</span>
                    </div>
                    
                    <div class="competences-row">
                        <span class="comp-badge c1">C1 - Traiter info</span>
                        <span class="comp-badge c3">C3 - Expliquer r√©glementation</span>
                        <span class="comp-badge c4">C4 - Proposer solution</span>
                        <span class="comp-badge c6">C6 - Communiquer</span>
                    </div>
                </div>

                <div class="niveaux-grid">
                    <div class="niveau-card" onclick="startLevel(1)">
                        <div class="niveau-icon">‚öñÔ∏è</div>
                        <div class="niveau-info">
                            <h4>Niveau 1 - Les bases</h4>
                            <p>Crit√®res de discrimination, d√©finitions essentielles</p>
                            <div class="progress-bar">
                                <div class="progress-fill" id="level1Bar" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="niveau-stats">
                            <div class="niveau-percent" id="level1Percent">0%</div>
                            <div class="niveau-cartes">10 cartes</div>
                        </div>
                    </div>

                    <div class="niveau-card" onclick="startLevel(2)">
                        <div class="niveau-icon">üîç</div>
                        <div class="niveau-info">
                            <h4>Niveau 2 - Types de discrimination</h4>
                            <p>Discrimination directe, indirecte, positive</p>
                            <div class="progress-bar">
                                <div class="progress-fill" id="level2Bar" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="niveau-stats">
                            <div class="niveau-percent" id="level2Percent">0%</div>
                            <div class="niveau-cartes">8 cartes</div>
                        </div>
                    </div>

                    <div class="niveau-card" onclick="startLevel(3)">
                        <div class="niveau-icon">üö∫</div>
                        <div class="niveau-info">
                            <h4>Niveau 3 - √âgalit√© femmes-hommes</h4>
                            <p>Index √©galit√©, obligations l√©gales, sanctions</p>
                            <div class="progress-bar">
                                <div class="progress-fill" id="level3Bar" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="niveau-stats">
                            <div class="niveau-percent" id="level3Percent">0%</div>
                            <div class="niveau-cartes">12 cartes</div>
                        </div>
                    </div>

                    <div class="niveau-card" onclick="startLevel(4)">
                        <div class="niveau-icon">üÜò</div>
                        <div class="niveau-info">
                            <h4>Niveau 4 - Interlocuteurs</h4>
                            <p>CSE, D√©fenseur des droits, inspection du travail</p>
                            <div class="progress-bar">
                                <div class="progress-fill" id="level4Bar" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="niveau-stats">
                            <div class="niveau-percent" id="level4Percent">0%</div>
                            <div class="niveau-cartes">10 cartes</div>
                        </div>
                    </div>

                    <div class="niveau-card" onclick="startLevel(5)">
                        <div class="niveau-icon">üèÜ</div>
                        <div class="niveau-info">
                            <h4>Niveau 5 - Cas complexes</h4>
                            <p>Situations avanc√©es, calculs, jurisprudence</p>
                            <div class="progress-bar">
                                <div class="progress-fill" id="level5Bar" style="width: 0%"></div>
                            </div>
                        </div>
                        <div class="niveau-stats">
                            <div class="niveau-percent" id="level5Percent">0%</div>
                            <div class="niveau-cartes">15 cartes</div>
                        </div>
                    </div>
                </div>

                <button class="btn-commencer" onclick="startLevel(1)">üöÄ Commencer les r√©visions</button>
            </div>
        </div>

        <!-- √âcran de jeu -->
        <div class="screen" id="gameScreen">
            <div class="game-screen">
                <div class="game-header">
                    <div class="level-info">
                        <div class="level-badge" id="currentLevelBadge">Niveau 1</div>
                        <div class="card-counter" id="cardCounter">Carte 1/10</div>
                    </div>
                    <div class="game-stats">
                        <div class="stat-item">
                            <span>‚úÖ</span>
                            <span id="correctCount">0</span>
                        </div>
                        <div class="stat-item">
                            <span>üíé</span>
                            <span id="levelPoints">0</span>
                        </div>
                        <div class="stat-item">
                            <span>üî•</span>
                            <span id="gameStreak">0</span>
                        </div>
                    </div>
                </div>

                <div class="flashcard">
                    <div class="card-header">
                        <div class="card-type" id="cardType">MOT-CL√â</div>
                        <div class="card-difficulty" id="cardDifficulty">
                            ‚≠ê‚≠ê‚≠ê
                        </div>
                    </div>

                    <div class="question-section" id="questionSection">
                        <!-- Le contenu sera g√©n√©r√© par JavaScript -->
                    </div>

                    <div class="card-actions">
                        <button class="btn-hint" onclick="showHint()">üí° Indice</button>
                        <button class="btn-validate" onclick="validateAnswer()">‚ú® Valider</button>
                    </div>

                    <div class="hint-box" id="hintBox" style="display: none;">
                        <span id="hintText"></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- √âcran de r√©sultats -->
        <div class="screen" id="resultsScreen">
            <div class="results-screen">
                <div class="results-icon" id="resultsIcon">üéâ</div>
                <h2 class="results-title" id="resultsTitle">Niveau r√©ussi !</h2>
                <div class="results-score" id="resultsScore">85%</div>

                <div class="results-stats">
                    <div class="stat-card">
                        <div class="stat-value" id="correctCount">8/10</div>
                        <div class="stat-label">Bonnes r√©ponses</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="pointsEarned">+80</div>
                        <div class="stat-label">Points gagn√©s</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="bestStreak">5</div>
                        <div class="stat-label">Meilleure s√©rie</div>
                    </div>
                </div>

                <div class="errors-recap" id="errorsRecap" style="display: none;">
                    <h4>üìù Points √† revoir</h4>
                    <ul id="errorsList"></ul>
                </div>

                <div class="results-actions">
                    <button class="btn-results btn-home" onclick="goHome()">
                        üè† Retour accueil
                    </button>
                    <button class="btn-results btn-next-level" id="nextLevelBtn" onclick="nextLevel()" style="display: none;">
                        ‚û°Ô∏è Niveau suivant
                    </button>
                </div>
            </div>
        </div>

        <!-- Overlay de feedback -->
        <div class="feedback-overlay" id="feedbackOverlay">
            <div class="feedback-card" id="feedbackCard">
                <div class="feedback-icon" id="feedbackIcon">‚úÖ</div>
                <h3 class="feedback-title" id="feedbackTitle">Bravo !</h3>
                <div class="feedback-points" id="feedbackPoints">+10 points</div>
                
                <div class="feedback-explanation" id="feedbackExplanation">
                    <!-- Contenu g√©n√©r√© par JavaScript -->
                </div>

                <button class="btn-continue" onclick="nextCard()">Continuer ‚û°Ô∏è</button>
            </div>
        </div>

        <!-- Popup streak -->
        <div class="streak-popup" id="streakPopup"></div>
    </div>

    <script>
        // Donn√©es des niveaux et cartes
        const levels = {
            1: {
                name: "Les bases",
                icon: "‚öñÔ∏è",
                cards: [
                    {
                        type: 'keyword',
                        term: 'DISCRIMINATION',
                        category: 'D√©finition g√©n√©rale',
                        question: 'Quelle est la d√©finition juridique de la discrimination au travail ?',
                        answer: 'traitement d√©favorable',
                        explanation: 'La discrimination est un traitement d√©favorable fond√© sur un crit√®re interdit par la loi (origine, sexe, √¢ge, handicap...).',
                        keyword: 'Traitement d√©favorable',
                        hint: 'Il s\'agit d\'une diff√©rence de traitement n√©gative bas√©e sur des crit√®res personnels',
                        tip: 'Retenez : discrimination = traitement d√©favorable + crit√®re interdit par la loi'
                    },
                    {
                        type: 'qcm',
                        question: 'Combien de crit√®res de discrimination sont interdits par le Code du travail ?',
                        options: ['18 crit√®res', '21 crit√®res', '25 crit√®res', '30 crit√®res'],
                        answer: 2,
                        explanation: 'Le Code du travail interdit la discrimination selon 25 crit√®res : origine, sexe, √¢ge, handicap, apparence physique, etc.',
                        keyword: '25 crit√®res interdits',
                        hint: 'C\'est un nombre r√©cemment √©largi, sup√©rieur √† 20',
                        tip: 'M√©morisez ce chiffre : il peut tomber au BAC !'
                    },
                    {
                        type: 'keyword',
                        term: 'ORIGINE',
                        category: 'Crit√®re de discrimination',
                        question: 'Quel crit√®re de discrimination concerne la nationalit√©, l\'ethnie, la race ?',
                        answer: 'origine',
                        explanation: 'L\'origine englobe la nationalit√©, l\'ethnie, la race, mais aussi la r√©gion de provenance.',
                        keyword: 'Origine',
                        hint: 'Ce crit√®re concerne d\'o√π vient la personne, ses racines',
                        tip: 'L\'origine est le 1er crit√®re cit√© dans le Code du travail'
                    },
                    {
                        type: 'vf',
                        question: 'Une entreprise peut refuser d\'embaucher une personne √† cause de son apparence physique.',
                        answer: false,
                        explanation: 'L\'apparence physique est un crit√®re de discrimination interdit, sauf si elle constitue une exigence professionnelle essentielle.',
                        keyword: 'Apparence physique interdite',
                        hint: 'L\'apparence fait partie des 25 crit√®res interdits',
                        tip: 'Exception : si l\'apparence est une exigence professionnelle essentielle (mannequin, acteur)'
                    },
                    {
                        type: 'qcm',
                        question: 'Lequel de ces crit√®res N\'EST PAS interdit par la loi ?',
                        options: ['L\'√¢ge', 'Les comp√©tences professionnelles', 'L\'orientation sexuelle', 'Les convictions religieuses'],
                        answer: 1,
                        explanation: 'Les comp√©tences professionnelles sont le seul crit√®re l√©gitime de s√©lection. Tous les autres sont des crit√®res de discrimination interdits.',
                        keyword: 'Comp√©tences = crit√®re l√©gitime',
                        hint: 'Seul un crit√®re concerne directement le travail √† effectuer',
                        tip: 'Distinction fondamentale : crit√®res personnels (interdits) vs crit√®res professionnels (autoris√©s)'
                    },
                    {
                        type: 'keyword',
                        term: 'HANDICAP',
                        category: 'Crit√®re de discrimination',
                        question: 'Quel crit√®re prot√®ge les personnes √† mobilit√© r√©duite, malvoyantes, sourdes ?',
                        answer: 'handicap',
                        explanation: 'Le handicap au sens large inclut tous les types de d√©ficiences : physiques, sensorielles, mentales, psychiques.',
                        keyword: 'Handicap',
                        hint: 'Ce crit√®re concerne les d√©ficiences et incapacit√©s',
                        tip: 'Le handicap oblige l\'employeur √† des am√©nagements raisonnables du poste'
                    },
                    {
                        type: 'vf',
                        question: 'La discrimination peut concerner tous les aspects de la vie professionnelle : embauche, salaire, promotion, licenciement.',
                        answer: true,
                        explanation: 'La loi interdit la discrimination √† toutes les √©tapes de la relation de travail, de l\'embauche au d√©part de l\'entreprise.',
                        keyword: 'Toute la vie professionnelle',
                        hint: 'La discrimination ne se limite pas au recrutement',
                        tip: 'Pensez √† tous les moments : avant, pendant et √† la sortie de l\'entreprise'
                    },
                    {
                        type: 'qcm',
                        question: 'Quelle situation constitue une discrimination ?',
                        options: ['Refuser un poste pour incomp√©tence', 'Payer moins une femme √† poste √©gal', 'Licencier pour faute grave', 'Former les salari√©s par anciennet√©'],
                        answer: 1,
                        explanation: 'L\'√©galit√© salariale femmes-hommes √† travail √©gal est obligatoire. Les autres situations rel√®vent de crit√®res professionnels l√©gitimes.',
                        keyword: 'In√©galit√© salariale = discrimination',
                        hint: 'Une situation concerne une diff√©rence injustifi√©e entre hommes et femmes',
                        tip: '√Ä travail √©gal, salaire √©gal : principe fondamental'
                    },
                    {
                        type: 'keyword',
                        term: 'SITUATION DE FAMILLE',
                        category: 'Crit√®re de discrimination',
                        question: 'Quel crit√®re prot√®ge contre les discriminations li√©es √† la grossesse, au mariage, au c√©libat ?',
                        answer: 'situation de famille',
                        explanation: 'La situation de famille englobe le mariage, le concubinage, la grossesse, les enfants, le c√©libat...',
                        keyword: 'Situation de famille',
                        hint: 'Ce crit√®re concerne l\'√©tat civil et la composition du foyer',
                        tip: 'Tr√®s fr√©quent dans les discriminations √† l\'embauche des femmes jeunes'
                    },
                    {
                        type: 'vf',
                        question: 'Un employeur peut poser des questions sur la vie priv√©e lors d\'un entretien d\'embauche.',
                        answer: false,
                        explanation: 'Les questions sur la vie priv√©e (mariage, enfants, grossesse, orientation sexuelle...) sont interdites car non pertinentes professionnellement.',
                        keyword: 'Vie priv√©e = questions interdites',
                        hint: 'La vie priv√©e ne regarde pas l\'employeur',
                        tip: 'Exception : questions li√©es directement aux exigences du poste'
                    }
                ]
            },
            2: {
                name: "Types de discrimination",
                icon: "üîç",
                cards: [
                    {
                        type: 'keyword',
                        term: 'DISCRIMINATION DIRECTE',
                        category: 'Type de discrimination',
                        question: 'Comment appelle-t-on une discrimination ouverte et assum√©e ?',
                        answer: 'discrimination directe',
                        explanation: 'La discrimination directe vise explicitement une personne en raison d\'un crit√®re interdit (ex: "On n\'embauche pas d\'Arabes").',
                        keyword: 'Discrimination directe',
                        hint: 'C\'est quand c\'est dit ouvertement, sans d√©tour',
                        tip: 'Plus facile √† prouver car explicite'
                    },
                    {
                        type: 'keyword',
                        term: 'DISCRIMINATION INDIRECTE',
                        category: 'Type de discrimination',
                        question: 'Comment appelle-t-on une discrimination cach√©e derri√®re des crit√®res neutres ?',
                        answer: 'discrimination indirecte',
                        explanation: 'La discrimination indirecte utilise des crit√®res en apparence neutres mais qui d√©favorisent certains groupes.',
                        keyword: 'Discrimination indirecte',
                        hint: 'C\'est quand c\'est masqu√©, pas dit directement',
                        tip: 'Plus difficile √† prouver car dissimul√©e'
                    },
                    {
                        type: 'qcm',
                        question: 'Exemple de discrimination directe :',
                        options: ['Exiger 1m80 minimum pour un poste', 'Refuser les femmes pour un poste', 'Demander 5 ans d\'exp√©rience', 'Privil√©gier les dipl√¥m√©s'],
                        answer: 1,
                        explanation: 'Refuser les femmes vise explicitement le crit√®re "sexe". Les autres sont des exigences professionnelles (m√™me si parfois contestables).',
                        keyword: 'Refus explicite = direct',
                        hint: 'Quelle situation vise directement un groupe prot√©g√© ?',
                        tip: 'Direct = on nomme explicitement le crit√®re discriminant'
                    },
                    {
                        type: 'qcm',
                        question: 'Exemple de discrimination indirecte :',
                        options: ['Dire "pas d\'handicap√©s"', 'Exiger 1m80 pour un poste administratif', 'Refuser les plus de 50 ans', '√âcarter les femmes enceintes'],
                        answer: 1,
                        explanation: 'Exiger 1m80 pour un poste administratif d√©favorise indirectement les femmes et certains hommes, sans justification professionnelle.',
                        keyword: 'Crit√®re neutre discriminant',
                        hint: 'Quelle exigence semble neutre mais d√©favorise certains groupes ?',
                        tip: 'Indirect = crit√®re neutre qui cache une discrimination'
                    },
                    {
                        type: 'keyword',
                        term: 'DISCRIMINATION POSITIVE',
                        category: 'Type de discrimination',
                        question: 'Comment appelle-t-on les mesures l√©gales favorisant les groupes d√©savantag√©s ?',
                        answer: 'discrimination positive',
                        explanation: 'La discrimination positive (ou action positive) compense les in√©galit√©s par des mesures temporaires en faveur de groupes d√©savantag√©s.',
                        keyword: 'Discrimination positive',
                        hint: 'C\'est quand on favorise pour r√©√©quilibrer',
                        tip: 'L√©gale et temporaire : quotas handicap√©s, parit√©...'
                    },
                    {
                        type: 'vf',
                        question: 'Les quotas de 6% de travailleurs handicap√©s dans les entreprises constituent une discrimination positive l√©gale.',
                        answer: true,
                        explanation: 'Cette obligation l√©gale vise √† favoriser l\'emploi des personnes handicap√©es pour compenser leur sous-repr√©sentation.',
                        keyword: 'Quotas handicap√©s = discrimination positive',
                        hint: 'Cette mesure favorise un groupe historiquement d√©savantag√©',
                        tip: 'Les quotas l√©gaux sont des discriminations positives autoris√©es'
                    },
                    {
                        type: 'qcm',
                        question: 'Quelle mesure constitue une discrimination positive ?',
                        options: ['Refuser les seniors', 'R√©server des postes aux femmes dans certains secteurs', 'Payer moins les jeunes', '√âcarter les √©trangers'],
                        answer: 1,
                        explanation: 'R√©server des postes aux femmes dans des secteurs masculinis√©s vise √† r√©√©quilibrer la repr√©sentation.',
                        keyword: 'R√©servation de postes',
                        hint: 'Quelle mesure favorise un groupe sous-repr√©sent√© ?',
                        tip: 'La parit√© dans certains domaines peut justifier des mesures temporaires'
                    },
                    {
                        type: 'vf',
                        question: 'La discrimination positive est toujours interdite en France.',
                        answer: false,
                        explanation: 'Certaines discriminations positives sont l√©gales : quotas handicap√©s, mesures pour l\'√©galit√© femmes-hommes, ZEP...',
                        keyword: 'Discrimination positive parfois l√©gale',
                        hint: 'Il y a des exceptions l√©gales pour corriger les in√©galit√©s',
                        tip: 'L√©gale si temporaire, proportionn√©e et visant l\'√©galit√© r√©elle'
                    }
                ]
            },
            3: {
                name: "√âgalit√© femmes-hommes",
                icon: "üö∫",
                cards: [
                    {
                        type: 'keyword',
                        term: 'INDEX √âGALIT√â',
                        category: '√âgalit√© professionnelle',
                        question: 'Comment s\'appelle l\'indicateur obligatoire mesurant l\'√©galit√© salariale femmes-hommes ?',
                        answer: 'index √©galit√©',
                        explanation: 'L\'Index √©galit√© professionnelle note sur 100 points l\'√©galit√© salariale dans l\'entreprise selon 4 ou 5 indicateurs.',
                        keyword: 'Index √©galit√©',
                        hint: 'C\'est un indicateur chiffr√© sur 100 points',
                        tip: 'Obligatoire depuis 2019 pour les entreprises de 50+ salari√©s'
                    },
                    {
                        type: 'qcm',
                        question: 'Quel est le seuil minimal de l\'Index √©galit√© √† atteindre ?',
                        options: ['60 points', '70 points', '75 points', '80 points'],
                        answer: 2,
                        explanation: 'Un Index inf√©rieur √† 75 points oblige l\'entreprise √† prendre des mesures correctives sous 3 ans.',
                        keyword: '75 points minimum',
                        hint: 'C\'est un seuil entre 70 et 80',
                        tip: 'En dessous de 75 : mesures correctives obligatoires'
                    },
                    {
                        type: 'qcm',
                        question: 'Quand doit √™tre publi√© l\'Index √©galit√© ?',
                        options: ['Avant le 31 d√©cembre', 'Avant le 1er janvier', 'Avant le 1er mars', 'Avant le 30 juin'],
                        answer: 2,
                        explanation: 'L\'Index doit √™tre calcul√© et publi√© chaque ann√©e avant le 1er mars.',
                        keyword: '1er mars',
                        hint: 'C\'est au d√©but de l\'ann√©e, apr√®s les cong√©s d\'hiver',
                        tip: 'Date importante √† retenir pour les examens'
                    },
                    {
                        type: 'keyword',
                        term: 'P√âNALIT√â FINANCI√àRE',
                        category: 'Sanctions',
                        question: 'Quelle sanction risque une entreprise avec un Index inf√©rieur √† 75 points ?',
                        answer: 'p√©nalit√© financi√®re',
                        explanation: 'L\'entreprise risque une p√©nalit√© pouvant atteindre 1% de sa masse salariale annuelle.',
                        keyword: 'P√©nalit√© financi√®re',
                        hint: 'C\'est une sanction en argent proportionnelle aux salaires',
                        tip: '1% de la masse salariale peut repr√©senter des dizaines de milliers d\'euros'
                    },
                    {
                        type: 'vf',
                        question: 'L\'Index √©galit√© concerne toutes les entreprises fran√ßaises.',
                        answer: false,
                        explanation: 'Seules les entreprises de 50 salari√©s et plus sont soumises √† l\'obligation de calcul et publication de l\'Index.',
                        keyword: '50+ salari√©s uniquement',
                        hint: 'Il y a un seuil d\'effectif minimum',
                        tip: 'Les TPE et petites PME ne sont pas concern√©es'
                    },
                    {
                        type: 'qcm',
                        question: 'Combien d\'indicateurs composent l\'Index pour une entreprise de 250 salari√©s ?',
                        options: ['3 indicateurs', '4 indicateurs', '5 indicateurs', '6 indicateurs'],
                        answer: 2,
                        explanation: 'Les entreprises de 250+ salari√©s ont 5 indicateurs : √©carts salariaux, augmentations, promotions, maternit√©, hautes r√©mun√©rations.',
                        keyword: '5 indicateurs (250+ sal.)',
                        hint: 'Les grandes entreprises ont plus d\'indicateurs',
                        tip: '50-249 sal. = 4 indicateurs / 250+ sal. = 5 indicateurs'
                    },
                    {
                        type: 'keyword',
                        term: 'CONG√â MATERNIT√â',
                        category: 'Indicateur Index',
                        question: 'Quel indicateur de l\'Index mesure les augmentations au retour de cong√© ?',
                        answer: 'cong√© maternit√©',
                        explanation: 'Cet indicateur v√©rifie si les femmes b√©n√©ficient d\'augmentations √† leur retour de cong√© maternit√©.',
                        keyword: 'Retour cong√© maternit√©',
                        hint: 'Cet indicateur concerne les femmes ayant eu un enfant',
                        tip: 'Indicateur souvent probl√©matique : beaucoup d\'entreprises ont 0 point'
                    },
                    {
                        type: 'vf',
                        question: 'Une entreprise peut avoir un Index de 100/100 tout en ayant des in√©galit√©s salariales.',
                        answer: false,
                        explanation: 'Un Index de 100 signifie une √©galit√© parfaite sur tous les indicateurs, donc pas d\'in√©galit√©s salariales.',
                        keyword: '100 = √©galit√© parfaite',
                        hint: 'L\'Index mesure justement les in√©galit√©s',
                        tip: 'Plus l\'Index est √©lev√©, moins il y a d\'in√©galit√©s'
                    },
                    {
                        type: 'qcm',
                        question: 'En cas d\'Index inf√©rieur √† 75, dans quel d√©lai agir ?',
                        options: ['1 an', '2 ans', '3 ans', '5 ans'],
                        answer: 2,
                        explanation: 'L\'entreprise dispose de 3 ans pour mettre en ≈ìuvre des mesures correctives et d√©passer les 75 points.',
                        keyword: '3 ans pour corriger',
                        hint: 'C\'est un d√©lai ni trop court ni trop long',
                        tip: 'D√©lai suffisant pour n√©gocier et mettre en place des actions'
                    },
                    {
                        type: 'keyword',
                        term: 'CSE',
                        category: 'N√©gociation √©galit√©',
                        question: 'Quelle instance doit √™tre consult√©e sur l\'accord d\'√©galit√© professionnelle ?',
                        answer: 'CSE',
                        explanation: 'Le Comit√© Social et √âconomique doit √™tre consult√© sur toute mesure concernant l\'√©galit√© professionnelle.',
                        keyword: 'CSE consult√©',
                        hint: 'C\'est l\'instance repr√©sentative du personnel',
                        tip: 'Le CSE a un r√¥le consultatif sur l\'√©galit√© professionnelle'
                    },
                    {
                        type: 'vf',
                        question: 'L\'√©cart salarial moyen femmes-hommes en France est d\'environ 24%.',
                        answer: true,
                        explanation: 'Selon l\'INSEE, l\'√©cart de salaire moyen entre femmes et hommes dans le secteur priv√© √©tait de 24% en 2021.',
                        keyword: '24% d\'√©cart salarial',
                        hint: 'C\'est un √©cart important, proche d\'un quart',
                        tip: 'Chiffre national important √† conna√Ætre'
                    },
                    {
                        type: 'qcm',
                        question: '√Ä travail √©gal et temps √©gal, l\'√©cart salarial femmes-hommes est d\'environ :',
                        options: ['1%', '5,3%', '12%', '24%'],
                        answer: 1,
                        explanation: '√Ä poste et temps de travail identiques, l\'√©cart "inexpliqu√©" est d\'environ 5,3% selon les statistiques r√©centes.',
                        keyword: '5,3% √† poste √©gal',
                        hint: 'Beaucoup plus faible que l\'√©cart global, mais toujours pr√©sent',
                        tip: 'Distinction importante : √©cart global vs √©cart "toutes choses √©gales"'
                    }
                ]
            },
            4: {
                name: "Interlocuteurs",
                icon: "üÜò", 
                cards: [
                    {
                        type: 'keyword',
                        term: 'D√âFENSEUR DES DROITS',
                        category: 'Recours externe',
                        question: 'Quelle institution ind√©pendante peut √™tre saisie gratuitement pour toute discrimination ?',
                        answer: 'd√©fenseur des droits',
                        explanation: 'Le D√©fenseur des droits est comp√©tent pour toutes les discriminations, propose des m√©diations et peut aller en justice.',
                        keyword: 'D√©fenseur des droits',
                        hint: 'C\'est une autorit√© ind√©pendante cr√©√©e par la Constitution',
                        tip: 'Num√©ro gratuit : 09 69 39 00 00'
                    },
                    {
                        type: 'qcm',
                        question: 'Pour une discrimination √† l\'embauche, vers qui s\'orienter en priorit√© ?',
                        options: ['CSE de l\'entreprise', 'D√©fenseur des droits', 'M√©decine du travail', 'Syndicat de l\'entreprise'],
                        answer: 1,
                        explanation: 'Le candidat n\'√©tant pas salari√©, il ne peut saisir le CSE. Le D√©fenseur des droits est comp√©tent d√®s le processus de recrutement.',
                        keyword: 'Embauche ‚Üí D√©fenseur des droits',
                        hint: 'Le candidat n\'est pas encore dans l\'entreprise',
                        tip: 'Avant l\'embauche = recours externe obligatoire'
                    },
                    {
                        type: 'keyword',
                        term: 'CSE',
                        category: 'Recours interne',
                        question: 'Quelle instance repr√©sentative peut agir en interne contre les discriminations ?',
                        answer: 'CSE',
                        explanation: 'Le Comit√© Social et √âconomique peut enqu√™ter, alerter la direction et soutenir les salari√©s victimes.',
                        keyword: 'CSE',
                        hint: 'C\'est l\'instance qui remplace les anciens CE, DP, CHSCT',
                        tip: 'Premier recours interne √† privil√©gier pour les salari√©s'
                    },
                    {
                        type: 'qcm',
                        question: 'L\'inspection du travail (DREETS) intervient pour :',
                        options: ['Conseiller seulement', 'Contr√¥ler et sanctionner', 'Repr√©senter en justice', 'N√©gocier des accords'],
                        answer: 1,
                        explanation: 'L\'inspection du travail contr√¥le le respect de la r√©glementation et peut mettre en demeure, dresser des proc√®s-verbaux.',
                        keyword: 'DREETS contr√¥le et sanctionne',
                        hint: 'C\'est l\'administration du travail avec un pouvoir de police',
                        tip: 'Peut constater les infractions et les sanctionner'
                    },
                    {
                        type: 'vf',
                        question: 'Un salari√© peut saisir directement les prud\'hommes sans passer par d\'autres interlocuteurs.',
                        answer: true,
                        explanation: 'Le recours aux prud\'hommes est un droit, m√™me si d\'autres voies (conciliation, m√©diation) sont souvent pr√©f√©rables.',
                        keyword: 'Prud\'hommes = droit direct',
                        hint: 'C\'est un recours judiciaire, donc toujours possible',
                        tip: 'Mais d\'autres voies peuvent √™tre plus rapides et moins co√ªteuses'
                    },
                    {
                        type: 'keyword',
                        term: 'D√âL√âGU√â SYNDICAL',
                        category: 'Recours interne',
                        question: 'Qui peut n√©gocier collectivement sur l\'√©galit√© professionnelle ?',
                        answer: 'd√©l√©gu√© syndical',
                        explanation: 'Les d√©l√©gu√©s syndicaux n√©gocient les accords d\'entreprise sur l\'√©galit√© professionnelle avec la direction.',
                        keyword: 'D√©l√©gu√© syndical',
                        hint: 'Il repr√©sente un syndicat dans l\'entreprise',
                        tip: 'Approche collective souvent plus efficace qu\'individuelle'
                    },
                    {
                        type: 'qcm',
                        question: 'Pour un am√©nagement de poste li√© au handicap, contacter en premier :',
                        options: ['D√©fenseur des droits', 'CSE + m√©decine du travail', 'Prud\'hommes', 'AGEFIPH'],
                        answer: 1,
                        explanation: 'L\'approche interne (CSE + m√©decine du travail) est souvent plus efficace pour obtenir rapidement des am√©nagements.',
                        keyword: 'Handicap ‚Üí CSE + m√©decine du travail',
                        hint: 'Il faut mobiliser les acteurs internes de l\'entreprise',
                        tip: 'La m√©decine du travail a un r√¥le cl√© pour les am√©nagements de poste'
                    },
                    {
                        type: 'vf',
                        question: 'Dans une PME sans syndicats, seul le D√©fenseur des droits peut aider.',
                        answer: false,
                        explanation: 'L\'inspection du travail, les organisations syndicales externes, les associations peuvent aussi intervenir.',
                        keyword: 'Plusieurs recours possibles',
                        hint: 'Il existe plusieurs interlocuteurs externes',
                        tip: 'M√™me sans repr√©sentation interne, des solutions existent'
                    },
                    {
                        type: 'keyword',
                        term: 'M√âDIATION',
                        category: 'Mode de r√©solution',
                        question: 'Quel processus permet de r√©soudre un conflit sans aller au tribunal ?',
                        answer: 'm√©diation',
                        explanation: 'La m√©diation recherche un accord amiable entre les parties avec l\'aide d\'un tiers neutre.',
                        keyword: 'M√©diation',
                        hint: 'C\'est un processus de r√©solution pacifique des conflits',
                        tip: 'Plus rapide et moins co√ªteuse qu\'un proc√®s'
                    },
                    {
                        type: 'qcm',
                        question: 'Quel interlocuteur peut mener une enqu√™te officielle sur une discrimination ?',
                        options: ['CSE uniquement', 'D√©fenseur des droits + inspection du travail', 'Syndicats uniquement', 'M√©decine du travail'],
                        answer: 1,
                        explanation: 'Le D√©fenseur des droits et l\'inspection du travail ont des pouvoirs d\'enqu√™te officiels et contraignants.',
                        keyword: 'Enqu√™te officielle',
                        hint: 'Il faut un pouvoir l√©gal d\'investigation',
                        tip: 'Les autres peuvent enqu√™ter mais sans pouvoir contraignant'
                    }
                ]
            },
            5: {
                name: "Cas complexes",
                icon: "üèÜ",
                cards: [
                    {
                        type: 'qcm',
                        question: 'Une entreprise de 200 salari√©s avec un Index de 68/100 risque une p√©nalit√© maximale de :',
                        options: ['68 000‚Ç¨', '75 000‚Ç¨', 'X% de sa masse salariale', '100 000‚Ç¨ forfaitaires'],
                        answer: 2,
                        explanation: 'La p√©nalit√© peut atteindre 1% de la masse salariale annuelle, montant variable selon l\'entreprise.',
                        keyword: '1% masse salariale',
                        hint: 'La sanction est proportionnelle √† la taille de l\'entreprise',
                        tip: 'Plus l\'entreprise est grande, plus la p√©nalit√© potentielle est √©lev√©e'
                    },
                    {
                        type: 'keyword',
                        term: 'AM√âNAGEMENT RAISONNABLE',
                        category: 'Obligation l√©gale',
                        question: 'Quelle obligation l\'employeur a-t-il envers les travailleurs handicap√©s ?',
                        answer: 'am√©nagement raisonnable',
                        explanation: 'L\'employeur doit adapter le poste de travail dans la mesure du raisonnable (co√ªt proportionn√©).',
                        keyword: 'Am√©nagement raisonnable',
                        hint: 'Il faut adapter le poste, mais dans certaines limites',
                        tip: 'Raisonnable = pas disproportionn√© par rapport aux b√©n√©fices'
                    },
                    {
                        type: 'vf',
                        question: 'Le harc√®lement discriminatoire est plus grave juridiquement que la discrimination simple.',
                        answer: true,
                        explanation: 'Le harc√®lement discriminatoire cumule les sanctions de la discrimination et du harc√®lement moral.',
                        keyword: 'Harc√®lement discriminatoire aggrav√©',
                        hint: 'C\'est la combinaison de deux infractions',
                        tip: 'Sanctions p√©nales et civiles cumul√©es'
                    },
                    {
                        type: 'qcm',
                        question: 'Dans le cas Air France et les nattes (2022), la Cour de cassation a jug√© :',
                        options: ['Discrimination bas√©e sur l\'origine', 'Discrimination bas√©e sur l\'apparence physique', 'Pas de discrimination', 'Discrimination religieuse'],
                        answer: 1,
                        explanation: 'La Cour a consid√©r√© que sanctionner les nattes masculines (autoris√©es pour les femmes) constituait une discrimination li√©e √† l\'apparence physique et au sexe.',
                        keyword: 'Arr√™t Air France nattes',
                        hint: 'Diff√©rence de traitement entre hommes et femmes sur la coiffure',
                        tip: 'Jurisprudence r√©cente importante sur l\'apparence physique'
                    },
                    {
                        type: 'keyword',
                        term: 'CHARGE DE LA PREUVE',
                        category: 'Proc√©dure juridique',
                        question: 'En mati√®re de discrimination, qui doit prouver qu\'il n\'y a pas eu discrimination ?',
                        answer: 'employeur',
                        explanation: 'Le salari√© apporte des √©l√©ments laissant supposer une discrimination, puis l\'employeur doit prouver que sa d√©cision √©tait justifi√©e.',
                        keyword: 'Employeur doit prouver',
                        hint: 'C\'est un renversement par rapport au droit commun',
                        tip: 'Facilite la position de la victime pr√©sum√©e'
                    },
                    {
                        type: 'vf',
                        question: 'Une entreprise peut l√©galement refuser d\'embaucher une personne de plus de 70 ans.',
                        answer: true,
                        explanation: 'L\'√¢ge l√©gal de d√©part √† la retraite permet ce refus, contrairement aux discriminations li√©es √† l\'√¢ge dans la tranche active.',
                        keyword: '√Çge retraite = limite l√©gale',
                        hint: 'Il y a des limites l√©gales li√©es √† l\'√¢ge de la retraite',
                        tip: 'Exception au principe de non-discrimination par l\'√¢ge'
                    },
                    {
                        type: 'qcm',
                        question: 'Un accord d\'√©galit√© professionnelle doit √™tre n√©goci√© tous les :',
                        options: ['2 ans', '3 ans', '4 ans', '5 ans'],
                        answer: 2,
                        explanation: 'Les entreprises de 50+ salari√©s doivent n√©gocier un accord d\'√©galit√© professionnelle tous les 4 ans.',
                        keyword: 'Accord tous les 4 ans',
                        hint: 'C\'est la dur√©e d\'un mandat de repr√©sentant du personnel',
                        tip: 'Obligation de n√©gociation, m√™me si pas d\'accord sign√©'
                    },
                    {
                        type: 'keyword',
                        term: 'TESTING',
                        category: 'Preuve de discrimination',
                        question: 'Quelle m√©thode consiste √† envoyer des CV similaires avec des noms diff√©rents ?',
                        answer: 'testing',
                        explanation: 'Le testing compare les r√©ponses √† des candidatures similaires pour r√©v√©ler d\'√©ventuelles discriminations.',
                        keyword: 'Testing',
                        hint: 'C\'est une m√©thode de test comparative',
                        tip: 'Preuve statistique de discrimination, admise par les tribunaux'
                    },
                    {
                        type: 'vf',
                        question: 'Les repr√©sailles contre un salari√© qui d√©nonce une discrimination sont l√©gales si justifi√©es.',
                        answer: false,
                        explanation: 'Toute repr√©saille contre un salari√© qui d√©nonce de bonne foi une discrimination est strictement interdite.',
                        keyword: 'Repr√©sailles interdites',
                        hint: 'La loi prot√®ge les lanceurs d\'alerte',
                        tip: 'Protection absolue, m√™me si la discrimination n\'est pas prouv√©e'
                    },
                    {
                        type: 'qcm',
                        question: 'Le taux de ch√¥mage des personnes handicap√©es par rapport √† la moyenne nationale est :',
                        options: ['Identique', '2 fois sup√©rieur', '3 fois sup√©rieur', '5 fois sup√©rieur'],
                        answer: 1,
                        explanation: 'Le taux de ch√¥mage des personnes handicap√©es (18%) est environ 2 fois sup√©rieur √† la moyenne (8-9%).',
                        keyword: 'Handicap : 2x plus de ch√¥mage',
                        hint: 'C\'est un √©cart significatif mais pas √©norme',
                        tip: 'Justifie les politiques de discrimination positive'
                    },
                    {
                        type: 'keyword',
                        term: '√âGALIT√â R√âELLE',
                        category: 'Concept juridique',
                        question: 'Quel objectif va au-del√† de la simple √©galit√© formelle ?',
                        answer: '√©galit√© r√©elle',
                        explanation: 'L\'√©galit√© r√©elle vise des r√©sultats concrets, pas seulement l\'√©galit√© des droits sur le papier.',
                        keyword: '√âgalit√© r√©elle',
                        hint: 'C\'est l\'√©galit√© des r√©sultats, pas seulement des droits',
                        tip: 'Justifie les actions positives temporaires'
                    },
                    {
                        type: 'vf',
                        question: 'En France, la parit√© hommes-femmes est obligatoire dans tous les conseils d\'administration.',
                        answer: false,
                        explanation: 'La parit√© est obligatoire seulement dans les grandes entreprises cot√©es et les entreprises publiques.',
                        keyword: 'Parit√© : grandes entreprises uniquement',
                        hint: 'Il y a des seuils de taille d\'entreprise',
                        tip: 'Mesure progressive, pas g√©n√©ralis√©e √† toutes les entreprises'
                    },
                    {
                        type: 'qcm',
                        question: 'Le d√©lai de prescription pour agir aux prud\'hommes pour discrimination est de :',
                        options: ['2 ans', '3 ans', '5 ans', '10 ans'],
                        answer: 1,
                        explanation: 'L\'action en justice pour discrimination doit √™tre intent√©e dans les 5 ans suivant la r√©v√©lation de la discrimination.',
                        keyword: '5 ans de prescription',
                        hint: 'C\'est plus long que pour d\'autres actions prud\'homales',
                        tip: 'D√©lai sp√©cial plus favorable √† la victime'
                    },
                    {
                        type: 'vf',
                        question: 'Une discrimination peut √™tre reconnue m√™me sans intention discriminatoire de l\'auteur.',
                        answer: true,
                        explanation: 'La discrimination s\'appr√©cie objectivement par ses effets, ind√©pendamment de l\'intention de son auteur.',
                        keyword: 'Pas besoin d\'intention',
                        hint: 'Ce sont les r√©sultats qui comptent, pas les intentions',
                        tip: 'Facilite la reconnaissance des discriminations indirectes'
                    }
                ]
            }
        };

        // Variables de jeu
        let currentLevel = 1;
        let currentCardIndex = 0;
        let levelCorrect = 0;
        let levelPoints = 0;
        let levelErrors = [];
        let totalPoints = parseInt(localStorage.getItem('flashcards_points') || '0');
        let currentStreak = 0;
        let bestStreak = 0;
        let hintUsed = false;
        let levelProgress = [0, 0, 0, 0, 0, 0]; // Index 0 non utilis√©

        // Charger la progression
        for (let i = 1; i <= 5; i++) {
            levelProgress[i] = parseInt(localStorage.getItem(`level_${i}_progress`) || '0');
        }

        function startLevel(level) {
            currentLevel = level;
            currentCardIndex = 0;
            levelCorrect = 0;
            levelPoints = 0;
            levelErrors = [];
            currentStreak = 0;
            bestStreak = 0;

            document.getElementById('homeScreen').classList.remove('active');
            document.getElementById('gameScreen').classList.add('active');
            document.getElementById('resultsScreen').classList.remove('active');

            document.getElementById('currentLevelBadge').textContent = `Niveau ${level}`;
            document.getElementById('correctCount').textContent = '0';
            document.getElementById('levelPoints').textContent = '0';
            document.getElementById('gameStreak').textContent = '0';

            showCard();
        }

        function showCard() {
            const card = levels[currentLevel].cards[currentCardIndex];
            const total = levels[currentLevel].cards.length;
            
            document.getElementById('cardCounter').textContent = `Carte ${currentCardIndex + 1}/${total}`;
            hintUsed = false;
            document.getElementById('hintBox').style.display = 'none';

            // Type de carte
            const typeLabels = {
                'keyword': 'MOT-CL√â',
                'qcm': 'QCM',
                'vf': 'VRAI/FAUX'
            };
            document.getElementById('cardType').textContent = typeLabels[card.type] || 'QUESTION';

            // Difficult√© (bas√©e sur le niveau)
            const difficulty = '‚≠ê'.repeat(Math.min(currentLevel, 5));
            document.getElementById('cardDifficulty').textContent = difficulty;

            const questionSection = document.getElementById('questionSection');
            
            if (card.type === 'keyword') {
                questionSection.innerHTML = `
                    <div class="keyword-display">
                        <div class="keyword-term">${card.term}</div>
                        <div class="keyword-category">${card.category}</div>
                        <input type="text" class="answer-input" id="keywordAnswer" placeholder="Votre r√©ponse..." autocomplete="off">
                    </div>
                `;
                
                // Focus sur l'input
                setTimeout(() => {
                    document.getElementById('keywordAnswer').focus();
                }, 100);
            }
            else if (card.type === 'qcm') {
                let optionsHTML = card.options.map((opt, i) => `
                    <button class="option-btn" data-index="${i}" onclick="selectOption(this)">
                        <span class="option-letter">${String.fromCharCode(65 + i)}</span>
                        <span>${opt}</span>
                    </button>
                `).join('');
                
                questionSection.innerHTML = `
                    <p class="question-text">${card.question}</p>
                    <div class="options-container">${optionsHTML}</div>
                `;
            }
            else if (card.type === 'vf') {
                questionSection.innerHTML = `
                    <p class="question-text">${card.question}</p>
                    <div class="vf-container">
                        <button class="vf-btn vrai" onclick="selectVF(this, true)">‚úì VRAI</button>
                        <button class="vf-btn faux" onclick="selectVF(this, false)">‚úó FAUX</button>
                    </div>
                `;
            }
        }
        
        function selectOption(btn) {
            document.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
        }
        
        function selectVF(btn, value) {
            document.querySelectorAll('.vf-btn').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
            btn.dataset.value = value;
        }
        
        function showHint() {
            const card = levels[currentLevel].cards[currentCardIndex];
            if (card.hint) {
                document.getElementById('hintText').innerHTML = `üí° <strong>Indice :</strong> ${card.hint}`;
                document.getElementById('hintBox').style.display = 'block';
                hintUsed = true;
            }
        }
        
        function validateAnswer() {
            const card = levels[currentLevel].cards[currentCardIndex];
            let isCorrect = false;
            let userAnswer = '';
            
            if (card.type === 'keyword') {
                userAnswer = document.getElementById('keywordAnswer').value.trim().toLowerCase();
                // Normaliser (accents, etc.)
                const normalize = str => str.normalize('NFD').replace(/[\u0300-\u036f]/g, '').toLowerCase();
                isCorrect = normalize(userAnswer) === normalize(card.answer) || 
                            userAnswer.includes(normalize(card.answer)) ||
                            normalize(card.answer).includes(userAnswer);
            }
            else if (card.type === 'qcm') {
                const selected = document.querySelector('.option-btn.selected');
                if (!selected) { alert('S√©lectionne une r√©ponse'); return; }
                userAnswer = parseInt(selected.dataset.index);
                isCorrect = userAnswer === card.answer;
            }
            else if (card.type === 'vf') {
                const selected = document.querySelector('.vf-btn.selected');
                if (!selected) { alert('S√©lectionne VRAI ou FAUX'); return; }
                userAnswer = selected.dataset.value === 'true';
                isCorrect = userAnswer === card.answer;
            }
            
            showFeedback(isCorrect, card);
        }
        
        function showFeedback(isCorrect, card) {
            const overlay = document.getElementById('feedbackOverlay');
            const feedbackCard = document.getElementById('feedbackCard');
            
            let points = 0;
            if (isCorrect) {
                points = hintUsed ? 5 : 10;
                levelCorrect++;
                currentStreak++;
                if (currentStreak > bestStreak) bestStreak = currentStreak;
                
                // Streak bonus
                if (currentStreak === 3) showStreakPopup('üî• 3 de suite !');
                else if (currentStreak === 5) showStreakPopup('üî•üî• 5 de suite !');
                else if (currentStreak === 10) showStreakPopup('üî•üî•üî• INCROYABLE !');
            } else {
                currentStreak = 0;
                levelErrors.push(card.keyword || card.question.replace(/<[^>]*>/g, '').substring(0, 50) + '...');
            }
            
            levelPoints += points;
            totalPoints += points;
            updateScoreDisplay();
            
            feedbackCard.className = 'feedback-card ' + (isCorrect ? 'correct' : 'incorrect');
            document.getElementById('feedbackIcon').textContent = isCorrect ? '‚úÖ' : '‚ùå';
            document.getElementById('feedbackTitle').textContent = isCorrect ? 
                (currentStreak >= 3 ? 'Excellent ! üî•' : 'Bravo !') : 'Pas tout √† fait...';
            document.getElementById('feedbackPoints').textContent = isCorrect ? `+${points} points` : '0 point';
            document.getElementById('feedbackPoints').style.display = isCorrect ? 'block' : 'none';
            
            document.getElementById('feedbackExplanation').innerHTML = `
                <h4>üìö Explication</h4>
                <p>${card.explanation}</p>
                <div class="keyword-box">üîë <span>${card.keyword}</span></div>
                ${card.tip ? `<div class="tip-box"><h5>üí° Astuce BAC</h5><p>${card.tip}</p></div>` : ''}
            `;
            
            overlay.classList.add('visible');
            
            // Sauvegarder les points
            localStorage.setItem('flashcards_points', totalPoints);
        }
        
        function showStreakPopup(text) {
            const popup = document.getElementById('streakPopup');
            popup.textContent = text;
            popup.style.display = 'block';
            setTimeout(() => { popup.style.display = 'none'; }, 1500);
        }
        
        function nextCard() {
            document.getElementById('feedbackOverlay').classList.remove('visible');
            currentCardIndex++;
            
            if (currentCardIndex >= levels[currentLevel].cards.length) {
                showResults();
            } else {
                showCard();
            }
        }
        
        function showResults() {
            const total = levels[currentLevel].cards.length;
            const percent = Math.round((levelCorrect / total) * 100);
            
            levelProgress[currentLevel] = Math.max(levelProgress[currentLevel], percent);
            localStorage.setItem(`level_${currentLevel}_progress`, levelProgress[currentLevel]);
            
            document.getElementById('gameScreen').classList.remove('active');
            document.getElementById('resultsScreen').classList.add('active');
            
            document.getElementById('resultsIcon').textContent = percent >= 80 ? 'üéâ' : percent >= 50 ? 'üëç' : 'üí™';
            document.getElementById('resultsTitle').textContent = percent >= 80 ? 'Niveau r√©ussi !' : percent >= 50 ? 'Pas mal !' : 'Continue !';
            document.getElementById('resultsScore').textContent = percent + '%';
            document.getElementById('correctCount').textContent = levelCorrect + '/' + total;
            document.getElementById('pointsEarned').textContent = '+' + levelPoints;
            document.getElementById('bestStreak').textContent = bestStreak;
            
            // Erreurs
            const errorsRecap = document.getElementById('errorsRecap');
            if (levelErrors.length > 0) {
                errorsRecap.style.display = 'block';
                document.getElementById('errorsList').innerHTML = levelErrors.map(e => `<li>${e}</li>`).join('');
            } else {
                errorsRecap.style.display = 'none';
            }
            
            // Confettis si r√©ussi
            if (percent >= 80) {
                createConfetti();
            }
            
            // Bouton niveau suivant
            document.getElementById('nextLevelBtn').style.display = (currentLevel < 5 && percent >= 60) ? 'flex' : 'none';
            
            updateHomeProgress();
        }
        
        function createConfetti() {
            const colors = ['#ff9a9e', '#fecfef', '#ffd1ff', '#84fab0', '#8fd3f4', '#FFD700'];
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = Math.random() * 2 + 's';
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 3000);
            }
        }
        
        function goHome() {
            document.getElementById('resultsScreen').classList.remove('active');
            document.getElementById('gameScreen').classList.remove('active');
            document.getElementById('homeScreen').classList.add('active');
            updateHomeProgress();
        }
        
        function nextLevel() {
            if (currentLevel < 5) {
                startLevel(currentLevel + 1);
                document.getElementById('resultsScreen').classList.remove('active');
            }
        }
        
        function updateScoreDisplay() {
            document.getElementById('totalPoints').textContent = totalPoints;
            document.getElementById('currentStreak').textContent = currentStreak;
            document.getElementById('levelPoints').textContent = levelPoints;
            document.getElementById('correctCount').textContent = levelCorrect;
            document.getElementById('gameStreak').textContent = currentStreak;
        }
        
        function updateHomeProgress() {
            for (let i = 1; i <= 5; i++) {
                document.getElementById(`level${i}Percent`).textContent = levelProgress[i] + '%';
                document.getElementById(`level${i}Bar`).style.width = levelProgress[i] + '%';
            }
        }
        
        // Gestion du clavier pour les inputs
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                if (document.getElementById('gameScreen').classList.contains('active')) {
                    if (document.getElementById('keywordAnswer')) {
                        validateAnswer();
                    }
                }
            }
        });
        
        // Init
        updateScoreDisplay();
        updateHomeProgress();
    </script>

    <!-- EN-T√äTE P√âDAGOGIQUE OBLIGATOIRE (masqu√© mais conforme) -->
    <div style="display: none;" class="cadre-pedagogique-cache">
        <div class="module-info">
            <h2>Module C.12 : L'√©galit√© de traitement au travail</h2>
            <div class="objectif">
                <strong>Objectif :</strong> Identifier les diff√©rentes dimensions de l'√©galit√© au travail et les personnes √† contacter en cas de discrimination.
            </div>
        </div>
        
        <div class="competences-travaillees">
            <h3>Comp√©tences travaill√©es dans cet exercice :</h3>
            <ul class="competences-list">
                <li><strong>C1</strong> - Traiter une information</li>
                <li><strong>C3</strong> - Expliquer un ph√©nom√®ne physiologique, un enjeu environnemental, une disposition r√©glementaire, en lien avec une mesure de pr√©vention</li>
                <li><strong>C4</strong> - Proposer une solution pour r√©soudre un probl√®me</li>
                <li><strong>C6</strong> - Communiquer √† l'√©crit et √† l'oral avec une syntaxe claire et un vocabulaire adapt√©s</li>
            </ul>
        </div>
        
        <div class="niveau-cible">
            <strong>Niveau :</strong> Bac Pro Terminale
        </div>
    </div>

    <!-- RGPD FOOTER √âPUR√â -->
    <div style="text-align: center; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 8px; margin-top: 30px; font-size: 0.9em; color: rgba(255,255,255,0.7);">
        üîí Conformit√© RGPD : Cet exercice respecte votre anonymat.
    </div>

</body>
</html>