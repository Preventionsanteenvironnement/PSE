<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module C.5 - Simulation Responsable S√©curit√© - Premi√®re Bac Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=OpenDyslexie&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-pse: #2E86AB;
            --secondary-pse: #A23B72;
            --success-pse: #219653;
            --warning-pse: #F2994A;
            --danger-pse: #EB5757;
            --dark-pse: #2F3542;
            --light-pse: #F1F2F6;
        }

        .competence-c1 { border-left: 5px solid #E74C3C; }
        .competence-c2 { border-left: 5px solid #3498DB; }
        .competence-c3 { border-left: 5px solid #2ECC71; }
        .competence-c4 { border-left: 5px solid #F39C12; }
        .competence-c5 { border-left: 5px solid #9B59B6; }
        .competence-c6 { border-left: 5px solid #1ABC9C; }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #ff9a56 0%, #ff6b7a 100%);
            min-height: 100vh;
            padding: 15px;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        /* EN-T√äTE P√âDAGOGIQUE OBLIGATOIRE */
        .cadre-pedagogique {
            background: linear-gradient(135deg, var(--primary-pse), var(--secondary-pse));
            color: white;
            padding: 25px;
            text-align: center;
        }

        .module-info h2 {
            font-size: 1.8em;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .objectif {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .competences-travaillees {
            margin: 20px 0;
        }

        .competences-list {
            list-style: none;
            margin: 10px 0;
        }

        .competences-list li {
            background: rgba(255,255,255,0.1);
            margin: 8px 0;
            padding: 10px;
            border-radius: 5px;
            border-left: 4px solid #fff;
        }

        .niveau-cible {
            font-weight: 600;
            background: rgba(255,255,255,0.2);
            padding: 10px;
            border-radius: 8px;
        }

        /* EXERCICE PRINCIPAL */
        .exercice-principal {
            padding: 30px;
        }

        .simulation-header {
            background: linear-gradient(135deg, #ff6b7a, #ee5a52);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .simulation-header h3::before {
            content: "üé≠";
            margin-right: 10px;
            font-size: 1.5em;
        }

        .profil-responsable {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .profil-responsable h4::before {
            content: "üë§";
            margin-right: 10px;
        }

        .scenario-entreprise {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            border-left: 5px solid var(--warning-pse);
        }

        .scenario-entreprise h4 {
            color: var(--warning-pse);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .scenario-entreprise h4::before {
            content: "üè≠";
            margin-right: 10px;
            font-size: 1.3em;
        }

        .incident-report {
            background: linear-gradient(135deg, #fee2e2, #fca5a5);
            border: 2px solid #ef4444;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .incident-report h5 {
            color: #dc2626;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .incident-report h5::before {
            content: "‚ö†Ô∏è";
            margin-right: 8px;
        }

        .mission-objectifs {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            border: 2px solid #3b82f6;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .mission-objectifs h4 {
            color: #1d4ed8;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .mission-objectifs h4::before {
            content: "üéØ";
            margin-right: 10px;
        }

        .etape-simulation {
            margin: 30px 0;
            background: white;
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #e5e7eb;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .etape-simulation h4 {
            color: var(--primary-pse);
            margin-bottom: 20px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
        }

        .etape-simulation h4::before {
            margin-right: 10px;
            font-size: 1.2em;
        }

        .etape-1 h4::before { content: "üìã"; }
        .etape-2 h4::before { content: "üõ°Ô∏è"; }
        .etape-3 h4::before { content: "üí≠"; }

        .instructions-interaction {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 5px solid #d97706;
        }

        .instructions-interaction h5 {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .instructions-interaction h5::before {
            content: "üì±";
            margin-right: 10px;
        }

        .mesures-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .niveau-prevention {
            background: white;
            border: 3px solid #e5e7eb;
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .niveau-prevention h5 {
            margin-bottom: 15px;
            font-size: 1.1em;
            display: flex;
            align-items: center;
        }

        .niveau-suppression { border-left-color: #dc2626; }
        .niveau-protection-collective { border-left-color: #f59e0b; }
        .niveau-protection-individuelle { border-left-color: #0ea5e9; }
        .niveau-formation { border-left-color: #8b5cf6; }

        .niveau-suppression h5::before { content: "üö´"; margin-right: 8px; }
        .niveau-protection-collective h5::before { content: "üõ°Ô∏è"; margin-right: 8px; }
        .niveau-protection-individuelle h5::before { content: "üë∑"; margin-right: 8px; }
        .niveau-formation h5::before { content: "üìö"; margin-right: 8px; }

        .mesures-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }

        .mesure-option {
            background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
            border: 2px solid #d1d5db;
            border-radius: 20px;
            padding: 10px 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
            text-align: center;
            min-width: 140px;
        }

        .mesure-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            border-color: var(--primary-pse);
        }

        .mesure-option.selected {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            border-color: #1d4ed8;
            transform: translateY(-2px);
        }

        .zone-depot-mesures {
            background: #f9fafb;
            border: 3px dashed #d1d5db;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            min-height: 80px;
            transition: all 0.3s ease;
        }

        .zone-depot-mesures.has-content {
            background: #ecfdf5;
            border-color: #10b981;
            border-style: solid;
        }

        .mesure-deposee {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 8px 12px;
            border-radius: 15px;
            margin: 5px;
            display: inline-block;
            font-size: 0.9em;
        }

        .argumentation-zone {
            background: #f9fafb;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .argumentation-zone h5 {
            color: var(--primary-pse);
            margin-bottom: 15px;
        }

        .argument-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }

        .argument-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .argument-card:hover {
            border-color: var(--primary-pse);
            transform: translateY(-2px);
        }

        .argument-card.selected {
            border-color: var(--primary-pse);
            background: linear-gradient(135deg, #eff6ff, #dbeafe);
        }

        .bouton-validation {
            background: linear-gradient(135deg, var(--success-pse), #16a34a);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px auto;
            display: block;
        }

        .bouton-validation:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .bouton-validation:disabled {
            background: #6b7280;
            cursor: not-allowed;
            transform: none;
        }

        .sigles-explicatifs {
            background: #e0f2fe;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #0288d1;
        }

        .sigles-explicatifs h4 {
            color: #0277bd;
            margin-bottom: 15px;
        }

        .sigle {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 5px;
        }

        .sigle strong {
            color: #0277bd;
        }

        .feedback-card {
            background: linear-gradient(135deg, #1f2937, #111827);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }

        .feedback-explanation {
            background: rgba(255, 255, 255, 0.95);
            color: #333;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .correction-explicite {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .hierarchie-visualisation {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--primary-pse);
        }

        .niveau-hierarchie {
            display: flex;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 5px solid #e5e7eb;
        }

        .niveau-hierarchie.efficace-max { background: #fef2f2; border-left-color: #dc2626; }
        .niveau-hierarchie.efficace-moyen { background: #fffbeb; border-left-color: #f59e0b; }
        .niveau-hierarchie.efficace-min { background: #f0f9ff; border-left-color: #0ea5e9; }

        .numero-niveau {
            background: #374151;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
        }

        .progress-competences {
            background: #f8fafc;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .competence-progress {
            margin: 10px 0;
        }

        .competence-bar {
            background: #e2e8f0;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
        }

        .competence-fill {
            height: 100%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        .competence-fill.c4 { background: #F39C12; }
        .competence-fill.c5 { background: #9B59B6; }

        .rgpd-notice {
            background: #f8fafc;
            color: #64748b;
            text-align: center;
            padding: 15px;
            font-size: 0.9em;
        }

        /* Responsive */
        @media (max-width: 768px) {
            body { padding: 10px; }
            .container { border-radius: 10px; }
            .cadre-pedagogique { padding: 20px; }
            .exercice-principal { padding: 20px; }
            .argument-options { grid-template-columns: 1fr; }
            .mesures-options { flex-direction: column; }
        }

        @media (min-width: 1024px) {
            .container { max-width: 1200px; }
        }
    </style>
</head>
<body>
    <!-- EN-T√äTE P√âDAGOGIQUE OBLIGATOIRE -->
    <div class="container">
        <div class="cadre-pedagogique">
            <div class="module-info">
                <h2>Module C.5 : L'analyse des risques professionnels</h2>
                <div class="objectif">
                    <strong>Objectif :</strong> S'approprier des outils m√©thodologiques d'analyse des risques en vue d'analyser et d'√©valuer un risque et de proposer des mesures hi√©rarchis√©es de pr√©vention
                </div>
            </div>
            
            <div class="competences-travaillees">
                <h3>Comp√©tences travaill√©es dans cet exercice :</h3>
                <ul class="competences-list">
                    <li><strong>C4</strong> - Proposer une solution pour r√©soudre un probl√®me</li>
                    <li><strong>C5</strong> - Argumenter un choix</li>
                </ul>
            </div>
            
            <div class="niveau-cible">
                <strong>Niveau :</strong> Bac Pro Premi√®re
            </div>
        </div>

        <!-- EXERCICE PRINCIPAL -->
        <main class="exercice-principal">
            <div class="simulation-header">
                <h3>Simulation professionnelle - Responsable s√©curit√©</h3>
                <p><strong>üéØ Mission :</strong> Vous venez d'√™tre recrut√©(e) comme responsable s√©curit√© dans l'entreprise M√©talPro. Proposez des mesures de pr√©vention hi√©rarchis√©es suite √† un incident grave.</p>
            </div>

            <div class="profil-responsable">
                <h4>Votre profil professionnel</h4>
                <p><strong>Poste :</strong> Responsable s√©curit√© et pr√©vention des risques professionnels</p>
                <p><strong>Formation :</strong> Master en Hygi√®ne, S√©curit√©, Environnement (HSE)</p>
                <p><strong>Mission :</strong> √âlaborer et mettre en ≈ìuvre la politique de pr√©vention de l'entreprise</p>
                <p><strong>Outils :</strong> Audit s√©curit√©, mise √† jour du DUERP, formation du personnel</p>
            </div>

            <div class="scenario-entreprise">
                <h4>Contexte - Entreprise M√©talPro</h4>
                <p><strong>Secteur :</strong> M√©tallurgie et fabrication de structures m√©talliques</p>
                <p><strong>Effectif :</strong> 45 salari√©s r√©partis entre l'atelier de production et les bureaux d'√©tudes</p>
                <p><strong>Activit√©s principales :</strong> D√©coupe, soudage, assemblage de structures m√©talliques pour le BTP</p>
                
                <div class="incident-report">
                    <h5>Incident r√©cent - Rapport d'accident</h5>
                    <p><strong>Date :</strong> Il y a 3 jours</p>
                    <p><strong>Victime :</strong> Marc, soudeur exp√©riment√©, 34 ans</p>
                    <p><strong>Accident :</strong> Projection de particules m√©talliques incandescentes dans les yeux</p>
                    <p><strong>Cons√©quences :</strong> Br√ªlure corn√©enne, 15 jours d'arr√™t de travail</p>
                    <p><strong>Cause :</strong> Port non syst√©matique des lunettes de protection, ventilation insuffisante de l'atelier</p>
                </div>
            </div>

            <div class="mission-objectifs">
                <h4>Vos objectifs en tant que responsable s√©curit√©</h4>
                <ul style="margin-left: 20px; line-height: 1.6;">
                    <li>√âviter la reproduction de cet type d'accident</li>
                    <li>Proposer des mesures de pr√©vention efficaces et r√©alistes</li>
                    <li>Respecter la hi√©rarchie des mesures de pr√©vention (9 principes g√©n√©raux)</li>
                    <li>Convaincre la direction avec des arguments solides</li>
                    <li>Obtenir l'adh√©sion des √©quipes de production</li>
                </ul>
            </div>

            <div class="sigles-explicatifs">
                <h4>üìö Pr√©vention des risques - Sigles explicites</h4>
                <div class="sigle">
                    <strong>HSE</strong> = <strong>H</strong>ygi√®ne, <strong>S</strong>√©curit√©, <strong>E</strong>nvironnement
                    <br><em>Domaine professionnel d√©di√© √† la pr√©vention des risques en entreprise</em>
                </div>
                <div class="sigle">
                    <strong>EPC</strong> = <strong>√â</strong>quipement de <strong>P</strong>rotection <strong>C</strong>ollective
                    <br><em>Dispositif qui prot√®ge plusieurs personnes simultan√©ment (ex: ventilation, √©cran de protection)</em>
                </div>
                <div class="sigle">
                    <strong>EPI</strong> = <strong>√â</strong>quipement de <strong>P</strong>rotection <strong>I</strong>ndividuelle
                    <br><em>Dispositif port√© par une personne pour sa protection individuelle (ex: casque, lunettes)</em>
                </div>
            </div>

            <!-- √âTAPE 1 : S√©lection des mesures -->
            <div class="etape-simulation etape-1">
                <h4>√âTAPE 1 - Proposer des mesures de pr√©vention hi√©rarchis√©es</h4>
                
                <div class="instructions-interaction">
                    <h5>üì± COMMENT MANIPULER :</h5>
                    <p><strong>1.</strong> Cliquez sur une mesure pour la s√©lectionner</p>
                    <p><strong>2.</strong> Cliquez sur le niveau de pr√©vention appropri√© pour la d√©poser</p>
                    <p><strong>3.</strong> Respectez l'ordre de priorit√© (du plus efficace au moins efficace)</p>
                </div>

                <div class="hierarchie-visualisation">
                    <h5>üéØ Hi√©rarchie des mesures de pr√©vention (9 principes g√©n√©raux)</h5>
                    <div class="niveau-hierarchie efficace-max">
                        <div class="numero-niveau">1</div>
                        <div>
                            <strong>Suppression/R√©duction du risque :</strong> √âliminer le danger √† la source<br>
                            <em>Plus efficace - Action sur la cause</em>
                        </div>
                    </div>
                    <div class="niveau-hierarchie efficace-moyen">
                        <div class="numero-niveau">2</div>
                        <div>
                            <strong>Protection collective :</strong> Prot√©ger tous les op√©rateurs simultan√©ment<br>
                            <em>Efficacit√© moyenne - Action sur l'environnement</em>
                        </div>
                    </div>
                    <div class="niveau-hierarchie efficace-min">
                        <div class="numero-niveau">3</div>
                        <div>
                            <strong>Protection individuelle :</strong> Prot√©ger chaque personne s√©par√©ment<br>
                            <em>Moins efficace - Action sur la personne</em>
                        </div>
                    </div>
                    <div class="niveau-hierarchie efficace-min">
                        <div class="numero-niveau">4</div>
                        <div>
                            <strong>Formation/Information :</strong> Sensibiliser et former le personnel<br>
                            <em>Compl√©ment indispensable - Action sur les comportements</em>
                        </div>
                    </div>
                </div>

                <div class="mesures-options">
                    <div class="mesure-option" data-mesure="Installer un syst√®me de ventilation localis√©e">
                        Installer un syst√®me de ventilation localis√©e
                    </div>
                    <div class="mesure-option" data-mesure="Former les soudeurs aux risques oculaires">
                        Former les soudeurs aux risques oculaires
                    </div>
                    <div class="mesure-option" data-mesure="Fournir des lunettes de protection conformes">
                        Fournir des lunettes de protection conformes
                    </div>
                    <div class="mesure-option" data-mesure="Modifier le proc√©d√© de soudage (moins de projections)">
                        Modifier le proc√©d√© de soudage (moins de projections)
                    </div>
                    <div class="mesure-option" data-mesure="Installer des √©crans de protection mobiles">
                        Installer des √©crans de protection mobiles
                    </div>
                    <div class="mesure-option" data-mesure="Afficher les consignes de s√©curit√©">
                        Afficher les consignes de s√©curit√©
                    </div>
                    <div class="mesure-option" data-mesure="Contr√¥ler syst√©matiquement le port des EPI">
                        Contr√¥ler syst√©matiquement le port des EPI
                    </div>
                    <div class="mesure-option" data-mesure="R√©am√©nager l'atelier pour isoler le soudage">
                        R√©am√©nager l'atelier pour isoler le soudage
                    </div>
                </div>

                <div class="mesures-container">
                    <div class="niveau-prevention niveau-suppression">
                        <h5>üö´ Suppression/R√©duction du risque</h5>
                        <p><em>√âliminer ou r√©duire le danger √† la source</em></p>
                        <div class="zone-depot-mesures" data-niveau="suppression"></div>
                    </div>

                    <div class="niveau-prevention niveau-protection-collective">
                        <h5>üõ°Ô∏è Protection collective</h5>
                        <p><em>Prot√©ger plusieurs personnes simultan√©ment</em></p>
                        <div class="zone-depot-mesures" data-niveau="collective"></div>
                    </div>

                    <div class="niveau-prevention niveau-protection-individuelle">
                        <h5>üë∑ Protection individuelle</h5>
                        <p><em>√âquiper chaque personne individuellement</em></p>
                        <div class="zone-depot-mesures" data-niveau="individuelle"></div>
                    </div>

                    <div class="niveau-prevention niveau-formation">
                        <h5>üìö Formation/Information</h5>
                        <p><em>Sensibiliser et former le personnel</em></p>
                        <div class="zone-depot-mesures" data-niveau="formation"></div>
                    </div>
                </div>

                <button class="bouton-validation" id="btn-valider-etape1" onclick="validerEtape1()" disabled>‚úÖ Valider la hi√©rarchisation</button>
            </div>

            <!-- √âTAPE 2 : Argumentation -->
            <div class="etape-simulation etape-2" id="etape2" style="display: none;">
                <h4>√âTAPE 2 - Argumenter vos choix devant la direction</h4>
                
                <p>La direction vous demande de justifier pourquoi certaines mesures sont prioritaires. S√©lectionnez les arguments les plus convaincants :</p>

                <div class="argumentation-zone">
                    <h5>üí∞ Arguments √©conomiques et techniques</h5>
                    <div class="argument-options">
                        <div class="argument-card" data-argument="economie-cout">
                            <strong>R√©duction des co√ªts</strong><br>
                            Les accidents co√ªtent plus cher que la pr√©vention (arr√™ts, remplacements, assurance)
                        </div>
                        <div class="argument-card" data-argument="economie-performance">
                            <strong>Am√©lioration de la productivit√©</strong><br>
                            Un environnement s√ªr augmente l'efficacit√© et r√©duit l'absent√©isme
                        </div>
                        <div class="argument-card" data-argument="technique-efficacite">
                            <strong>Efficacit√© prouv√©e scientifiquement</strong><br>
                            La hi√©rarchie des mesures est valid√©e par les √©tudes INRS
                        </div>
                    </div>
                </div>

                <div class="argumentation-zone">
                    <h5>‚öñÔ∏è Arguments r√©glementaires et √©thiques</h5>
                    <div class="argument-options">
                        <div class="argument-card" data-argument="legal-obligation">
                            <strong>Obligation l√©gale</strong><br>
                            L'employeur est responsable de la s√©curit√© de ses salari√©s (Code du travail)
                        </div>
                        <div class="argument-card" data-argument="legal-sanctions">
                            <strong>√âviter les sanctions</strong><br>
                            Non-respect de la s√©curit√© = amendes et poursuites p√©nales possibles
                        </div>
                        <div class="argument-card" data-argument="ethique-humain">
                            <strong>Protection de la sant√© humaine</strong><br>
                            Pr√©server l'int√©grit√© physique et le bien-√™tre des collaborateurs
                        </div>
                    </div>
                </div>

                <div class="argumentation-zone">
                    <h5>üìà Arguments strat√©giques et image</h5>
                    <div class="argument-options">
                        <div class="argument-card" data-argument="image-entreprise">
                            <strong>Image de marque</strong><br>
                            Une entreprise s√ªre attire les meilleurs talents et rassure les clients
                        </div>
                        <div class="argument-card" data-argument="strategic-competitivite">
                            <strong>Avantage concurrentiel</strong><br>
                            Certification s√©curit√© = diff√©renciation sur les appels d'offres
                        </div>
                        <div class="argument-card" data-argument="strategic-perennite">
                            <strong>P√©rennit√© de l'activit√©</strong><br>
                            √âviter les interruptions d'activit√© dues aux accidents graves
                        </div>
                    </div>
                </div>

                <button class="bouton-validation" id="btn-valider-etape2" onclick="validerEtape2()" disabled>‚úÖ Valider l'argumentation</button>
            </div>

            <!-- √âTAPE 3 : Mise en ≈ìuvre -->
            <div class="etape-simulation etape-3" id="etape3" style="display: none;">
                <h4>√âTAPE 3 - Planifier la mise en ≈ìuvre</h4>
                
                <p>La direction a valid√© vos propositions. Organisez maintenant leur mise en ≈ìuvre par ordre de priorit√© :</p>

                <div id="planning-mise-oeuvre"></div>

                <button class="bouton-validation" onclick="finaliserSimulation()">üéØ Finaliser la simulation</button>
            </div>

            <!-- Zone de feedback -->
            <div id="feedback-zone"></div>

            <div class="progress-competences">
                <h4>üìä Progression des comp√©tences</h4>
                <div class="competence-progress">
                    <label>C4 - Proposer une solution pour r√©soudre un probl√®me</label>
                    <div class="competence-bar">
                        <div class="competence-fill c4" id="progress-c4" style="width: 0%"></div>
                    </div>
                </div>
                <div class="competence-progress">
                    <label>C5 - Argumenter un choix</label>
                    <div class="competence-bar">
                        <div class="competence-fill c5" id="progress-c5" style="width: 0%"></div>
                    </div>
                </div>
            </div>
        </main>

        <!-- FOOTER RGPD -->
        <div class="rgpd-notice">
            üîí Conformit√© RGPD : Cet exercice respecte votre anonymat.
        </div>
    </div>

    <script>
        let mesureSelectionnee = null;
        let mesuresParNiveau = {
            suppression: [],
            collective: [],
            individuelle: [],
            formation: []
        };
        let argumentsSelectionnes = [];
        let scoreEtape1 = 0;
        let scoreEtape2 = 0;

        // Corrections attendues
        const correctionsHierarchie = {
            suppression: [
                'Modifier le proc√©d√© de soudage (moins de projections)',
                'R√©am√©nager l\'atelier pour isoler le soudage'
            ],
            collective: [
                'Installer un syst√®me de ventilation localis√©e',
                'Installer des √©crans de protection mobiles'
            ],
            individuelle: [
                'Fournir des lunettes de protection conformes',
                'Contr√¥ler syst√©matiquement le port des EPI'
            ],
            formation: [
                'Former les soudeurs aux risques oculaires',
                'Afficher les consignes de s√©curit√©'
            ]
        };

        const argumentsPertinents = [
            'economie-cout',
            'technique-efficacite',
            'legal-obligation',
            'ethique-humain',
            'image-entreprise'
        ];

        document.addEventListener('DOMContentLoaded', function() {
            // Gestion s√©lection des mesures
            document.querySelectorAll('.mesure-option').forEach(option => {
                option.addEventListener('click', function() {
                    selectionnerMesure(this);
                });
            });

            // Gestion des zones de d√©p√¥t
            document.querySelectorAll('.zone-depot-mesures').forEach(zone => {
                zone.addEventListener('click', function() {
                    deposerMesure(this);
                });
            });

            // Gestion s√©lection arguments
            document.querySelectorAll('.argument-card').forEach(card => {
                card.addEventListener('click', function() {
                    toggleArgument(this);
                });
            });
        });

        function selectionnerMesure(option) {
            if (option.classList.contains('used')) return;

            // D√©s√©lectionner l'ancienne
            if (mesureSelectionnee) {
                mesureSelectionnee.classList.remove('selected');
            }

            // S√©lectionner la nouvelle
            mesureSelectionnee = option;
            option.classList.add('selected');
        }

        function deposerMesure(zone) {
            if (!mesureSelectionnee || mesureSelectionnee.classList.contains('used')) return;

            const niveau = zone.dataset.niveau;
            const texteMesure = mesureSelectionnee.dataset.mesure;

            // Cr√©er l'√©l√©ment de mesure d√©pos√©e
            const mesureDeposee = document.createElement('div');
            mesureDeposee.className = 'mesure-deposee';
            mesureDeposee.textContent = texteMesure;

            // Ajouter √† la zone
            zone.appendChild(mesureDeposee);
            zone.classList.add('has-content');

            // Enregistrer dans les donn√©es
            mesuresParNiveau[niveau].push(texteMesure);

            // Marquer comme utilis√©e
            mesureSelectionnee.classList.add('used');
            mesureSelectionnee.classList.remove('selected');
            mesureSelectionnee = null;

            // V√©rifier si l'√©tape peut √™tre valid√©e
            checkEtape1Completude();
        }

        function checkEtape1Completude() {
            const totalMesures = Object.values(mesuresParNiveau).reduce((total, mesures) => total + mesures.length, 0);
            const btnValider = document.getElementById('btn-valider-etape1');
            
            if (totalMesures >= 6) { // Au moins 6 mesures plac√©es
                btnValider.disabled = false;
            }
        }

        function validerEtape1() {
            let score = 0;
            let erreurs = [];

            // V√©rification de chaque niveau
            Object.keys(correctionsHierarchie).forEach(niveau => {
                const mesuresUtilisateur = mesuresParNiveau[niveau];
                const mesuresCorrectes = correctionsHierarchie[niveau];

                mesuresCorrectes.forEach(mesureCorrecte => {
                    if (mesuresUtilisateur.includes(mesureCorrecte)) {
                        score++;
                    } else {
                        // Chercher o√π l'utilisateur l'a plac√©e
                        const niveauUtilisateur = Object.keys(mesuresParNiveau).find(n => 
                            mesuresParNiveau[n].includes(mesureCorrecte)
                        );
                        erreurs.push({
                            mesure: mesureCorrecte,
                            niveauCorrect: niveau,
                            niveauUtilisateur: niveauUtilisateur || 'non plac√©e'
                        });
                    }
                });
            });

            scoreEtape1 = score;
            updateProgress('c4', (score / 8) * 100);

            // Affichage des corrections
            afficherCorrectionsEtape1(erreurs, score);

            // Passer √† l'√©tape 2
            setTimeout(() => {
                document.getElementById('etape2').style.display = 'block';
                document.getElementById('etape2').scrollIntoView({ behavior: 'smooth' });
            }, 2000);
        }

        function toggleArgument(card) {
            const argument = card.dataset.argument;
            
            if (card.classList.contains('selected')) {
                card.classList.remove('selected');
                argumentsSelectionnes = argumentsSelectionnes.filter(a => a !== argument);
            } else {
                card.classList.add('selected');
                argumentsSelectionnes.push(argument);
            }

            // V√©rifier si l'√©tape peut √™tre valid√©e
            const btnValider = document.getElementById('btn-valider-etape2');
            btnValider.disabled = argumentsSelectionnes.length < 3;
        }

        function validerEtape2() {
            let score = 0;
            
            argumentsSelectionnes.forEach(arg => {
                if (argumentsPertinents.includes(arg)) {
                    score++;
                }
            });

            scoreEtape2 = score;
            updateProgress('c5', (score / argumentsPertinents.length) * 100);

            // Affichage des corrections
            afficherCorrectionsEtape2(score);

            // Passer √† l'√©tape 3
            setTimeout(() => {
                genererPlanningMiseOeuvre();
                document.getElementById('etape3').style.display = 'block';
                document.getElementById('etape3').scrollIntoView({ behavior: 'smooth' });
            }, 2000);
        }

        function afficherCorrectionsEtape1(erreurs, score) {
            const feedbackZone = document.getElementById('feedback-zone');
            
            let feedbackHTML = `
                <div class="feedback-card">
                    <h3>üìä R√©sultats de la hi√©rarchisation</h3>
                    <p><strong>Score :</strong> ${score}/8 mesures correctement hi√©rarchis√©es</p>
                    
                    <div class="feedback-explanation">
                        <h4>üí° Comp√©tence C4 - Proposer des solutions hi√©rarchis√©es</h4>
                        <p>La hi√©rarchisation des mesures de pr√©vention suit les 9 principes g√©n√©raux du Code du travail :</p>
                        <ol>
                            <li><strong>Suppression/R√©duction :</strong> Agir sur la cause du risque (proc√©d√©, am√©nagement)</li>
                            <li><strong>Protection collective :</strong> Prot√©ger tous les op√©rateurs (ventilation, √©crans)</li>
                            <li><strong>Protection individuelle :</strong> √âquiper chaque personne (EPI adapt√©s)</li>
                            <li><strong>Formation/Information :</strong> D√©velopper les comportements s√ªrs</li>
                        </ol>
                    </div>
            `;

            if (erreurs.length > 0) {
                feedbackHTML += `<div class="correction-explicite">
                    <h4>‚ùå CORRECTIONS</h4>`;
                
                erreurs.forEach(erreur => {
                    feedbackHTML += `
                        <div style="margin: 15px 0; padding: 15px; background: #fff; border-radius: 8px;">
                            <strong>‚úÖ "${erreur.mesure}"</strong><br>
                            <span style="color: #dc2626;">Niveau attendu :</span> <strong>${getNiveauLibelle(erreur.niveauCorrect)}</strong><br>
                            <span style="color: #6b7280;">Votre placement :</span> ${getNiveauLibelle(erreur.niveauUtilisateur)}<br>
                            <div style="background: #fef3c7; padding: 10px; margin-top: 10px; border-radius: 5px;">
                                <strong>üí° EXPLICATION :</strong> ${getExplicationHierarchie(erreur.mesure, erreur.niveauCorrect)}
                            </div>
                        </div>
                    `;
                });

                feedbackHTML += `</div>`;
            }

            feedbackHTML += `</div>`;
            feedbackZone.innerHTML = feedbackHTML;
        }

        function afficherCorrectionsEtape2(score) {
            const feedbackZone = document.getElementById('feedback-zone');
            
            let feedbackHTML = feedbackZone.innerHTML + `
                <div class="feedback-card">
                    <h3>üìä R√©sultats de l'argumentation</h3>
                    <p><strong>Score :</strong> ${score}/${argumentsPertinents.length} arguments pertinents s√©lectionn√©s</p>
                    
                    <div class="feedback-explanation">
                        <h4>üí° Comp√©tence C5 - Argumenter efficacement</h4>
                        <p>Pour convaincre la direction, vos arguments doivent √™tre :</p>
                        <ul>
                            <li><strong>Factuels :</strong> Bas√©s sur des donn√©es chiffr√©es ou r√©glementaires</li>
                            <li><strong>Vari√©s :</strong> √âconomiques, techniques, l√©gaux, √©thiques</li>
                            <li><strong>Concrets :</strong> Li√©s √† la situation sp√©cifique de l'entreprise</li>
                            <li><strong>Orient√©s r√©sultats :</strong> Montrer les b√©n√©fices tangibles</li>
                        </ul>
                    </div>
                    
                    <div class="correction-explicite">
                        <h4>‚úÖ ARGUMENTS LES PLUS PERTINENTS</h4>
                        <p><strong>1. R√©duction des co√ªts :</strong> ROI imm√©diat et mesurable</p>
                        <p><strong>2. Efficacit√© scientifique :</strong> Cr√©dibilit√© technique</p>
                        <p><strong>3. Obligation l√©gale :</strong> Argument incontournable</p>
                        <p><strong>4. Protection humaine :</strong> Dimension √©thique</p>
                        <p><strong>5. Image de marque :</strong> Avantage concurrentiel</p>
                    </div>
                </div>
            `;
            
            feedbackZone.innerHTML = feedbackHTML;
        }

        function genererPlanningMiseOeuvre() {
            const planning = document.getElementById('planning-mise-oeuvre');
            
            planning.innerHTML = `
                <div class="hierarchie-visualisation">
                    <h5>üìÖ Planning de mise en ≈ìuvre recommand√©</h5>
                    
                    <div style="background: #fef2f2; padding: 15px; border-radius: 8px; margin: 10px 0; border-left: 5px solid #dc2626;">
                        <strong>üö® PRIORIT√â 1 - Imm√©diat (0-15 jours)</strong>
                        <ul style="margin: 10px 0 0 20px;">
                            <li>Fournir imm√©diatement des lunettes de protection conformes</li>
                            <li>Mettre en place le contr√¥le syst√©matique des EPI</li>
                            <li>Former d'urgence tous les soudeurs aux risques oculaires</li>
                        </ul>
                    </div>
                    
                    <div style="background: #fffbeb; padding: 15px; border-radius: 8px; margin: 10px 0; border-left: 5px solid #f59e0b;">
                        <strong>‚ö†Ô∏è PRIORIT√â 2 - Court terme (1-3 mois)</strong>
                        <ul style="margin: 10px 0 0 20px;">
                            <li>Installer le syst√®me de ventilation localis√©e</li>
                            <li>Mettre en place les √©crans de protection mobiles</li>
                            <li>Afficher les nouvelles consignes de s√©curit√©</li>
                        </ul>
                    </div>
                    
                    <div style="background: #f0f9ff; padding: 15px; border-radius: 8px; margin: 10px 0; border-left: 5px solid #0ea5e9;">
                        <strong>üîÑ PRIORIT√â 3 - Moyen terme (3-6 mois)</strong>
                        <ul style="margin: 10px 0 0 20px;">
                            <li>√âtudier la modification du proc√©d√© de soudage</li>
                            <li>Planifier le r√©am√©nagement de l'atelier</li>
                            <li>√âvaluer l'efficacit√© des mesures mises en place</li>
                        </ul>
                    </div>
                </div>
            `;
        }

        function getNiveauLibelle(niveau) {
            const libelles = {
                'suppression': 'Suppression/R√©duction',
                'collective': 'Protection collective',
                'individuelle': 'Protection individuelle',
                'formation': 'Formation/Information',
                'non plac√©e': 'Non plac√©e'
            };
            return libelles[niveau] || niveau;
        }

        function getExplicationHierarchie(mesure, niveauCorrect) {
            const explications = {
                'Modifier le proc√©d√© de soudage (moins de projections)': 'Action sur la source du risque - √©limine les projections √† l\'origine.',
                'R√©am√©nager l\'atelier pour isoler le soudage': 'Suppression de l\'exposition - s√©pare physiquement l\'activit√© dangereuse.',
                'Installer un syst√®me de ventilation localis√©e': 'Protection collective - aspire les particules pour tous les postes.',
                'Installer des √©crans de protection mobiles': 'Protection collective - barri√®re physique pour plusieurs op√©rateurs.',
                'Fournir des lunettes de protection conformes': 'Protection individuelle - √©quipe chaque personne sp√©cifiquement.',
                'Contr√¥ler syst√©matiquement le port des EPI': 'Protection individuelle - assure l\'utilisation effective des √©quipements.',
                'Former les soudeurs aux risques oculaires': 'Formation - d√©veloppe la conscience du risque et les bons comportements.',
                'Afficher les consignes de s√©curit√©': 'Information - rappel permanent des r√®gles de s√©curit√©.'
            };
            return explications[mesure] || '';
        }

        function finaliserSimulation() {
            const scoreTotal = scoreEtape1 + scoreEtape2;
            const feedbackZone = document.getElementById('feedback-zone');
            
            feedbackZone.innerHTML += `
                <div class="feedback-card">
                    <h3>üèÜ Simulation termin√©e - Bilan global</h3>
                    <p><strong>Score total :</strong> ${scoreTotal}/${8 + argumentsPertinents.length}</p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0;">
                        <div style="background: #f0f9ff; padding: 15px; border-radius: 8px; text-align: center;">
                            <h5>C4 - Proposition de solutions</h5>
                            <div style="font-size: 2em; color: #0ea5e9;">${Math.round(scoreEtape1/8*100)}%</div>
                        </div>
                        <div style="background: #f3e8ff; padding: 15px; border-radius: 8px; text-align: center;">
                            <h5>C5 - Argumentation</h5>
                            <div style="font-size: 2em; color: #9333ea;">${Math.round(scoreEtape2/argumentsPertinents.length*100)}%</div>
                        </div>
                    </div>
                    
                    <div style="background: #ecfdf5; padding: 20px; border-radius: 10px; border-left: 5px solid #10b981;">
                        <h4>üéØ √âvaluation de votre performance professionnelle</h4>
                        <p><strong>Points forts identifi√©s :</strong></p>
                        <ul style="margin-left: 20px;">
                            <li>Compr√©hension de la hi√©rarchie des mesures de pr√©vention</li>
                            <li>Capacit√© √† proposer des solutions techniques adapt√©es</li>
                            <li>Aptitude √† argumenter aupr√®s de la direction</li>
                            <li>Vision globale de la mise en ≈ìuvre</li>
                        </ul>
                        
                        <div style="background: #fff; padding: 15px; border-radius: 8px; margin-top: 15px; border-left: 5px solid #2196f3;">
                            <h5>üéØ Astuce BAC</h5>
                            <p>Cette simulation reprend exactement la logique des √©preuves PSE : analyser une situation ‚Üí hi√©rarchiser les solutions ‚Üí argumenter ses choix. Ma√Ætrisez ces 3 √©tapes et vous r√©ussirez vos CCF et √©preuves terminales !</p>
                        </div>
                    </div>
                </div>
            `;
            
            feedbackZone.scrollIntoView({ behavior: 'smooth' });
        }

        function updateProgress(competence, percentage) {
            const progressBar = document.getElementById(`progress-${competence}`);
            progressBar.style.width = Math.min(percentage, 100) + '%';
        }
    </script>
</body>
</html>