<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>√âvaluation PSE - Les Contrats de Travail</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

        :root {
            --primary: #2563EB; /* Bleu acad√©mique moderne */
            --primary-hover: #1D4ED8;
            --bg-color: #F1F5F9;
            --card-bg: #FFFFFF;
            --text-main: #1E293B;
            --text-muted: #64748B;
            --success: #059669;
            --success-bg: #D1FAE5;
            --danger: #DC2626;
            --danger-bg: #FEE2E2;
        }

        * { box-sizing: border-box; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0; padding: 0;
            background-color: var(--bg-color);
            color: var(--text-main);
            display: flex; flex-direction: column; align-items: center;
            min-height: 100vh;
        }

        /* HEADER */
        header {
            width: 100%; background-color: #0F172A; color: white;
            padding: 15px 20px; text-align: center;
            position: sticky; top: 0; z-index: 100;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        header h1 { margin: 0; font-size: 1rem; color: #93C5FD; text-transform: uppercase; letter-spacing: 1px;}
        header h2 { margin: 5px 0; font-size: 1.2rem; }
        header p { margin: 0; font-size: 0.85rem; color: #CBD5E1; }

        /* CONTENEUR */
        .container {
            width: 100%; max-width: 650px; padding: 20px 15px;
            display: flex; flex-direction: column; flex-grow: 1;
        }

        /* √âCRAN D'ACCUEIL */
        #intro-screen { text-align: center; background: var(--card-bg); padding: 30px 20px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); margin-top: 20px; }
        #intro-screen h3 { color: var(--primary); margin-top: 0; }
        #intro-screen p { color: var(--text-muted); line-height: 1.6; font-size: 0.95rem; }
        
        .btn-main {
            background-color: var(--primary); color: white; border: none; border-radius: 8px;
            padding: 15px 20px; font-size: 1.05rem; font-weight: 600; width: 100%;
            cursor: pointer; transition: background-color 0.2s; margin-top: 20px;
            box-shadow: 0 4px 6px rgba(37, 99, 235, 0.2);
        }
        .btn-main:hover { background-color: var(--primary-hover); }
        .btn-main:active { transform: scale(0.98); }

        /* PROGRESSION */
        .progress-wrapper { width: 100%; margin-bottom: 20px; display: none; }
        .progress-bar { width: 100%; height: 8px; background-color: #E2E8F0; border-radius: 10px; overflow: hidden; }
        .progress-fill { height: 100%; background-color: var(--primary); width: 0%; transition: width 0.3s ease; }
        .progress-text { font-size: 0.85rem; color: var(--text-muted); margin-top: 8px; text-align: right; font-weight: 600; }

        /* CARTE QUESTION */
        .question-card {
            background: var(--card-bg); border-radius: 12px; padding: 25px 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05); display: none; animation: fadeIn 0.4s ease;
        }

        .badge-comp {
            display: inline-block; background-color: #DBEAFE; color: var(--primary);
            padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 700; margin-bottom: 15px;
        }

        .consigne { font-size: 1.1rem; font-weight: 400; line-height: 1.5; margin-bottom: 20px; color: var(--text-main); }
        .consigne strong { font-weight: 700; color: var(--primary); }

        /* OPTIONS */
        .options { display: flex; flex-direction: column; gap: 10px; }
        .option-btn {
            background-color: var(--card-bg); border: 2px solid #E2E8F0; border-radius: 8px;
            padding: 15px; font-size: 0.95rem; color: var(--text-main); font-weight: 500;
            text-align: left; cursor: pointer; transition: all 0.2s ease; line-height: 1.4;
        }
        .option-btn:hover:not(:disabled) { border-color: var(--primary); background-color: #F8FAFC; }
        
        .option-btn.correct { background-color: var(--success-bg); border-color: var(--success); color: #064E3B; font-weight: 600; }
        .option-btn.wrong { background-color: var(--danger-bg); border-color: var(--danger); color: #7F1D1D; opacity: 0.8; }
        .option-btn:disabled { cursor: not-allowed; }

        /* FEEDBACK (Explication) */
        .feedback-box {
            margin-top: 20px; padding: 15px; border-radius: 8px; display: none; animation: fadeIn 0.3s;
        }
        .feedback-box.success { background-color: var(--success-bg); border-left: 5px solid var(--success); }
        .feedback-box.error { background-color: var(--danger-bg); border-left: 5px solid var(--danger); }
        
        .feedback-title { font-weight: 700; margin-bottom: 8px; font-size: 1.05rem; }
        .success .feedback-title { color: var(--success); }
        .error .feedback-title { color: var(--danger); }
        .feedback-text { font-size: 0.9rem; line-height: 1.5; color: #334155; }

        /* DASHBOARD FINAL */
        #dashboard { display: none; animation: fadeIn 0.5s; width: 100%; background: var(--card-bg); padding: 25px 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        
        .score-display { text-align: center; margin-bottom: 25px; padding-bottom: 20px; border-bottom: 1px solid #E2E8F0; }
        .score-number { font-size: 3rem; font-weight: 800; color: var(--primary); }
        .dashboard-msg { font-size: 1.05rem; font-weight: 600; margin-top: 10px; }

        .comp-table { width: 100%; border-collapse: collapse; font-size: 0.9rem; margin-bottom: 20px; }
        .comp-table th, .comp-table td { padding: 12px 10px; text-align: left; border-bottom: 1px solid #E2E8F0; }
        .comp-table th { color: var(--text-muted); text-transform: uppercase; font-size: 0.8rem; }
        .status-good { color: var(--success); font-weight: 600; }
        .status-bad { color: var(--danger); font-weight: 600; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Ajustements petits √©crans */
        @media (max-width: 400px) {
            .consigne { font-size: 1rem; }
            .option-btn { font-size: 0.9rem; padding: 12px; }
            .btn-main { font-size: 1rem; padding: 14px; }
        }
    </style>
</head>
<body>

    <header>
        <h1>Th√©matique C - Pr√©vention des risques</h1>
        <h2>Module C1 : Contrats de travail</h2>
        <p>Objectif : √ätre capable de diff√©rencier les diff√©rents contrats.</p>
    </header>

    <div class="container">
        
        <div id="intro-screen">
            <h3>√âvaluation des connaissances</h3>
            <p>Ce test complet (22 questions) v√©rifie votre ma√Ætrise des notions obligatoires pour l'examen du CAP : types de contrats, √¢ge l√©gal, Code du travail, droits, obligations et pr√©vention.</p>
            <p style="font-size: 0.85rem; background: #EEF2FF; padding: 10px; border-radius: 6px; color: #1E40AF;">R√®gle : Lisez attentivement la consigne.</p>
            <button class="btn-main" onclick="startQuiz()">Commencer l'√©valuation</button>
        </div>

        <div class="progress-wrapper" id="progress-wrapper">
            <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
            <div class="progress-text" id="progress-text">Question 1 / 22</div>
        </div>

        <div class="question-card" id="question-card">
            <div class="badge-comp" id="q-comp">C1</div>
            <div class="consigne" id="q-text">Chargement...</div>
            <div class="options" id="q-options"></div>
            
            <div class="feedback-box" id="feedback-box">
                <div class="feedback-title" id="feedback-title">Correct !</div>
                <div class="feedback-text" id="feedback-text">Explication p√©dagogique...</div>
            </div>

            <button class="btn-main" id="btn-next" style="display:none;" onclick="nextQuestion()">Question suivante ‚ûî</button>
        </div>

        <div id="dashboard">
            <div class="score-display">
                <div style="color: var(--text-muted); font-size: 0.9rem; text-transform: uppercase; font-weight: 700;">Score global</div>
                <div class="score-number" id="score-number">0/22</div>
                <div class="dashboard-msg" id="dashboard-msg">Message de fin</div>
            </div>

            <div style="color: var(--text-muted); font-size: 0.9rem; text-transform: uppercase; font-weight: 700; margin-bottom: 10px;">Bilan par Comp√©tence (APC)</div>
            <table class="comp-table">
                <thead><tr><th>Comp√©tence</th><th>R√©sultat</th><th>Statut</th></tr></thead>
                <tbody id="comp-tbody"></tbody>
            </table>

            <button class="btn-main" onclick="location.reload()">Refaire l'√©valuation</button>
        </div>

    </div>

    <script>
        // BASE DE DONN√âES ACAD√âMIQUE - STRICTEMENT CONFORME APC ET CONTENU DU COURS
        const questions = [
            { comp: "C1", q: "<strong>Indiquer</strong> l'√¢ge l√©gal requis pour signer un contrat d'apprentissage (QCM).",
              options: ["D√®s 14 ans uniquement", "De 16 √† 29 ans r√©volus", "√Ä partir de 18 ans sans limite d'√¢ge"], rep: 1,
              expl: "Le contrat d'apprentissage s'adresse aux jeunes de 16 √† 29 ans r√©volus. Il permet de pr√©parer un dipl√¥me (CAP, Bac pro...) en alternance." },
            
            { comp: "C1", q: "<strong>Identifier</strong> la tranche d'√¢ge principale vis√©e par le contrat de professionnalisation (QCM).",
              options: ["De 16 √† 25 ans (et 26+ pour les demandeurs d'emploi)", "De 20 √† 35 ans obligatoirement", "Les moins de 16 ans uniquement"], rep: 0,
              expl: "Ce contrat vise l'acquisition d'une qualification professionnelle pour favoriser l'insertion des 16-25 ans et des adultes demandeurs d'emploi." },
            
            { comp: "C1", q: "<strong>Relever</strong> la dur√©e g√©n√©ralement pr√©vue pour un contrat d'apprentissage (QCM).",
              options: ["Entre 1 et 3 mois maximum", "De 6 mois √† 3 ans", "Toujours 5 ans fixes"], rep: 1,
              expl: "La dur√©e de l'apprentissage varie selon le dipl√¥me pr√©par√© (souvent 1 ou 2 ans pour un CAP, jusqu'√† 3 ans pour un Bac Pro ou plus)." },
            
            { comp: "C1", q: "<strong>Identifier</strong> l'√¢ge minimum l√©gal pour travailler sous contrat (CDD, CDI ou Int√©rim) sous certaines conditions (QCM).",
              options: ["14 ans", "16 ans", "18 ans"], rep: 1,
              expl: "La loi autorise le travail d√®s 16 ans (avec l'accord des parents, et sous r√©serve de restrictions sur les travaux dangereux ou de nuit)." },
            
            { comp: "C1", q: "<strong>Indiquer</strong> la particularit√© principale du Contrat √† Dur√©e Ind√©termin√©e - CDI (QCM).",
              options: ["Il a une date de fin obligatoire", "Il n'indique aucune date de fin (seulement la date d'embauche)", "Il doit √™tre renouvel√© tous les six mois"], rep: 1,
              expl: "Le CDI est le contrat qui offre l'emploi le plus stable car il ne comporte aucune limitation de dur√©e √† l'avance." },
            
            { comp: "C1", q: "<strong>Indiquer</strong> la d√©marche l√©gale qui permet √† un salari√© de rompre un CDI de son plein gr√© (QCM).",
              options: ["Faire un abandon de poste sans pr√©venir", "D√©missionner en respectant une p√©riode de pr√©avis", "Arr√™ter de travailler d√®s le lendemain matin"], rep: 1,
              expl: "Le salari√© a le droit de d√©missionner, mais il doit ex√©cuter un 'pr√©avis'. Ce d√©lai permet √† l'entreprise de recruter un rempla√ßant." },
            
            { comp: "C2", q: "<strong>Analyser</strong> la situation suivante pour d√©terminer le contrat adapt√© : <em>Un directeur a besoin d'une personne juste pour faire face √† un surcro√Æt d'activit√© pendant les f√™tes de fin d'ann√©e.</em> (QCM).",
              options: ["Un Contrat √† Dur√©e Ind√©termin√©e (CDI)", "Un Contrat √† Dur√©e D√©termin√©e (CDD) ou un contrat d'Int√©rim", "Un Contrat d'apprentissage"], rep: 1,
              expl: "Le CDD et l'int√©rim sont obligatoires pour des t√¢ches temporaires et pr√©cises (remplacement, surcro√Æt d'activit√©). Le CDI est ill√©gal pour un besoin ponctuel." },
            
            { comp: "C1", q: "<strong>Identifier</strong> les deux indemnit√©s obligatoires per√ßues par le salari√© √† la fin d'un CDD (QCM).",
              options: ["L'indemnit√© de fin de contrat (pr√©carit√©) ET l'indemnit√© compensatrice de cong√©s pay√©s", "Une prime d'anciennet√© et une prime de No√´l", "Uniquement le salaire du dernier mois"], rep: 0,
              expl: "Pour compenser l'instabilit√© du CDD, la loi impose le versement d'une indemnit√© de fin de contrat (souvent 10% de la r√©mun√©ration totale), plus les cong√©s non pris." },
            
            { comp: "C1", q: "<strong>Citer</strong> les trois parties signataires impliqu√©es dans un contrat de travail temporaire (Int√©rim) (QCM).",
              options: ["L'apprenti, le CFA et le Ma√Ætre d'apprentissage", "Le salari√© int√©rimaire, l'entreprise de travail temporaire (l'agence) et l'entreprise utilisatrice", "L'employeur, le salari√© et l'√âtat"], rep: 1,
              expl: "L'agence d'int√©rim (ex: Adecco, Manpower) est le v√©ritable employeur. Elle signe le contrat avec le salari√© et le 'loue' √† l'entreprise utilisatrice." },
            
            { comp: "C1", q: "<strong>Identifier</strong> le seul contrat de travail qui n'est pas obligatoirement r√©dig√© par √©crit s'il est √† temps plein (QCM).",
              options: ["Le CDD (Contrat √† Dur√©e D√©termin√©e)", "Le Contrat d'apprentissage", "Le CDI (Contrat √† Dur√©e Ind√©termin√©e)"], rep: 2,
              expl: "Le CDI √† temps plein peut l√©galement √™tre oral (bien que l'√©crit soit recommand√©). Tous les autres contrats (CDD, Int√©rim, Apprentissage) DOIVENT √™tre √©crits." },
            
            { comp: "C1", q: "<strong>Identifier</strong> la d√©finition exacte de la 'p√©riode d'essai' inscrite dans le contrat (QCM).",
              options: ["Une p√©riode non r√©mun√©r√©e au d√©but du contrat", "Une p√©riode au d√©but du contrat permettant aux deux parties de le rompre sans pr√©avis ni indemnit√©", "La dur√©e totale d'un Contrat √† Dur√©e D√©termin√©e"], rep: 1,
              expl: "L'essai permet √† l'employeur de v√©rifier les comp√©tences du salari√©, et au salari√© de v√©rifier si le poste lui convient, avec une libert√© de rupture totale." },
            
            { comp: "C1", q: "<strong>Rep√©rer</strong> la liste contenant des mentions obligatoires devant figurer sur un contrat de travail √©crit (QCM).",
              options: ["L'√¢ge du salari√©, sa religion et son num√©ro de s√©curit√© sociale", "Le nom du responsable, la marque des outils et le menu de la cantine", "Les identit√©s/adresses, la d√©signation de l'emploi, la r√©mun√©ration, la date d'embauche et le lieu"], rep: 2,
              expl: "Un contrat est un document juridique. Il doit imp√©rativement pr√©ciser qui travaille pour qui, o√π, pour faire quoi, et √† quel prix." },
            
            { comp: "C1", q: "<strong>Identifier</strong> l'obligation principale de l'employeur envers le salari√© en contrepartie de son travail (QCM).",
              options: ["Verser le salaire correspondant au travail effectu√©", "Prendre en charge les frais personnels de l'employ√©", "Garantir au salari√© un emploi √† vie"], rep: 0,
              expl: "La contrepartie fondamentale du contrat de travail est la r√©mun√©ration. Tout travail ex√©cut√© m√©rite salaire." },
            
            { comp: "C1", q: "<strong>Relever</strong> les trois obligations principales du salari√© dans le cadre de son contrat (QCM).",
              options: ["Effectuer des heures suppl√©mentaires gratuites, fixer ses propres horaires et travailler", "R√©aliser le travail demand√©, respecter les horaires et respecter le r√®glement int√©rieur", "Choisir ses jours de repos, ignorer la s√©curit√© et faire son travail"], rep: 1,
              expl: "Le salari√© est soumis au lien de subordination : il s'engage √† faire le travail, √† √™tre ponctuel et √† ob√©ir aux r√®gles de l'entreprise." },
            
            { comp: "C1", q: "<strong>Identifier</strong> le droit de l'employeur face √† un salari√© qui commet une faute ou ne respecte pas le r√®glement (QCM).",
              options: ["Le droit de le sanctionner (pouvoir disciplinaire)", "Le droit de faire justice lui-m√™me physiquement", "Le droit de modifier son contrat de travail sans son accord"], rep: 0,
              expl: "L'employeur poss√®de un pouvoir disciplinaire proportionn√© (avertissement, mise √† pied, ou licenciement selon la gravit√©)." },
            
            { comp: "C4", q: "<strong>Proposer</strong> une mesure disciplinaire l√©gale pour un employeur face √† un salari√© r√©guli√®rement en retard (QCM).",
              options: ["Lui adresser une sanction disciplinaire comme un avertissement √©crit", "Faire une retenue sur son salaire (amende financi√®re)", "Lui confisquer ses affaires personnelles"], rep: 0,
              expl: "Les sanctions p√©cuniaires (amendes sur salaire) sont strictement INTERDITES par le Code du travail. La sanction l√©gale est l'avertissement √©crit." },
            
            { comp: "C1", q: "<strong>Indiquer</strong> le droit social fondamental dont b√©n√©ficie un salari√© d√©clar√©, en plus de son salaire (QCM).",
              options: ["L'obtention gratuite d'un logement", "B√©n√©ficier d'une couverture sociale (S√©curit√© sociale)", "La gratuit√© des transports en commun √† vie"], rep: 1,
              expl: "En travaillant, le salari√© cotise (pr√©l√®vements sur le salaire brut). Cela lui ouvre des droits vitaux : couverture maladie, ch√¥mage et retraite." },
            
            { comp: "C1", q: "<strong>Identifier</strong> l'obligation de l'employeur concernant la l√©gislation (loi) du travail (QCM).",
              options: ["Il doit respecter le Code du travail et les clauses du contrat", "Il peut cr√©er ses propres lois internes", "Il n'est pas soumis aux lois de l'√âtat"], rep: 0,
              expl: "Le Code du travail est la loi supr√™me de l'emploi en France. Tout employeur a l'obligation de s'y soumettre, notamment pour prot√©ger la sant√© des salari√©s." },
            
            { comp: "C1", q: "<strong>Indiquer</strong> la signification exacte du sigle SMIC (QCM).",
              options: ["Syst√®me Minimum d'Indemnisation du Ch√¥mage", "Salaire Minimum Interprofessionnel de Croissance", "Salaire Mensuel Inter-Cat√©gories"], rep: 1,
              expl: "Le SMIC est le salaire minimum l√©gal. Il est interdit de r√©mun√©rer un salari√© majeur √† un taux horaire inf√©rieur au SMIC." },
            
            { comp: "C5", q: "<strong>Argumenter</strong> le choix d'un CDI plut√¥t qu'un CDD pour rassurer une agence immobili√®re lors d'une location (QCM).",
              options: ["Parce que le CDI donne toujours lieu √† des primes annuelles plus √©lev√©es", "Parce que le CDI est sans limitation de dur√©e, ce qui garantit une stabilit√© financi√®re √† long terme", "Parce que le CDI permet d'√™tre log√© par l'entreprise"], rep: 1,
              expl: "Le meilleur argument pour un dossier de location est la s√©curit√© de l'emploi. Le CDI, n'ayant pas de date de fin, prouve cette p√©rennit√©." },
            
            { comp: "C1", q: "<strong>Indiquer</strong> l'obligation du salari√© concernant les √âquipements de Protection Individuelle (EPI) (QCM).",
              options: ["L'obligation stricte de les porter et de respecter les consignes", "C'est facultatif si l'√©quipement n'est pas confortable", "Seulement obligatoire si l'inspecteur du travail est pr√©sent"], rep: 0,
              expl: "Les EPI (chaussures, gants, casques) font partie des consignes de s√©curit√©. Le salari√© a le devoir de veiller √† sa propre s√©curit√© en les utilisant." },
            
            { comp: "C3", q: "<strong>Mettre en relation</strong> le risque de glissade sur un sol humide avec la r√®gle de pr√©vention adapt√©e (Choisir la proposition respectant la structure attendue) (QCM).",
              options: ["Je mets mes chaussures de s√©curit√© pour faire plaisir au chef d'atelier", "Parce que le sol est glissant, donc je dois obligatoirement porter mes chaussures de s√©curit√© (EPI)", "Le sol est glissant, c'est la faute de l'entreprise"], rep: 1,
              expl: "La comp√©tence C3 exige une relation de Cause √† Effet stricte : 'Parce que [Risque/Danger]... donc [Mesure de pr√©vention appliqu√©e]'." }
        ];

        let currentQIndex = 0;
        let scoreTotal = 0;
        let compScores = { C1: {s: 0, t: 0}, C2: {s: 0, t: 0}, C3: {s: 0, t: 0}, C4: {s: 0, t: 0}, C5: {s: 0, t: 0}, C6: {s: 0, t: 0} };
        
        // Calcul du total par comp√©tence
        questions.forEach(q => { compScores[q.comp].t++; });

        const introScreen = document.getElementById("intro-screen");
        const progressWrapper = document.getElementById("progress-wrapper");
        const questionCard = document.getElementById("question-card");
        const dashboard = document.getElementById("dashboard");

        function startQuiz() {
            introScreen.style.display = "none";
            progressWrapper.style.display = "block";
            questionCard.style.display = "block";
            loadQuestion();
        }

        function loadQuestion() {
            let q = questions[currentQIndex];
            
            // Mise √† jour de la progression
            document.getElementById("progress-fill").style.width = `${((currentQIndex) / questions.length) * 100}%`;
            document.getElementById("progress-text").innerText = `Question ${currentQIndex + 1} / ${questions.length}`;
            
            document.getElementById("q-comp").innerText = q.comp;
            document.getElementById("q-text").innerHTML = q.q;
            
            const optionsContainer = document.getElementById("q-options");
            optionsContainer.innerHTML = "";
            
            q.options.forEach((opt, index) => {
                let btn = document.createElement("button");
                btn.className = "option-btn";
                btn.innerHTML = opt;
                btn.onclick = () => checkAnswer(index, btn, q);
                optionsContainer.appendChild(btn);
            });

            document.getElementById("feedback-box").style.display = "none";
            document.getElementById("btn-next").style.display = "none";
            
            // Remonter en haut de page pour le confort sur mobile
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function checkAnswer(selectedIndex, btnElement, qData) {
            let allBtns = document.querySelectorAll(".option-btn");
            allBtns.forEach(b => b.disabled = true);

            let isCorrect = (selectedIndex === qData.rep);
            let feedbackBox = document.getElementById("feedback-box");
            let feedbackTitle = document.getElementById("feedback-title");
            
            if(isCorrect) {
                btnElement.classList.add("correct");
                scoreTotal++;
                compScores[qData.comp].s++;
                feedbackBox.className = "feedback-box success";
                feedbackTitle.innerText = "‚úÖ Bonne r√©ponse !";
            } else {
                btnElement.classList.add("wrong");
                allBtns[qData.rep].classList.add("correct"); 
                feedbackBox.className = "feedback-box error";
                feedbackTitle.innerText = "‚ùå Erreur ! Explication :";
            }

            document.getElementById("feedback-text").innerHTML = qData.expl;
            feedbackBox.style.display = "block";
            document.getElementById("btn-next").style.display = "block";
        }

        function nextQuestion() {
            currentQIndex++;
            if(currentQIndex < questions.length) {
                loadQuestion();
            } else {
                showDashboard();
            }
        }

        function showDashboard() {
            progressWrapper.style.display = "none";
            questionCard.style.display = "none";
            dashboard.style.display = "block";
            window.scrollTo({ top: 0, behavior: 'smooth' });

            document.getElementById("score-number").innerText = `${scoreTotal}/${questions.length}`;
            let msg = document.getElementById("dashboard-msg");

            if(scoreTotal === questions.length) {
                msg.innerHTML = "üèÜ Perfection ! Tu ma√Ætrises l'int√©gralit√© du module C1. Pr√™t(e) pour le CAP !";
                msg.style.color = "var(--success)";
            } else if(scoreTotal >= 16) {
                msg.innerHTML = "üëç Tr√®s bon travail ! Les notions principales sont comprises. Relis tes erreurs pour viser le 20/20.";
                msg.style.color = "var(--primary)";
            } else {
                msg.innerHTML = "‚ö†Ô∏è Fragilit√©s rep√©r√©es. Les r√®gles li√©es au contrat de travail doivent √™tre connues par c≈ìur. Recommence l'exercice.";
                msg.style.color = "var(--danger)";
            }

            let tbody = document.getElementById("comp-tbody");
            tbody.innerHTML = "";
            for(let key in compScores) {
                if(compScores[key].t > 0) {
                    let s = compScores[key].s;
                    let t = compScores[key].t;
                    let percent = (s / t) * 100;
                    let statusClass = percent === 100 ? "status-good" : (percent >= 50 ? "" : "status-bad");
                    let statusText = percent === 100 ? "Acquis" : (percent >= 50 ? "En cours" : "√Ä r√©viser");
                    
                    tbody.innerHTML += `
                        <tr>
                            <td><strong>${key}</strong></td>
                            <td class="${statusClass}">${s} / ${t}</td>
                            <td class="${statusClass}">${statusText}</td>
                        </tr>
                    `;
                }
            }
        }
    </script>
</body>
</html>