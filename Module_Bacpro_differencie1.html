<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module A.3 - CAP (Adapt√©)</title>
    <style>
        /* --- DESIGN √âPUR√â ET ACCESSIBLE --- */
        :root {
            --primary-color: #2c3e50;
            --accent-color: #d35400; /* Orange fonc√© pour le contraste */
            --success-color: #27ae60;
            --bg-color: #fcfcfc;
            --card-bg: #ffffff;
            --font-main: 'Verdana', sans-serif; /* Police tr√®s lisible par d√©faut */
            --font-dys: 'Comic Sans MS', sans-serif;
        }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: #333;
            margin: 0;
            padding: 20px;
            padding-top: 140px; /* Place pour le header fixe */
            line-height: 1.8; /* Espacement des lignes augment√© */
            font-size: 18px; /* Texte plus gros par d√©faut */
        }

        /* --- BARRE DU HAUT (OUTILS) --- */
        #top-bar {
            position: fixed; top: 0; left: 0; width: 100%; z-index: 1000;
            background: #fff; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        #score-board {
            background: #34495e; color: #f1c40f; padding: 10px 20px;
            font-size: 1.2em; font-weight: bold; text-align: center;
        }
        #tools-board {
            background: #ecf0f1; padding: 10px 20px; display: flex; gap: 15px;
            justify-content: center; flex-wrap: wrap;
        }
        .btn-tool {
            padding: 8px 15px; border: 2px solid #bdc3c7; background: white;
            border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold;
        }
        .btn-tool:hover { background: #dfe6e9; }
        .btn-active { background: #34495e; color: white; border-color: #34495e; }

        /* --- CONTENEUR --- */
        .container {
            max-width: 900px; margin: 0 auto; background: var(--card-bg);
            padding: 30px; border-radius: 15px; border: 2px solid #ecf0f1;
        }

        /* --- IMAGES & DOCS --- */
        .doc-box {
            border: 3px solid #bdc3c7; border-radius: 10px; padding: 15px;
            margin-bottom: 30px; background: #fff;
        }
        .doc-title {
            background: #bdc3c7; color: #2c3e50; padding: 5px 15px;
            border-radius: 5px; display: inline-block; font-weight: bold; margin-bottom: 10px;
        }
        img { max-width: 100%; height: auto; border-radius: 8px; margin: 10px 0; }
        
        /* Vid√©o */
        .video-wrapper {
            position: relative; padding-bottom: 56.25%; height: 0;
            overflow: hidden; border-radius: 8px; margin-bottom: 15px; border: 2px solid #333;
        }
        .video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }

        /* --- EXERCICES SIMPLIFI√âS --- */
        .question-block {
            background: #fdfdfd; border: 2px solid #eee; border-radius: 12px;
            padding: 20px; margin-bottom: 25px;
        }
        .q-title {
            font-weight: bold; color: var(--accent-color); font-size: 1.1em;
            margin-bottom: 15px; display: flex; align-items: center; gap: 10px;
        }
        
        /* Selects (Menus d√©roulants) - Gros et faciles */
        select {
            padding: 10px; font-size: 16px; border: 2px solid #ccc; border-radius: 8px;
            background: white; cursor: pointer; max-width: 100%;
        }
        select:focus { border-color: var(--accent-color); }

        /* Inputs courts */
        input[type="number"], input[type="text"] {
            padding: 10px; font-size: 16px; border: 2px solid #ccc; border-radius: 8px;
            width: 100px; text-align: center;
        }

        /* Boutons de choix (Radio simul√©s en boutons) */
        .choice-btn-group { display: flex; gap: 10px; flex-wrap: wrap; }
        .choice-btn {
            padding: 10px 20px; border: 2px solid #ccc; border-radius: 20px;
            background: white; cursor: pointer; transition: 0.2s; font-weight: bold;
        }
        .choice-btn:hover { background: #eee; }
        .choice-btn.selected { background: var(--accent-color); color: white; border-color: var(--accent-color); }

        /* --- FEEDBACK --- */
        .feedback {
            margin-top: 15px; padding: 15px; border-radius: 8px; font-weight: bold;
            display: none; text-align: center;
        }
        .feedback.good { background: #d4edda; color: #155724; border: 2px solid #c3e6cb; }
        .feedback.bad { background: #f8d7da; color: #721c24; border: 2px solid #f5c6cb; }

        /* --- NAVIGATION --- */
        .nav-bar {
            display: flex; justify-content: space-between; margin-top: 40px; padding-top: 20px; border-top: 2px dashed #ccc;
        }
        .btn-nav {
            background: var(--primary-color); color: white; padding: 12px 25px;
            border: none; border-radius: 8px; cursor: pointer; font-size: 18px;
        }
        .btn-nav:hover { opacity: 0.9; }

        .step-content { display: none; }
        .step-content.active { display: block; animation: fadeEffect 0.5s; }
        @keyframes fadeEffect { from {opacity: 0;} to {opacity: 1;} }

        /* --- MODES ACCESSIBILIT√â --- */
        body.dyslexic { font-family: var(--font-dys); letter-spacing: 1px; word-spacing: 3px; }
        body.contrast { background: #000; color: #ffff00; }
        body.contrast .container { background: #000; border-color: #ffff00; }
        body.contrast .question-block, body.contrast .doc-box { background: #111; border-color: #fff; color: #fff; }
        body.contrast select, body.contrast input, body.contrast .choice-btn { background: #000; color: #ffff00; border-color: #ffff00; }
        body.contrast .choice-btn.selected { background: #ffff00; color: #000; }

        @media print {
            #top-bar, .nav-bar, .btn-check { display: none !important; }
            body { padding-top: 0; }
            .step-content { display: block !important; border-bottom: 2px solid #000; margin-bottom: 50px; page-break-after: always; }
            .video-wrapper { display: none; }
        }
    </style>
</head>
<body>

<div id="top-bar">
    <div id="score-board">‚≠ê Mon Score : <span id="score">0</span></div>
    <div id="tools-board">
        <button class="btn-tool" onclick="toggleDys()">üëÅÔ∏è Mode Lecture (Dys)</button>
        <button class="btn-tool" onclick="toggleContrast()">üåó Contraste</button>
        <button class="btn-tool" onclick="window.print()">üñ®Ô∏è Imprimer</button>
    </div>
</div>

<div class="container">
    
    <div id="step-1" class="step-content active">
        <h1>1. La Situation de Beno√Æt</h1>
        
        <div class="doc-box">
            <div class="doc-title">Situation</div>
            <p>Beno√Æt a 15 ans. Il a d√©m√©nag√© il y a 3 mois. Il a arr√™t√© la natation (piscine). Il reste chez lui, il ne bouge plus assez (s√©dentarit√©). Il a pris du poids.</p>
            <img src="benoit_piscine.jpg" alt="Beno√Æt √† la piscine" style="max-width: 300px; display: block; margin: 0 auto;">
        </div>

        <div class="question-block">
            <div class="q-title">üîé Compl√®te les phrases :</div>
            
            <p><strong>1. Qui est concern√© ?</strong></p>
            <p>C'est <select id="q1-qui"><option value="">?</option><option value="julie">Julie</option><option value="benoit">Beno√Æt</option></select>, il a <input type="number" id="q1-age" placeholder=".."> ans.</p>

            <p><strong>2. Quel est son probl√®me ?</strong></p>
            <div class="choice-btn-group">
                <div class="choice-btn" onclick="selectChoice(this, 'q1-pb', 'ok')">Il prend du poids</div>
                <div class="choice-btn" onclick="selectChoice(this, 'q1-pb', 'ko')">Il est fatigu√©</div>
            </div>

            <p><strong>3. Pourquoi ? (La cause)</strong></p>
            <p>Car il ne bouge plus assez, c'est la : <select id="q1-cause"><option value="">?</option><option value="sedentarite">S√©dentarit√© (manque d'activit√©)</option><option value="sport">Suractivit√©</option></select></p>

            <button class="btn-tool btn-active" onclick="checkStep1()">V√©rifier</button>
            <div id="fb-1" class="feedback"></div>
        </div>

        <div class="nav-bar">
            <span></span>
            <button class="btn-nav" onclick="goStep(2)">Suite ‚ûú</button>
        </div>
    </div>

    <div id="step-2" class="step-content">
        <h1>2. Comment on bouge ?</h1>
        <p>Pour bouger, le corps utilise : le cerveau, les nerfs et les muscles.</p>

        <div class="doc-box">
            <img src="schema_mouvement.jpg" alt="Sch√©ma trajet cerveau muscle">
        </div>

        <div class="question-block">
            <div class="q-title">üß† Mets les √©tapes dans l'ordre (1, 2, 3) :</div>
            <p>
                <select id="ord-1"><option>0</option><option>1</option><option>2</option><option>3</option></select>
                <strong>Le cerveau</strong> d√©cide de bouger.
            </p>
            <p>
                <select id="ord-2"><option>0</option><option>1</option><option>2</option><option>3</option></select>
                Le message passe par <strong>les nerfs</strong>.
            </p>
            <p>
                <select id="ord-3"><option>0</option><option>1</option><option>2</option><option>3</option></select>
                <strong>Le muscle</strong> se contracte et fait le mouvement.
            </p>
            
            <button class="btn-tool btn-active" onclick="checkStep2()">V√©rifier</button>
            <div id="fb-2" class="feedback"></div>
        </div>

        <div class="nav-bar">
            <button class="btn-nav" onclick="goStep(1)">‚¨Ö Retour</button>
            <button class="btn-nav" onclick="goStep(3)">Suite ‚ûú</button>
        </div>
    </div>

    <div id="step-3" class="step-content">
        <h1>3. Le Muscle et la Contraction</h1>
        
        <div class="doc-box">
            <div class="doc-title">Vid√©o : La contraction</div>
            <div class="video-wrapper">
                <iframe src="https://www.youtube.com/embed/B76yhKyZdqk" allowfullscreen></iframe>
            </div>
            <div class="doc-title">Sch√©ma</div>
            <img src="doc4_myofibrilles.jpg" alt="Sch√©ma myofibrilles">
        </div>

        <div class="question-block">
            <div class="q-title">üí™ Quand le muscle se contracte (travaille) :</div>
            <p>Regarde le dessin et choisis la bonne r√©ponse.</p>
            
            <p><strong>1. Le muscle devient :</strong></p>
            <div class="choice-btn-group">
                <div class="choice-btn" onclick="selectChoice(this, 'q3-forme', 'ok')">Plus court et gonfl√©</div>
                <div class="choice-btn" onclick="selectChoice(this, 'q3-forme', 'ko')">Plus long et fin</div>
            </div>

            <p><strong>2. √Ä l'int√©rieur du muscle, les filaments :</strong></p>
            <div class="choice-btn-group">
                <div class="choice-btn" onclick="selectChoice(this, 'q3-fil', 'ok')">Se rapprochent (glissent)</div>
                <div class="choice-btn" onclick="selectChoice(this, 'q3-fil', 'ko')">S'√©loignent</div>
            </div>

            <button class="btn-tool btn-active" onclick="checkStep3()">V√©rifier</button>
            <div id="fb-3" class="feedback"></div>
        </div>

        <div class="nav-bar">
            <button class="btn-nav" onclick="goStep(2)">‚¨Ö Retour</button>
            <button class="btn-nav" onclick="goStep(4)">Suite ‚ûú</button>
        </div>
    </div>

    <div id="step-4" class="step-content">
        <h1>4. De quoi le muscle a besoin ?</h1>
        
        <div class="doc-box">
            <img src="doc5_sang.jpg" alt="√âchanges sang muscle">
            <p><em>Compare ce qui entre et ce qui sort du muscle.</em></p>
        </div>

        <div class="question-block">
            <div class="q-title">üçΩÔ∏è Le "repas" du muscle</div>
            <p>Quand on fait du sport, le muscle consomme (mange) plus de :</p>
            
            <label style="display:block; margin:10px;"><input type="checkbox" id="q4-c1"> Du Glucose (Sucre/√ânergie)</label>
            <label style="display:block; margin:10px;"><input type="checkbox" id="q4-c2"> Du Dioxyde de carbone (D√©chet)</label>
            <label style="display:block; margin:10px;"><input type="checkbox" id="q4-c3"> Du Dioxyg√®ne (O2)</label>

            <button class="btn-tool btn-active" onclick="checkStep4()">V√©rifier</button>
            <div id="fb-4" class="feedback"></div>
        </div>

        <div class="nav-bar">
            <button class="btn-nav" onclick="goStep(3)">‚¨Ö Retour</button>
            <button class="btn-nav" onclick="goStep(5)">Suite ‚ûú</button>
        </div>
    </div>

    <div id="step-5" class="step-content">
        <h1>5. Que se passe-t-il quand on court ?</h1>
        
        <div class="doc-box">
            <div style="display: flex; flex-wrap:wrap; gap:10px; justify-content: center;">
                <img src="doc6_coeur.jpg" style="width: 45%;" alt="C≈ìur">
                <img src="doc7_poumons.jpg" style="width: 45%;" alt="Poumons">
                <img src="doc8_schema_fille.jpg" style="width: 100%; max-width:400px;" alt="Thermor√©gulation">
            </div>
        </div>

        <div class="question-block">
            <div class="q-title">üèÉ‚Äç‚ôÇÔ∏è Coche VRAI ou FAUX :</div>
            
            <p>1. Le c≈ìur bat plus vite (Rythme cardiaque augmente). <br>
                <select id="q5-1"><option value="">?</option><option value="vrai">VRAI</option><option value="faux">FAUX</option></select>
            </p>
            <p>2. On respire plus vite (Rythme respiratoire augmente). <br>
                <select id="q5-2"><option value="">?</option><option value="vrai">VRAI</option><option value="faux">FAUX</option></select>
            </p>
            <p>3. On transpire pour refroidir le corps. <br>
                <select id="q5-3"><option value="">?</option><option value="vrai">VRAI</option><option value="faux">FAUX</option></select>
            </p>

            <button class="btn-tool btn-active" onclick="checkStep5()">V√©rifier</button>
            <div id="fb-5" class="feedback"></div>
        </div>

        <div class="nav-bar">
            <button class="btn-nav" onclick="goStep(4)">‚¨Ö Retour</button>
            <button class="btn-nav" onclick="goStep(6)">Derni√®re √©tape ‚ûú</button>
        </div>
    </div>

    <div id="step-6" class="step-content">
        <h1>6. Pourquoi faire du sport ?</h1>
        <p>L'activit√© physique est bonne pour la sant√© Physique (le corps), Mentale (la t√™te) et Sociale (les amis).</p>

        <div class="question-block">
            <div class="q-title">üòä Associe chaque image au bon bienfait :</div>
            <p><em>Choisis : Physique, Mental ou Social.</em></p>

            <div style="display: flex; align-items: center; margin-bottom: 15px; border-bottom:1px solid #eee; padding-bottom:10px;">
                <img src="sit_mathieu.jpg" style="width: 80px; margin-right: 15px;" alt="Amis">
                <div>Mathieu se fait des amis au footing.<br>
                C'est du bien-√™tre : <select id="q6-1"><option>...</option><option value="social">SOCIAL (Les autres)</option><option value="physique">PHYSIQUE (Le corps)</option></select></div>
            </div>

            <div style="display: flex; align-items: center; margin-bottom: 15px; border-bottom:1px solid #eee; padding-bottom:10px;">
                <img src="sit_vanessa.jpg" style="width: 80px; margin-right: 15px;" alt="Poids">
                <div>Vanessa perd du poids.<br>
                C'est du bien-√™tre : <select id="q6-2"><option>...</option><option value="social">SOCIAL</option><option value="physique">PHYSIQUE</option></select></div>
            </div>

            <div style="display: flex; align-items: center; margin-bottom: 15px;">
                <img src="sit_emilie.jpg" style="width: 80px; margin-right: 15px;" alt="Zen">
                <div>√âmilie est moins stress√©e (plus zen).<br>
                C'est du bien-√™tre : <select id="q6-3"><option>...</option><option value="mental">MENTAL (La t√™te)</option><option value="physique">PHYSIQUE</option></select></div>
            </div>

            <button class="btn-tool btn-active" onclick="checkStep6()">V√©rifier & Finir</button>
            <div id="fb-6" class="feedback"></div>
        </div>

        <div class="nav-bar">
            <button class="btn-nav" onclick="goStep(5)">‚¨Ö Retour</button>
            <button class="btn-nav" style="background:#27ae60;" onclick="alert('Bravo ! Tu as fini le module.')">‚úÖ J'ai fini !</button>
        </div>
    </div>

</div>

<script>
    // --- GESTION SCORE ---
    let score = 0;
    function addPoint() { score++; document.getElementById('score').innerText = score; }

    // --- NAVIGATION ---
    function goStep(n) {
        document.querySelectorAll('.step-content').forEach(d => d.classList.remove('active'));
        document.getElementById('step-' + n).classList.add('active');
        window.scrollTo(0,0);
    }

    // --- OUTILS SELECTION ---
    let userChoices = {};
    function selectChoice(btn, group, value) {
        // Retirer la classe 'selected' des autres boutons du m√™me groupe
        let parent = btn.parentElement;
        let siblings = parent.getElementsByClassName('choice-btn');
        for(let i=0; i<siblings.length; i++) { siblings[i].classList.remove('selected'); }
        // Activer le bouton cliqu√©
        btn.classList.add('selected');
        userChoices[group] = value;
    }

    // --- VERIFICATIONS (SIMPLIFI√âES) ---

    function checkStep1() {
        let qui = document.getElementById('q1-qui').value;
        let age = document.getElementById('q1-age').value;
        let pb = userChoices['q1-pb'];
        let cause = document.getElementById('q1-cause').value;
        
        let msg = "";
        let ok = true;

        if(qui == "benoit" && age == "15") { addPoint(); } else { ok=false; }
        if(pb == "ok") { addPoint(); } else { ok=false; }
        if(cause == "sedentarite") { addPoint(); } else { ok=false; }

        let fb = document.getElementById('fb-1');
        fb.style.display = "block";
        if(ok) { fb.className = "feedback good"; fb.innerHTML = "üëè Bravo ! C'est tout bon."; }
        else { fb.className = "feedback bad"; fb.innerHTML = "üòï Il y a des erreurs. V√©rifie : C'est Beno√Æt, 15 ans, il grossit √† cause de la s√©dentarit√©."; }
    }

    function checkStep2() {
        let o1 = document.getElementById('ord-1').value; // 1 Cerveau
        let o2 = document.getElementById('ord-2').value; // 2 Nerfs
        let o3 = document.getElementById('ord-3').value; // 3 Muscle
        
        let fb = document.getElementById('fb-2');
        fb.style.display = "block";
        if(o1=="1" && o2=="2" && o3=="3") {
            addPoint(); fb.className = "feedback good"; fb.innerHTML = "‚úÖ Super ! Ordre : Cerveau ‚ûú Nerfs ‚ûú Muscle";
        } else {
            fb.className = "feedback bad"; fb.innerHTML = "‚ùå Non. Rappelle-toi : Le cerveau commande en premier.";
        }
    }

    function checkStep3() {
        let f1 = userChoices['q3-forme']; // ok
        let f2 = userChoices['q3-fil']; // ok
        
        let fb = document.getElementById('fb-3');
        fb.style.display = "block";
        if(f1=="ok" && f2=="ok") {
            addPoint(); fb.className = "feedback good"; fb.innerHTML = "üí™ Exact ! Le muscle se raccourcit car les filaments glissent.";
        } else {
            fb.className = "feedback bad"; fb.innerHTML = "‚ùå Regarde bien le sch√©ma.";
        }
    }

    function checkStep4() {
        let c1 = document.getElementById('q4-c1').checked; // Glucose
        let c2 = document.getElementById('q4-c2').checked; // CO2 (Non)
        let c3 = document.getElementById('q4-c3').checked; // O2
        
        let fb = document.getElementById('fb-4');
        fb.style.display = "block";
        if(c1 && c3 && !c2) {
            addPoint(); fb.className = "feedback good"; fb.innerHTML = "üçΩÔ∏è Miam ! Le muscle mange du Sucre et de l'Oxyg√®ne.";
        } else {
            fb.className = "feedback bad"; fb.innerHTML = "‚ùå Attention : Le muscle consomme de l'√©nergie (Glucose) et respire (O2).";
        }
    }

    function checkStep5() {
        let q1 = document.getElementById('q5-1').value;
        let q2 = document.getElementById('q5-2').value;
        let q3 = document.getElementById('q5-3').value;

        let fb = document.getElementById('fb-5');
        fb.style.display = "block";
        if(q1=="vrai" && q2=="vrai" && q3=="vrai") {
            addPoint(); fb.className = "feedback good"; fb.innerHTML = "ü•µ C'est √ßa ! Tout augmente pour aider le muscle.";
        } else {
            fb.className = "feedback bad"; fb.innerHTML = "‚ùå Essaie encore. Quand tu cours, ton c≈ìur bat vite et tu as chaud.";
        }
    }

    function checkStep6() {
        let q1 = document.getElementById('q6-1').value; // Social
        let q2 = document.getElementById('q6-2').value; // Physique
        let q3 = document.getElementById('q6-3').value; // Mental

        let fb = document.getElementById('fb-6');
        fb.style.display = "block";
        if(q1=="social" && q2=="physique" && q3=="mental") {
            addPoint(); fb.className = "feedback good"; fb.innerHTML = "üèÜ PARFAIT ! Tu as tout compris.";
        } else {
            fb.className = "feedback bad"; fb.innerHTML = "‚ùå Petite erreur de classement.";
        }
    }

    // --- OPTIONS DYS / CONTRASTE ---
    function toggleDys() { document.body.classList.toggle('dyslexic'); }
    function toggleContrast() { document.body.classList.toggle('contrast'); }

</script>

</body>
</html>