<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PSE Bac Pro ‚Äì Comp√©tence C1 : Traiter une information</title>
<style>
:root {
  --bg: #0f172a;
  --card: #1e293b;
  --border: #334155;
  --text: #e2e8f0;
  --accent: #38bdf8;
  --accent2: #818cf8;
  --success: #22c55e;
  --error: #ef4444;
  --warning: #f59e0b;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: 'Segoe UI', system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.6;
  min-height: 100vh;
}
.container { max-width: 900px; margin: 0 auto; padding: 20px; }

/* EN-T√äTE */
header {
  text-align: center;
  padding: 40px 20px;
  border-bottom: 1px solid var(--border);
  margin-bottom: 30px;
}
header h1 {
  font-size: 1.8rem;
  font-weight: 700;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 10px;
}
.badge-competence {
  display: inline-block;
  background: rgba(56, 189, 248, 0.15);
  border: 1px solid var(--accent);
  color: var(--accent);
  padding: 8px 20px;
  border-radius: 30px;
  font-weight: 600;
  font-size: 0.9rem;
  margin-bottom: 15px;
}
header p { color: #94a3b8; font-size: 0.95rem; }

/* NAVIGATION PAGES */
.page { display: none; animation: fadeIn 0.4s ease; }
.page.active { display: block; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

/* CARTES */
.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 25px;
  margin-bottom: 20px;
}
.card-title {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--accent);
  margin-bottom: 15px;
  display: flex;
  align-items: center;
  gap: 10px;
}
.card-title .icon { font-size: 1.3rem; }

/* ENCADR√â COMP√âTENCE */
.competence-box {
  background: linear-gradient(135deg, rgba(56, 189, 248, 0.1), rgba(129, 140, 248, 0.1));
  border-left: 4px solid var(--accent);
  padding: 20px;
  border-radius: 0 12px 12px 0;
  margin-bottom: 20px;
}
.competence-box h3 { color: var(--accent); margin-bottom: 10px; font-size: 1rem; }
.competence-box ul { margin-left: 20px; color: #cbd5e1; }
.competence-box li { margin-bottom: 8px; }

/* SITUATION-PROBL√àME */
.situation-box {
  background: rgba(245, 158, 11, 0.1);
  border: 1px solid var(--warning);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 20px;
}
.situation-box h4 { color: var(--warning); margin-bottom: 10px; }

/* DOCUMENTS */
.doc-container {
  background: #0f172a;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 15px;
}
.doc-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--border);
}
.doc-label {
  font-weight: 700;
  color: var(--accent2);
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 1px;
}
.doc-source { font-size: 0.75rem; color: #64748b; font-style: italic; }
.doc-content { font-size: 0.9rem; color: #cbd5e1; }
.doc-content strong { color: var(--text); }
.doc-content .highlight { background: rgba(56, 189, 248, 0.2); padding: 2px 6px; border-radius: 4px; }

/* TABLEAU */
.data-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 15px;
  font-size: 0.85rem;
}
.data-table th {
  background: rgba(56, 189, 248, 0.15);
  color: var(--accent);
  padding: 12px;
  text-align: left;
  font-weight: 600;
}
.data-table td {
  padding: 12px;
  border-bottom: 1px solid var(--border);
}
.data-table tr:hover { background: rgba(255,255,255,0.02); }

/* EXERCICES */
.exercice-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}
.exercice-num {
  background: var(--accent);
  color: var(--bg);
  padding: 6px 14px;
  border-radius: 20px;
  font-weight: 700;
  font-size: 0.85rem;
}
.points-badge {
  background: rgba(129, 140, 248, 0.2);
  color: var(--accent2);
  padding: 6px 12px;
  border-radius: 8px;
  font-size: 0.8rem;
}

/* OPTIONS */
.option-group { margin-bottom: 15px; }
.option-label {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 15px;
  background: rgba(255,255,255,0.03);
  border: 2px solid transparent;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.2s;
  margin-bottom: 10px;
}
.option-label:hover { background: rgba(255,255,255,0.06); border-color: var(--border); }
.option-label input { margin-top: 3px; accent-color: var(--accent); transform: scale(1.2); }
.option-label.correct { border-color: var(--success); background: rgba(34, 197, 94, 0.1); }
.option-label.incorrect { border-color: var(--error); background: rgba(239, 68, 68, 0.1); }

/* SELECT */
.select-field {
  width: 100%;
  padding: 12px 15px;
  background: var(--bg);
  border: 2px solid var(--border);
  border-radius: 8px;
  color: var(--text);
  font-size: 1rem;
  cursor: pointer;
  margin-top: 8px;
}
.select-field:focus { border-color: var(--accent); outline: none; }

/* ZONE DE CLASSEMENT */
.classement-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  margin-top: 20px;
}
@media (max-width: 600px) { .classement-grid { grid-template-columns: 1fr; } }
.drop-zone {
  background: rgba(0,0,0,0.3);
  border: 2px dashed var(--border);
  border-radius: 12px;
  padding: 15px;
  min-height: 150px;
}
.drop-zone-title {
  text-align: center;
  font-weight: 700;
  color: var(--accent);
  font-size: 0.85rem;
  text-transform: uppercase;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--border);
  margin-bottom: 10px;
}
.chip-bank {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  padding: 15px;
  background: rgba(0,0,0,0.3);
  border-radius: 12px;
  min-height: 80px;
  margin-bottom: 20px;
}
.chip {
  padding: 10px 16px;
  background: rgba(129, 140, 248, 0.2);
  border: 1px solid var(--accent2);
  border-radius: 25px;
  font-size: 0.85rem;
  cursor: pointer;
  transition: all 0.2s;
  user-select: none;
}
.chip:hover { transform: scale(1.05); }
.chip.selected { background: var(--accent); color: var(--bg); border-color: var(--accent); box-shadow: 0 0 15px rgba(56, 189, 248, 0.4); }
.chip.placed { opacity: 0.7; }
.chip.valid { background: var(--success); border-color: var(--success); color: white; }
.chip.invalid { background: var(--error); border-color: var(--error); color: white; }

/* CORRECTION */
.correction-box {
  background: rgba(34, 197, 94, 0.1);
  border-left: 4px solid var(--success);
  padding: 20px;
  border-radius: 0 12px 12px 0;
  margin-top: 20px;
  display: none;
}
.correction-box.visible { display: block; }
.correction-box h4 { color: var(--success); margin-bottom: 10px; }

/* BOUTONS */
.btn {
  padding: 14px 28px;
  border: none;
  border-radius: 10px;
  font-size: 1rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
.btn-primary {
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  color: var(--bg);
  width: 100%;
  justify-content: center;
}
.btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(56, 189, 248, 0.3); }
.btn-secondary {
  background: transparent;
  border: 2px solid var(--border);
  color: var(--text);
}
.btn-small {
  padding: 8px 16px;
  font-size: 0.85rem;
  background: rgba(255,255,255,0.1);
  border: 1px solid var(--border);
  color: var(--accent);
}

/* BILAN */
.bilan-score {
  text-align: center;
  padding: 30px;
  background: linear-gradient(135deg, rgba(56, 189, 248, 0.1), rgba(129, 140, 248, 0.1));
  border-radius: 16px;
  margin-bottom: 25px;
}
.score-value {
  font-size: 3.5rem;
  font-weight: 800;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.score-label { color: #94a3b8; margin-top: 5px; }

/* GRILLE AUTO-√âVALUATION */
.auto-eval-grid {
  display: grid;
  gap: 12px;
  margin-top: 20px;
}
.eval-item {
  display: flex;
  align-items: center;
  gap: 15px;
  padding: 15px;
  background: rgba(0,0,0,0.2);
  border-radius: 10px;
}
.eval-icon { font-size: 1.5rem; }
.eval-text { flex: 1; font-size: 0.9rem; }
.eval-status {
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 0.75rem;
  font-weight: 700;
}
.eval-status.ok { background: rgba(34, 197, 94, 0.2); color: var(--success); }
.eval-status.warning { background: rgba(245, 158, 11, 0.2); color: var(--warning); }
.eval-status.error { background: rgba(239, 68, 68, 0.2); color: var(--error); }

/* REM√âDIATION */
.remediation-box {
  background: rgba(129, 140, 248, 0.1);
  border: 1px solid var(--accent2);
  border-radius: 12px;
  padding: 20px;
  margin-top: 20px;
}
.remediation-box h4 { color: var(--accent2); margin-bottom: 15px; }
.tip-item {
  display: flex;
  gap: 12px;
  padding: 12px;
  background: rgba(0,0,0,0.2);
  border-radius: 8px;
  margin-bottom: 10px;
  font-size: 0.9rem;
}
.tip-icon { color: var(--accent); }

/* MODALE DOCUMENTS */
.doc-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.95);
  z-index: 1000;
  display: none;
  overflow-y: auto;
  padding: 20px;
}
.doc-modal.visible { display: block; }
.doc-modal-content {
  background: var(--card);
  max-width: 850px;
  margin: 0 auto;
  padding: 25px;
  border-radius: 16px;
  border: 2px solid var(--accent);
  position: relative;
}
.doc-modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 1px solid var(--border);
}
.doc-modal-header h2 {
  color: var(--accent);
  font-size: 1.3rem;
  margin: 0;
}
.btn-close-modal {
  background: var(--error);
  color: white;
  border: none;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  font-size: 1.2rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}
.btn-close-modal:hover { transform: scale(1.1); }

/* BOUTON VOIR DOCS (flottant sur exercices) */
.btn-docs {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 18px;
  background: rgba(129, 140, 248, 0.2);
  border: 1px solid var(--accent2);
  border-radius: 25px;
  color: var(--accent2);
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}
.btn-docs:hover {
  background: var(--accent2);
  color: var(--bg);
}
.exercice-toolbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}

/* NAV EXERCICES (bilan) */
.nav-exercices {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: center;
  margin-top: 20px;
}
</style>
</head>
<body>

<div class="container">

  <!-- MODALE DOCUMENTS (accessible depuis tous les exercices) -->
  <div id="docModal" class="doc-modal">
    <div class="doc-modal-content">
      <div class="doc-modal-header">
        <h2>üìÇ Documents ressources</h2>
        <button class="btn-close-modal" onclick="toggleDocs()">‚úï</button>
      </div>
      
      <!-- DOC 1 -->
      <div class="doc-container">
        <div class="doc-header">
          <span class="doc-label">Document 1 ‚Äì Infographie</span>
          <span class="doc-source">Source : Agence de l'eau, 2023</span>
        </div>
        <div class="doc-content">
          <p><strong>L'eau du robinet en France :</strong></p>
          <ul style="margin-left:20px; margin-top:10px;">
            <li>Contr√¥l√©e <span class="highlight">50 fois par jour</span> en moyenne</li>
            <li>Co√ªt moyen : <span class="highlight">0,003 ‚Ç¨ le litre</span></li>
            <li>Transport : <span class="highlight">0 km</span> (r√©seau local)</li>
            <li>D√©chets plastiques g√©n√©r√©s : <span class="highlight">0</span></li>
          </ul>
          <p style="margin-top:15px;"><strong>L'eau en bouteille :</strong></p>
          <ul style="margin-left:20px; margin-top:10px;">
            <li>Co√ªt moyen : <span class="highlight">0,20 √† 0,50 ‚Ç¨ le litre</span></li>
            <li>Transport moyen : <span class="highlight">300 km</span></li>
            <li>G√©n√®re <span class="highlight">150 000 tonnes</span> de d√©chets plastiques/an en France</li>
          </ul>
        </div>
      </div>

      <!-- DOC 2 -->
      <div class="doc-container">
        <div class="doc-header">
          <span class="doc-label">Document 2 ‚Äì Extrait r√©glementaire</span>
          <span class="doc-source">Source : Code de la consommation, 2024</span>
        </div>
        <div class="doc-content">
          <p><strong>DDM (Date de Durabilit√© Minimale) :</strong> Anciennement "DLUO". Indique la date jusqu'√† laquelle le produit conserve ses <span class="highlight">qualit√©s gustatives</span>. Pass√©e cette date, le produit peut √™tre consomm√© sans risque sanitaire, mais le go√ªt peut √™tre alt√©r√©.</p>
          <p style="margin-top:15px;"><strong>Rappel de produit :</strong> Proc√©dure d'urgence d√©clench√©e quand un produit pr√©sente un <span class="highlight">risque pour la sant√©</span> (contamination, corps √©tranger, erreur d'√©tiquetage allerg√®ne). Le consommateur doit suivre la consigne : ne pas consommer, rapporter, ou d√©truire.</p>
        </div>
      </div>

      <!-- DOC 3 -->
      <div class="doc-container">
        <div class="doc-header">
          <span class="doc-label">Document 3 ‚Äì Tableau comparatif</span>
          <span class="doc-source">Source : ADEME, Guide √©co-gestes 2024</span>
        </div>
        <div class="doc-content">
          <p><strong>√âvolution des habitudes de consommation d'eau d'un foyer fran√ßais moyen :</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Poste</th>
                <th>Avant sensibilisation</th>
                <th>Apr√®s sensibilisation</th>
                <th>√âconomie</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Douche</td>
                <td>60 L (10 min)</td>
                <td>30 L (5 min)</td>
                <td>-50%</td>
              </tr>
              <tr>
                <td>Chasse d'eau</td>
                <td>9 L (simple)</td>
                <td>3-6 L (double commande)</td>
                <td>-45%</td>
              </tr>
              <tr>
                <td>Lave-vaisselle</td>
                <td>15 L (1/2 plein)</td>
                <td>12 L (plein)</td>
                <td>-20%</td>
              </tr>
              <tr>
                <td>Arrosage jardin</td>
                <td>Eau potable</td>
                <td>R√©cup√©ration eau de pluie</td>
                <td>-100% eau potable</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <button class="btn btn-primary" onclick="toggleDocs()" style="margin-top:20px;">Fermer et revenir √† l'exercice</button>
    </div>
  </div>

  <header>
    <div class="badge-competence">COMP√âTENCE C1</div>
    <h1>TRAITER UNE INFORMATION</h1>
    <p>Pr√©vention Sant√© Environnement ‚Äì Baccalaur√©at Professionnel</p>
  </header>

  <!-- ===== PAGE 0 : ACCUEIL ===== -->
  <div id="page0" class="page active">
    
    <div class="competence-box">
      <h3>üìã Qu'est-ce que la comp√©tence C1 ?</h3>
      <p style="margin-bottom:15px;">La comp√©tence <strong>"Traiter une information"</strong> consiste √† :</p>
      <ul>
        <li><strong>Rep√©rer</strong> les informations utiles dans un document</li>
        <li><strong>S√©lectionner</strong> ce qui est pertinent pour r√©pondre √† une question</li>
        <li><strong>Classer</strong> et organiser ces informations</li>
        <li><strong>Comprendre</strong> le sens de ce qu'on a lu</li>
      </ul>
      <p style="margin-top:15px; color:#94a3b8; font-size:0.9rem;"><em>Cette comp√©tence est transversale : elle sert de base √† toutes les autres comp√©tences du programme PSE.</em></p>
    </div>

    <div class="situation-box">
      <h4>üìç Situation-probl√®me</h4>
      <p>Tu es stagiaire dans une <strong>collectivit√© territoriale</strong> (mairie). Ton tuteur te demande de pr√©parer une <strong>note de synth√®se</strong> sur la gestion de l'eau pour une r√©union avec les √©lus.</p>
      <p style="margin-top:10px;">Tu disposes de plusieurs documents. <strong>Ton travail :</strong> extraire les informations essentielles sans donner ton avis personnel.</p>
    </div>

    <div class="card">
      <div class="card-title"><span class="icon">üéØ</span> Objectifs de cet exercice</div>
      <p>√Ä la fin de ce module, tu sauras :</p>
      <ul style="margin-left:20px; margin-top:10px;">
        <li>Identifier les informations-cl√©s dans un texte ou un tableau</li>
        <li>Distinguer fait et opinion</li>
        <li>Classer des donn√©es par cat√©gorie</li>
        <li>Extraire une donn√©e pr√©cise d'un document</li>
      </ul>
    </div>

    <button class="btn btn-primary" onclick="goTo(1)">Commencer l'exercice ‚Üí</button>
  </div>

  <!-- ===== PAGE 1 : DOCUMENTS ===== -->
  <div id="page1" class="page">
    
    <div class="card">
      <div class="card-title"><span class="icon">üìÇ</span> Dossier documentaire</div>
      <p style="color:#94a3b8; margin-bottom:20px;">Lis attentivement ces documents. Tu en auras besoin pour r√©pondre aux exercices.</p>

      <!-- DOC 1 -->
      <div class="doc-container">
        <div class="doc-header">
          <span class="doc-label">Document 1 ‚Äì Infographie</span>
          <span class="doc-source">Source : Agence de l'eau, 2023</span>
        </div>
        <div class="doc-content">
          <p><strong>L'eau du robinet en France :</strong></p>
          <ul style="margin-left:20px; margin-top:10px;">
            <li>Contr√¥l√©e <span class="highlight">50 fois par jour</span> en moyenne</li>
            <li>Co√ªt moyen : <span class="highlight">0,003 ‚Ç¨ le litre</span></li>
            <li>Transport : <span class="highlight">0 km</span> (r√©seau local)</li>
            <li>D√©chets plastiques g√©n√©r√©s : <span class="highlight">0</span></li>
          </ul>
          <p style="margin-top:15px;"><strong>L'eau en bouteille :</strong></p>
          <ul style="margin-left:20px; margin-top:10px;">
            <li>Co√ªt moyen : <span class="highlight">0,20 √† 0,50 ‚Ç¨ le litre</span></li>
            <li>Transport moyen : <span class="highlight">300 km</span></li>
            <li>G√©n√®re <span class="highlight">150 000 tonnes</span> de d√©chets plastiques/an en France</li>
          </ul>
        </div>
      </div>

      <!-- DOC 2 -->
      <div class="doc-container">
        <div class="doc-header">
          <span class="doc-label">Document 2 ‚Äì Extrait r√©glementaire</span>
          <span class="doc-source">Source : Code de la consommation, 2024</span>
        </div>
        <div class="doc-content">
          <p><strong>DDM (Date de Durabilit√© Minimale) :</strong> Anciennement "DLUO". Indique la date jusqu'√† laquelle le produit conserve ses <span class="highlight">qualit√©s gustatives</span>. Pass√©e cette date, le produit peut √™tre consomm√© sans risque sanitaire, mais le go√ªt peut √™tre alt√©r√©.</p>
          <p style="margin-top:15px;"><strong>Rappel de produit :</strong> Proc√©dure d'urgence d√©clench√©e quand un produit pr√©sente un <span class="highlight">risque pour la sant√©</span> (contamination, corps √©tranger, erreur d'√©tiquetage allerg√®ne). Le consommateur doit suivre la consigne : ne pas consommer, rapporter, ou d√©truire.</p>
        </div>
      </div>

      <!-- DOC 3 -->
      <div class="doc-container">
        <div class="doc-header">
          <span class="doc-label">Document 3 ‚Äì Tableau comparatif</span>
          <span class="doc-source">Source : ADEME, Guide √©co-gestes 2024</span>
        </div>
        <div class="doc-content">
          <p><strong>√âvolution des habitudes de consommation d'eau d'un foyer fran√ßais moyen :</strong></p>
          <table class="data-table">
            <thead>
              <tr>
                <th>Poste</th>
                <th>Avant sensibilisation</th>
                <th>Apr√®s sensibilisation</th>
                <th>√âconomie</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Douche</td>
                <td>60 L (10 min)</td>
                <td>30 L (5 min)</td>
                <td>-50%</td>
              </tr>
              <tr>
                <td>Chasse d'eau</td>
                <td>9 L (simple)</td>
                <td>3-6 L (double commande)</td>
                <td>-45%</td>
              </tr>
              <tr>
                <td>Lave-vaisselle</td>
                <td>15 L (1/2 plein)</td>
                <td>12 L (plein)</td>
                <td>-20%</td>
              </tr>
              <tr>
                <td>Arrosage jardin</td>
                <td>Eau potable</td>
                <td>R√©cup√©ration eau de pluie</td>
                <td>-100% eau potable</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

    </div>

    <button class="btn btn-primary" onclick="goTo(2)">J'ai lu les documents ‚Äì Passer aux exercices ‚Üí</button>
  </div>

  <!-- ===== PAGE 2 : EXERCICE 1 ===== -->
  <div id="page2" class="page">
    
    <div class="card">
      <div class="exercice-toolbar">
        <div>
          <span class="exercice-num">Exercice 1/4</span>
          <span class="points-badge" style="margin-left:10px;">5 points</span>
        </div>
        <button class="btn-docs" onclick="toggleDocs()">üìñ Voir les documents</button>
      </div>
      
      <div class="card-title"><span class="icon">‚úÖ</span> Identifier les informations vraies</div>
      <p style="color:#94a3b8; margin-bottom:20px;">D'apr√®s les <strong>documents 1 et 2</strong>, coche uniquement les affirmations <strong>VRAIES</strong>.</p>

      <div id="ex1-options">
        <label class="option-label">
          <input type="checkbox" data-correct="true">
          <span>L'eau du robinet est contr√¥l√©e plusieurs fois par jour.</span>
        </label>
        <label class="option-label">
          <input type="checkbox" data-correct="true">
          <span>L'eau en bouteille g√©n√®re des d√©chets plastiques.</span>
        </label>
        <label class="option-label">
          <input type="checkbox" data-correct="false">
          <span>Un produit dont la DDM est d√©pass√©e est dangereux pour la sant√©.</span>
        </label>
        <label class="option-label">
          <input type="checkbox" data-correct="true">
          <span>Un rappel de produit est d√©clench√© en cas de risque sanitaire.</span>
        </label>
        <label class="option-label">
          <input type="checkbox" data-correct="false">
          <span>L'eau du robinet co√ªte plus cher que l'eau en bouteille.</span>
        </label>
      </div>

      <div id="correction1" class="correction-box">
        <h4>‚úì Correction</h4>
        <p><strong>Vraies :</strong> L'eau du robinet est contr√¥l√©e (Doc 1 : "50 fois par jour"), l'eau en bouteille g√©n√®re des d√©chets (Doc 1 : "150 000 tonnes/an"), le rappel concerne un risque sanitaire (Doc 2).</p>
        <p style="margin-top:10px;"><strong>Fausses :</strong> La DDM concerne la qualit√© gustative, pas un danger (Doc 2). L'eau du robinet co√ªte 0,003‚Ç¨/L contre 0,20-0,50‚Ç¨/L en bouteille (Doc 1).</p>
      </div>
    </div>

    <button class="btn btn-primary" onclick="goTo(3)">Exercice suivant ‚Üí</button>
  </div>

  <!-- ===== PAGE 3 : EXERCICE 2 ===== -->
  <div id="page3" class="page">
    
    <div class="card">
      <div class="exercice-toolbar">
        <div>
          <span class="exercice-num">Exercice 2/4</span>
          <span class="points-badge" style="margin-left:10px;">4 points</span>
        </div>
        <button class="btn-docs" onclick="toggleDocs()">üìñ Voir les documents</button>
      </div>
      
      <div class="card-title"><span class="icon">üîç</span> Extraire une donn√©e pr√©cise</div>
      <p style="color:#94a3b8; margin-bottom:20px;">√Ä partir du <strong>document 3</strong>, r√©ponds aux questions en s√©lectionnant la bonne r√©ponse.</p>

      <div class="option-group">
        <p><strong>1.</strong> Quel poste permet une √©conomie de 50% apr√®s sensibilisation ?</p>
        <select id="q2-1" class="select-field">
          <option value="">-- S√©lectionne ta r√©ponse --</option>
          <option value="wrong1">Chasse d'eau</option>
          <option value="correct">Douche</option>
          <option value="wrong2">Lave-vaisselle</option>
        </select>
      </div>

      <div class="option-group">
        <p><strong>2.</strong> Quelle technologie remplace la chasse d'eau simple ?</p>
        <select id="q2-2" class="select-field">
          <option value="">-- S√©lectionne ta r√©ponse --</option>
          <option value="wrong1">Chasse automatique</option>
          <option value="correct">Double commande</option>
          <option value="wrong2">Timer int√©gr√©</option>
        </select>
      </div>

      <div class="option-group">
        <p><strong>3.</strong> Quelle solution remplace l'eau potable pour l'arrosage ?</p>
        <select id="q2-3" class="select-field">
          <option value="">-- S√©lectionne ta r√©ponse --</option>
          <option value="correct">R√©cup√©ration d'eau de pluie</option>
          <option value="wrong1">Eau de source</option>
          <option value="wrong2">Eau min√©rale p√©rim√©e</option>
        </select>
      </div>

      <div class="option-group">
        <p><strong>4.</strong> Quelle est la consommation d'eau d'une douche "avant sensibilisation" ?</p>
        <select id="q2-4" class="select-field">
          <option value="">-- S√©lectionne ta r√©ponse --</option>
          <option value="wrong1">30 L</option>
          <option value="correct">60 L</option>
          <option value="wrong2">15 L</option>
        </select>
      </div>

      <div id="correction2" class="correction-box">
        <h4>‚úì Correction</h4>
        <p>1. <strong>Douche</strong> (60L ‚Üí 30L = -50%)</p>
        <p>2. <strong>Double commande</strong> (9L ‚Üí 3-6L)</p>
        <p>3. <strong>R√©cup√©ration d'eau de pluie</strong></p>
        <p>4. <strong>60 L</strong> (10 minutes)</p>
      </div>
    </div>

    <button class="btn btn-primary" onclick="goTo(4)">Exercice suivant ‚Üí</button>
  </div>

  <!-- ===== PAGE 4 : EXERCICE 3 ===== -->
  <div id="page4" class="page">
    
    <div class="card">
      <div class="exercice-toolbar">
        <div>
          <span class="exercice-num">Exercice 3/4</span>
          <span class="points-badge" style="margin-left:10px;">8 points</span>
        </div>
        <button class="btn-docs" onclick="toggleDocs()">üìñ Voir les documents</button>
      </div>
      
      <div class="card-title"><span class="icon">üìä</span> Classer les informations</div>
      <p style="color:#94a3b8; margin-bottom:15px;">Clique sur une √©tiquette puis clique sur la zone correspondante pour la placer. Classe chaque information dans la bonne cat√©gorie.</p>

      <div class="chip-bank" id="chipBank"></div>

      <div class="classement-grid">
        <div class="drop-zone" id="zone-robinet" onclick="placeChip('zone-robinet')">
          <div class="drop-zone-title">üö∞ Eau du robinet</div>
        </div>
        <div class="drop-zone" id="zone-bouteille" onclick="placeChip('zone-bouteille')">
          <div class="drop-zone-title">üç∂ Eau en bouteille</div>
        </div>
        <div class="drop-zone" id="zone-ddm" onclick="placeChip('zone-ddm')">
          <div class="drop-zone-title">üìÖ DDM d√©pass√©e</div>
        </div>
        <div class="drop-zone" id="zone-rappel" onclick="placeChip('zone-rappel')">
          <div class="drop-zone-title">‚ö†Ô∏è Rappel produit</div>
        </div>
      </div>

      <div id="correction3" class="correction-box">
        <h4>‚úì Correction</h4>
        <p><strong>Eau du robinet :</strong> Contr√¥l√©e 50 fois/jour, 0,003‚Ç¨/L, 0 d√©chet plastique</p>
        <p><strong>Eau en bouteille :</strong> Transport 300 km, 150 000 tonnes d√©chets/an</p>
        <p><strong>DDM d√©pass√©e :</strong> Pas de danger, Perte de qualit√© gustative</p>
        <p><strong>Rappel produit :</strong> Risque sanitaire, Consigne √† suivre</p>
      </div>
    </div>

    <button class="btn btn-primary" onclick="goTo(5)">Exercice suivant ‚Üí</button>
  </div>

  <!-- ===== PAGE 5 : EXERCICE 4 ===== -->
  <div id="page5" class="page">
    
    <div class="card">
      <div class="exercice-toolbar">
        <div>
          <span class="exercice-num">Exercice 4/4</span>
          <span class="points-badge" style="margin-left:10px;">3 points</span>
        </div>
        <button class="btn-docs" onclick="toggleDocs()">üìñ Voir les documents</button>
      </div>
      
      <div class="card-title"><span class="icon">üß†</span> Comprendre le sens</div>
      <p style="color:#94a3b8; margin-bottom:20px;">Ces questions v√©rifient que tu as compris le sens des informations lues.</p>

      <div class="option-group">
        <p><strong>1.</strong> Pourquoi dit-on que l'eau du robinet a un "transport 0 km" ?</p>
        <select id="q4-1" class="select-field">
          <option value="">-- S√©lectionne ta r√©ponse --</option>
          <option value="wrong1">Elle est produite dans chaque maison</option>
          <option value="correct">Elle arrive directement par le r√©seau local sans camion</option>
          <option value="wrong2">Elle n'existe pas vraiment</option>
        </select>
      </div>

      <div class="option-group">
        <p><strong>2.</strong> Quelle est la diff√©rence principale entre DDM d√©pass√©e et rappel produit ?</p>
        <select id="q4-2" class="select-field">
          <option value="">-- S√©lectionne ta r√©ponse --</option>
          <option value="wrong1">Il n'y a aucune diff√©rence</option>
          <option value="wrong2">La DDM concerne les risques, le rappel concerne le go√ªt</option>
          <option value="correct">La DDM concerne la qualit√©, le rappel concerne un danger</option>
        </select>
      </div>

      <div class="option-group">
        <p><strong>3.</strong> D'apr√®s le document 3, qu'est-ce qui permet de r√©duire la consommation d'eau ?</p>
        <select id="q4-3" class="select-field">
          <option value="">-- S√©lectionne ta r√©ponse --</option>
          <option value="correct">Des √©quipements adapt√©s et des changements d'habitudes</option>
          <option value="wrong1">Uniquement acheter de l'eau en bouteille</option>
          <option value="wrong2">Ne plus se laver</option>
        </select>
      </div>

      <div id="correction4" class="correction-box">
        <h4>‚úì Correction</h4>
        <p>1. L'eau du robinet circule par les canalisations du r√©seau local, sans transport routier.</p>
        <p>2. La DDM = qualit√© gustative (pas dangereux) / Rappel = risque sanitaire (dangereux).</p>
        <p>3. Le document montre des √©quipements (double commande, r√©cup√©rateur) ET des habitudes (dur√©e douche, remplissage lave-vaisselle).</p>
      </div>
    </div>

    <button class="btn btn-primary" onclick="showBilan()">Voir mon bilan ‚Üí</button>
  </div>

  <!-- ===== PAGE 6 : BILAN ===== -->
  <div id="page6" class="page">
    
    <div class="bilan-score">
      <div class="score-value" id="scoreDisplay">-- / 20</div>
      <div class="score-label">Score final</div>
    </div>

    <div class="card">
      <div class="card-title"><span class="icon">üìã</span> Auto-√©valuation de la comp√©tence C1</div>
      <p style="color:#94a3b8; margin-bottom:15px;">V√©rifie ta ma√Ætrise des diff√©rentes capacit√©s :</p>

      <div class="auto-eval-grid" id="evalGrid">
        <!-- Rempli par JS -->
      </div>
    </div>

    <div class="remediation-box" id="remediationBox">
      <h4>üí° Pistes de rem√©diation</h4>
      <div id="remediationContent">
        <!-- Rempli par JS -->
      </div>
    </div>

    <div class="card" style="margin-top:20px;">
      <div class="card-title"><span class="icon">üîÑ</span> Revoir les exercices</div>
      <p style="color:#94a3b8; margin-bottom:15px;">Les corrections sont maintenant affich√©es. Tu peux naviguer pour les consulter.</p>
      <div class="nav-exercices">
        <button class="btn btn-small" onclick="goTo(2)">Exercice 1</button>
        <button class="btn btn-small" onclick="goTo(3)">Exercice 2</button>
        <button class="btn btn-small" onclick="goTo(4)">Exercice 3</button>
        <button class="btn btn-small" onclick="goTo(5)">Exercice 4</button>
      </div>
    </div>

    <button class="btn btn-secondary" onclick="location.reload()" style="width:100%; margin-top:20px;">Recommencer l'exercice</button>
  </div>

</div>

<script>
// ===== DONN√âES EXERCICE 3 =====
const chipsData = [
  { id: 'c1', text: 'Contr√¥l√©e 50 fois/jour', zone: 'zone-robinet' },
  { id: 'c2', text: '0,003 ‚Ç¨/L', zone: 'zone-robinet' },
  { id: 'c3', text: 'Transport 300 km', zone: 'zone-bouteille' },
  { id: 'c4', text: '150 000 tonnes d√©chets/an', zone: 'zone-bouteille' },
  { id: 'c5', text: 'Pas de danger sanitaire', zone: 'zone-ddm' },
  { id: 'c6', text: 'Perte de qualit√© gustative', zone: 'zone-ddm' },
  { id: 'c7', text: 'Risque pour la sant√©', zone: 'zone-rappel' },
  { id: 'c8', text: 'Consigne √† suivre', zone: 'zone-rappel' }
];

let selectedChip = null;
let scores = { ex1: 0, ex2: 0, ex3: 0, ex4: 0 };

// ===== NAVIGATION =====
function goTo(pageNum) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.getElementById('page' + pageNum).classList.add('active');
  window.scrollTo(0, 0);
  
  // Fermer la modale si ouverte
  document.getElementById('docModal').classList.remove('visible');
  
  // Initialiser exercice 3 si n√©cessaire
  if (pageNum === 4) initEx3();
}

// ===== MODALE DOCUMENTS =====
function toggleDocs() {
  const modal = document.getElementById('docModal');
  modal.classList.toggle('visible');
  
  // Scroll en haut de la modale
  if (modal.classList.contains('visible')) {
    modal.scrollTop = 0;
  }
}

// ===== EXERCICE 3 : CLASSEMENT =====
function initEx3() {
  const bank = document.getElementById('chipBank');
  if (bank.children.length > 0) return;
  
  // M√©langer
  const shuffled = [...chipsData].sort(() => Math.random() - 0.5);
  
  shuffled.forEach(chip => {
    const el = document.createElement('div');
    el.className = 'chip';
    el.textContent = chip.text;
    el.dataset.id = chip.id;
    el.dataset.zone = chip.zone;
    el.onclick = (e) => { e.stopPropagation(); selectChip(el); };
    bank.appendChild(el);
  });
}

function selectChip(el) {
  if (selectedChip) selectedChip.classList.remove('selected');
  selectedChip = el;
  el.classList.add('selected');
}

function placeChip(zoneId) {
  if (!selectedChip) return;
  const zone = document.getElementById(zoneId);
  zone.appendChild(selectedChip);
  selectedChip.classList.remove('selected');
  selectedChip.classList.add('placed');
  selectedChip = null;
}

// ===== CALCUL DU BILAN =====
function showBilan() {
  // Correction Exercice 1
  let ex1Score = 0;
  document.querySelectorAll('#ex1-options input').forEach(input => {
    const isCorrect = input.dataset.correct === 'true';
    const isChecked = input.checked;
    const label = input.parentElement;
    
    if (isChecked === isCorrect) {
      ex1Score++;
      label.classList.add('correct');
    } else {
      label.classList.add('incorrect');
    }
  });
  scores.ex1 = ex1Score;
  document.getElementById('correction1').classList.add('visible');

  // Correction Exercice 2
  let ex2Score = 0;
  ['q2-1', 'q2-2', 'q2-3', 'q2-4'].forEach(id => {
    if (document.getElementById(id).value === 'correct') ex2Score++;
  });
  scores.ex2 = ex2Score;
  document.getElementById('correction2').classList.add('visible');

  // Correction Exercice 3
  let ex3Score = 0;
  document.querySelectorAll('.drop-zone .chip').forEach(chip => {
    const correctZone = chip.dataset.zone;
    const currentZone = chip.parentElement.id;
    
    if (correctZone === currentZone) {
      ex3Score++;
      chip.classList.add('valid');
    } else {
      chip.classList.add('invalid');
    }
  });
  scores.ex3 = ex3Score;
  document.getElementById('correction3').classList.add('visible');

  // Correction Exercice 4
  let ex4Score = 0;
  ['q4-1', 'q4-2', 'q4-3'].forEach(id => {
    if (document.getElementById(id).value === 'correct') ex4Score++;
  });
  scores.ex4 = ex4Score;
  document.getElementById('correction4').classList.add('visible');

  // Score total
  const total = scores.ex1 + scores.ex2 + scores.ex3 + scores.ex4;
  document.getElementById('scoreDisplay').textContent = total + ' / 20';

  // Auto-√©valuation
  generateEvalGrid(total);
  generateRemediation(total);

  goTo(6);
}

function generateEvalGrid(total) {
  const grid = document.getElementById('evalGrid');
  
  const capacites = [
    { text: 'Identifier les informations vraies/fausses', score: scores.ex1, max: 5 },
    { text: 'Extraire une donn√©e pr√©cise d\'un tableau', score: scores.ex2, max: 4 },
    { text: 'Classer des informations par cat√©gorie', score: scores.ex3, max: 8 },
    { text: 'Comprendre le sens d\'un document', score: scores.ex4, max: 3 }
  ];

  grid.innerHTML = capacites.map(cap => {
    const ratio = cap.score / cap.max;
    let status, statusClass, icon;
    
    if (ratio >= 0.75) {
      status = 'Acquis'; statusClass = 'ok'; icon = '‚úÖ';
    } else if (ratio >= 0.5) {
      status = 'En cours'; statusClass = 'warning'; icon = 'üîÑ';
    } else {
      status = '√Ä travailler'; statusClass = 'error'; icon = '‚ö†Ô∏è';
    }

    return `
      <div class="eval-item">
        <span class="eval-icon">${icon}</span>
        <span class="eval-text">${cap.text}</span>
        <span class="eval-status ${statusClass}">${status} (${cap.score}/${cap.max})</span>
      </div>
    `;
  }).join('');
}

function generateRemediation(total) {
  const box = document.getElementById('remediationContent');
  let tips = [];

  if (scores.ex1 < 4) {
    tips.push({ icon: 'üìñ', text: 'Relis bien chaque document avant de r√©pondre. Cherche les mots-cl√©s dans le texte.' });
  }
  if (scores.ex2 < 3) {
    tips.push({ icon: 'üîç', text: 'Pour extraire une donn√©e d\'un tableau, rep√®re d\'abord la bonne ligne, puis la bonne colonne.' });
  }
  if (scores.ex3 < 6) {
    tips.push({ icon: 'üìä', text: 'Pour classer, demande-toi : "De quoi parle cette information ?" avant de la placer.' });
  }
  if (scores.ex4 < 2) {
    tips.push({ icon: 'üß†', text: 'Comprendre, c\'est savoir reformuler avec tes mots. Essaie d\'expliquer √† quelqu\'un.' });
  }

  if (tips.length === 0) {
    tips.push({ icon: 'üèÜ', text: 'Excellent travail ! Tu ma√Ætrises bien la comp√©tence C1. Continue ainsi !' });
  }

  box.innerHTML = tips.map(tip => `
    <div class="tip-item">
      <span class="tip-icon">${tip.icon}</span>
      <span>${tip.text}</span>
    </div>
  `).join('');
}
</script>

</body>
</html>
