<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R√©visions PSE - L'Activit√© Physique</title>
    <style>
        :root {
            --main-color: #007bff;
            --secondary-color: #28a745;
            --bg-light: #f8f9fa;
            --text-dark: #343a40;
            --border-radius: 8px;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-light);
            color: var(--text-dark);
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 20px auto;
            background-color: white;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }

        header {
            text-align: center;
            padding-bottom: 20px;
            border-bottom: 3px solid var(--main-color);
            margin-bottom: 30px;
        }

        header h1 {
            color: var(--main-color);
            font-size: 2.2em;
            margin: 0;
            text-transform: uppercase;
        }

        header p {
            font-style: italic;
            color: var(--text-dark);
            margin-top: 5px;
        }

        h2, h3 {
            color: var(--secondary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 5px;
            margin-top: 25px;
        }

        /* --- R√©sum√© Section --- */
        .resume-section {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .resume-content, .resume-visual {
            flex: 1;
        }

        .resume-visual img {
            width: 100%;
            height: auto;
            border-radius: var(--border-radius);
        }

        .resume-content ul {
            list-style: none;
            padding-left: 0;
        }

        .resume-content li {
            background-color: #e9f7ff;
            padding: 10px;
            margin-bottom: 8px;
            border-left: 4px solid var(--main-color);
            border-radius: var(--border-radius);
        }

        /* --- Exercice Section --- */
        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .navigation {
            text-align: center;
            margin-top: 30px;
        }

        .btn {
            background-color: var(--main-color);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }

        .btn:hover {
            background-color: #0056b3;
        }
        
        /* Specific exercise styling */
        .exercise {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            background-color: white;
            position: relative;
        }
        
        .consigne {
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--text-dark);
        }

        .consigne u {
            font-weight: bold;
        }

        .feedback {
            margin-top: 10px;
            padding: 8px;
            border-radius: 4px;
            font-weight: bold;
            display: none;
        }

        .correct {
            background-color: #d4edda;
            color: #155724;
        }

        .incorrect {
            background-color: #f8d7da;
            color: #721c24;
        }

        /* Competence Badge */
        .competence-badge {
            background-color: var(--secondary-color);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            cursor: pointer;
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 10;
        }

        .competence-info {
            display: none;
            position: absolute;
            right: 45px; /* Positionnement √† gauche du badge */
            top: 5px;
            background-color: #343a40;
            color: white;
            padding: 10px;
            border-radius: 5px;
            width: 250px;
            font-size: 0.9em;
            z-index: 20;
            box-shadow: var(--shadow);
        }

        .competence-badge:hover .competence-info {
            display: block;
        }

        /* Drag and Drop Styling */
        .drag-container {
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            margin-bottom: 15px;
            border: 1px dashed #ccc;
            border-radius: var(--border-radius);
        }

        .drag-item {
            padding: 8px 12px;
            margin: 5px;
            background-color: #ffc107;
            color: var(--text-dark);
            border-radius: 4px;
            cursor: move;
            font-size: 0.9em;
        }

        .drop-zone {
            padding: 15px;
            border: 2px dashed var(--main-color);
            border-radius: 4px;
            min-height: 50px;
            text-align: center;
            margin-top: 10px;
            background-color: #f2f2ff;
        }
        
        /* Slider Styling */
        .slider-container {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
        }
        .slider-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-weight: bold;
        }
        input[type="range"] {
            width: 100%;
        }

        /* Correction Page */
        #correction-page h2 {
            text-align: center;
        }
        .score-display {
            font-size: 2em;
            text-align: center;
            margin-bottom: 20px;
            font-weight: bold;
            color: var(--main-color);
        }
        .correction-item {
            margin-bottom: 15px;
            padding: 10px;
            border-left: 5px solid;
            border-radius: 5px;
        }
        .correction-item.correct-answer {
            border-color: var(--secondary-color);
            background-color: #d4edda;
        }
        .correction-item.wrong-answer {
            border-color: #dc3545;
            background-color: #f8d7da;
        }
        .correct-answer-text {
            font-weight: bold;
            color: #155724;
        }
        .notions-revoir {
            margin-top: 30px;
            padding: 15px;
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            border-radius: var(--border-radius);
        }
        .notions-revoir h3 {
            color: #856404;
            border-bottom: none;
        }
        
        /* Utility */
        .text-center { text-align: center; }
        .hidden { display: none; }
        
        /* Page d'attente (r√©sultats) */
        #results-container {
            text-align: center;
            margin-top: 20px;
        }
        
        .recommencer-btn {
            background-color: #17a2b8;
            margin-top: 15px;
        }

        /* Image int√©gr√©e */
        .embedded-image {
            max-width: 100%;
            height: auto;
            margin-top: 10px;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Print Style */
        @media print {
            .navigation, .btn, .competence-badge, .competence-info, .feedback {
                display: none !important;
            }
            body {
                background-color: white;
            }
            .container {
                box-shadow: none;
            }
            .page.active {
                display: block;
            }
            header, .resume-section, .exercise {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>L'ACTIVIT√â PHYSIQUE : UN CAPITAL SANT√â</h1>
        <p>R√©visions PSE Bac Pro - Module A3</p>
    </header>

    <div id="intro-page" class="page active">
        <h2>üí° R√©sum√© du Module : L'Activit√© Physique</h2>

        <div class="resume-section">
            <div class="resume-content">
                <h3>La S√©dentarit√© : Le Probl√®me</h3>
                <ul>
                    <li>D√©finition : Comportement en p√©riode √©veill√©e g√©n√©rant une d√©pense √©nerg√©tique proche de celle au repos (assis ou allong√©).</li>
                    <li>Cons√©quences n√©fastes sur la sant√© (AVC, diab√®te, hypertension art√©rielle, risques de cancers, augmentation du poids).</li>
                    <li>Solution : **Pratiquer une activit√© physique** pour pr√©server la sant√© et lutter contre la s√©dentarit√©.</li>
                </ul>

                <h3>L'Adaptation du Corps √† l'Effort (Ph√©nom√®nes Physiologiques)</h3>
                <ul>
                    <li>Le **Syst√®me Nerveux** d√©tecte les besoins accrus en dioxyg√®ne ($\text{O}_2$) et nutriments du muscle.</li>
                    <li>Le **Syst√®me Cardiorespiratoire** re√ßoit ce message et s'adapte en augmentant la fr√©quence cardiaque et la fr√©quence respiratoire.</li>
                    <li>But : **Augmenter la circulation sanguine** pour fournir plus de $\text{O}_2$ et de nutriments aux muscles en activit√©.</li>
                    <li>Le muscle consomme $\text{O}_2$ et nutriments pour produire de l'√©nergie et rejette des d√©chets (dioxyde de carbone ($\text{CO}_2$)).</li>
                </ul>
            </div>
            <div class="resume-visual">
                                <img src="placeholder_activity_image.png" alt="Illustration de diff√©rentes activit√©s physiques (course, v√©lo, yoga, etc.)." class="embedded-image">
            </div>
        </div>
        
        <h3>Les Bienfaits de l'Activit√© Physique R√©guli√®re</h3>
        <table style="width:100%; border-collapse: collapse; text-align: left;">
            <thead>
                <tr style="background-color: var(--main-color); color: white;">
                    <th style="padding: 10px; border: 1px solid white;">Bien-√™tre Physique</th>
                    <th style="padding: 10px; border: 1px solid white;">Bien-√™tre Mental</th>
                    <th style="padding: 10px; border: 1px solid white;">Bien-√™tre Social</th>
                </tr>
            </thead>
            <tbody>
                <tr style="background-color: #f2f2ff;">
                    <td style="padding: 10px; border: 1px solid #ddd;">Se muscler, √™tre plus endurant, √™tre en meilleure forme.</td>
                    <td style="padding: 10px; border: 1px solid #ddd;">Se d√©tendre, se d√©fouler, g√©rer son agressivit√©.</td>
                    <td style="padding: 10px; border: 1px solid #ddd;">Rencontrer des gens, appartenir √† un groupe.</td>
                </tr>
                <tr style="background-color: #f2f2ff;">
                    <td style="padding: 10px; border: 1px solid #ddd;">Protection contre certaines maladies (ob√©sit√©, maux de dos, cancer...).</td>
                    <td style="padding: 10px; border: 1px solid #ddd;">Am√©liorer la concentration et la cr√©ativit√©.</td>
                    <td style="padding: 10px; border: 1px solid #ddd;">Partager des moments forts.</td>
                </tr>
            </tbody>
        </table>
        
        <div class="navigation">
            <button class="btn" onclick="nextPage()">Commencer l'auto-√©valuation &rarr;</button>
        </div>
    </div>

    <div id="quiz-page" class="page">
        <h2>‚úçÔ∏è Auto-√âvaluation (15 Questions)</h2>
        <p>R√©pondez aux questions en mobilisant vos connaissances. La clart√© de l'expression est aussi √©valu√©e (C6).</p>
        
        <form id="quiz-form">
            <div class="exercise" data-q="1" data-comp="C2" data-points="1">
                <span class="competence-badge">C2<span class="competence-info">**C2 - Appliquer une d√©marche d‚Äôanalyse dans une situation donn√©e**<br>Exemple : Analyser les causes d'un accident du travail.</span></span>
                <p class="consigne">1. **<u>Identifier</u>** la meilleure d√©finition de la s√©dentarit√© selon le document.</p>
                <label><input type="radio" name="q1" value="A"> A. Comportement √©veill√© g√©n√©rant une d√©pense √©nerg√©tique proche de celle au repos.</label><br>
                <label><input type="radio" name="q1" value="B"> B. Toute absence de sport ou d'activit√© physique.</label><br>
                <label><input type="radio" name="q1" value="C"> C. Le temps pass√© √† dormir ou √† regarder un √©cran.</label><br>
                <div class="feedback"></div>
            </div>

            <div class="exercise" data-q="2" data-comp="C2" data-points="1">
                <span class="competence-badge">C2<span class="competence-info">**C2 - Appliquer une d√©marche d‚Äôanalyse dans une situation donn√©e**<br>Exemple : Analyser les causes d'un accident du travail.</span></span>
                <p class="consigne">2. **<u>Compl√©ter</u>** la phrase : L'analyse d'une situation de s√©dentarit√© doit **<u>inclure</u>** le temps pass√© en position 
                    <select name="q2_1" required><option value="">---</option><option value="assise">assise</option><option value="debout">debout</option></select>
                     ou allong√©e que ce soit pour le travail, les transports ou les 
                    <select name="q2_2" required><option value="">---</option><option value="repas">repas</option><option value="loisirs">loisirs</option></select>.</p>
                <div class="feedback"></div>
            </div>
            
            <div class="exercise" data-q="3" data-comp="C2" data-points="2">
                <span class="competence-badge">C2<span class="competence-info">**C2 - Appliquer une d√©marche d‚Äôanalyse dans une situation donn√©e**<br>Exemple : Analyser les causes d'un accident du travail.</span></span>
                <p class="consigne">3. **<u>√ânoncer</u>** le probl√®me principal de sant√© publique en France li√© au mode de vie s√©dentaire (utiliser les chiffres cl√©s du r√©sum√©).</p>
                <textarea name="q3" rows="3" style="width:100%;"></textarea>
                <div class="feedback"></div>
            </div>
            
            <div class="exercise" data-q="4" data-comp="C3" data-points="2">
                <span class="competence-badge">C3<span class="competence-info">**C3 - Expliquer un ph√©nom√®ne physiologique, un enjeu environnemental, une disposition r√©glementaire, en lien avec une mesure de pr√©vention**<br>Exemple : Expliquer comment le bruit endommage l'oreille interne.</span></span>
                <p class="consigne">4. **<u>Associer</u>** chaque syst√®me du corps √† son r√¥le lors de l'effort (glisser les d√©finitions dans les zones correspondantes).</p>
                <div class="drag-container" id="q4_drag">
                    <div class="drag-item" draggable="true" id="q4_item_1">D√©tecte le besoin du muscle et envoie un message au c≈ìur et aux poumons.</div>
                    <div class="drag-item" draggable="true" id="q4_item_2">Permet d'assurer l'apport en dioxyg√®ne ($\text{O}_2$) au muscle.</div>
                </div>
                <table style="width:100%;">
                    <tr>
                        <td style="width:50%;">Syst√®me nerveux:</td>
                        <td style="width:50%;"><div class="drop-zone" data-target="q4_item_1">D√©poser ici</div></td>
                    </tr>
                    <tr>
                        <td>Syst√®me cardiorespiratoire:</td>
                        <td><div class="drop-zone" data-target="q4_item_2">D√©poser ici</div></td>
                    </tr>
                </table>
                <div class="feedback"></div>
            </div>

            <div class="exercise" data-q="5" data-comp="C3" data-points="2">
                <span class="competence-badge">C3<span class="competence-info">**C3 - Expliquer un ph√©nom√®ne physiologique, un enjeu environnemental, une disposition r√©glementaire, en lien avec une mesure de pr√©vention**<br>Exemple : Expliquer comment le bruit endommage l'oreille interne.</span></span>
                <p class="consigne">5. **<u>Hi√©rarchiser</u>** les √©tapes d'adaptation du corps √† l'effort physique (glisser-d√©poser les √©tapes dans l'ordre chronologique de 1 √† 5).</p>
                <div class="drag-container" id="q5_drag">
                    <div class="drag-item" draggable="true" id="q5_item_A">Besoins importants en $\text{O}_2$ et nutriments.</div>
                    <div class="drag-item" draggable="true" id="q5_item_B">Syst√®me cardiorespiratoire augmente rythme cardiaque et respiratoire.</div>
                    <div class="drag-item" draggable="true" id="q5_item_C">Augmentation de l'activit√© musculaire lors de l'effort.</div>
                    <div class="drag-item" draggable="true" id="q5_item_D">Apport en $\text{O}_2$ et nutriments aux muscles.</div>
                    <div class="drag-item" draggable="true" id="q5_item_E">Syst√®me nerveux d√©tecte et envoie un message.</div>
                </div>
                <table style="width:100%;">
                    <tr><td style="width:20%;">1. D√©but :</td><td style="width:80%;"><div class="drop-zone" data-target="q5_item_C">Ordre 1</div></td></tr>
                    <tr><td>2. √âtape :</td><td><div class="drop-zone" data-target="q5_item_A">Ordre 2</div></td></tr>
                    <tr><td>3. √âtape :</td><td><div class="drop-zone" data-target="q5_item_E">Ordre 3</div></td></tr>
                    <tr><td>4. √âtape :</td><td><div class="drop-zone" data-target="q5_item_B">Ordre 4</div></td></tr>
                    <tr><td>5. Fin :</td><td><div class="drop-zone" data-target="q5_item_D">Ordre 5</div></td></tr>
                </table>
                <div class="feedback"></div>
            </div>

            <div class="exercise" data-q="6" data-comp="C2" data-points="1">
                <span class="competence-badge">C2<span class="competence-info">**C2 - Appliquer une d√©marche d‚Äôanalyse dans une situation donn√©e**<br>Exemple : Analyser les causes d'un accident du travail.</span></span>
                <p class="consigne">6. **<u>D√©terminer</u>** le niveau de s√©dentarit√© d'un individu s'il passe 5 heures par jour assis ou allong√© (hors sommeil) en d√©pla√ßant le curseur.</p>
                <div class="slider-container">
                    <input type="range" id="sedentary-level" name="q6" min="0" max="10" value="0" oninput="updateSedentaryDisplay(this.value)">
                    <p>Temps pass√© assis/allong√© : <span id="slider-value">0</span> h/j</p>
                    <div class="slider-labels">
                        <span>Faible (&lt;3h/j)</span>
                        <span>Mod√©r√© (3-7h/j)</span>
                        <span>√âlev√© (&gt;7h/j)</span>
                    </div>
                    <input type="hidden" id="q6-answer" value="">
                </div>
                <div class="feedback"></div>
            </div>
            
            <div class="exercise" data-q="7" data-comp="C3" data-points="1">
                <span class="competence-badge">C3<span class="competence-info">**C3 - Expliquer un ph√©nom√®ne physiologique, un enjeu environnemental, une disposition r√©glementaire, en lien avec une mesure de pr√©vention**<br>Exemple : Expliquer comment le bruit endommage l'oreille interne.</span></span>
                <p class="consigne">7. **<u>Compl√©ter</u>** la phrase : L'augmentation de la fr√©quence cardiaque pendant l'effort permet d'augmenter la **<u>[mot 1]</u>** sanguine pour mieux fournir le **<u>[mot 2]</u>** et les nutriments aux muscles.</p>
                Mot 1 : <input type="text" name="q7_1" style="width: 100px;" required> / Mot 2 : <input type="text" name="q7_2" style="width: 100px;" required>
                <div class="feedback"></div>
            </div>

            <div class="exercise" data-q="8" data-comp="C4" data-points="2">
                <span class="competence-badge">C4<span class="competence-info">**C4 - Proposer une solution pour r√©soudre un probl√®me**<br>Exemple : Proposer 3 mesures pour r√©duire le risque d'accident au travail.</span></span>
                <p class="consigne">8. **<u>Proposer</u>** deux recommandations pour une personne √¢g√©e de 12 √† 17 ans afin de lutter contre la s√©dentarit√© (hors sport).</p>
                <textarea name="q8" rows="3" style="width:100%;"></textarea>
                <div class="feedback"></div>
            </div>
            
            <div class="exercise" data-q="9" data-comp="C4" data-points="1">
                <span class="competence-badge">C4<span class="competence-info">**C4 - Proposer une solution pour r√©soudre un probl√®me**<br>Exemple : Proposer 3 mesures pour r√©duire le risque d'accident au travail.</span></span>
                <p class="consigne">9. **<u>R√©diger</u>** la solution principale pour pr√©server la sant√© et **<u>lutter</u>** contre la s√©dentarit√© : **[Phrase r√©ponse]** (3 √† 5 mots).</p>
                R√©ponse : <input type="text" name="q9" style="width: 200px;" required>
                <div class="feedback"></div>
            </div>
            
            <div class="exercise" data-q="10" data-comp="C4" data-points="1">
                <span class="competence-badge">C4<span class="competence-info">**C4 - Proposer une solution pour r√©soudre un probl√®me**<br>Exemple : Proposer 3 mesures pour r√©duire le risque d'accident au travail.</span></span>
                <p class="consigne">10. **<u>Choisir</u>** les deux activit√©s quotidiennes qui contribuent √† la lutte contre la s√©dentarit√©. (2 bonnes r√©ponses)</p>
                <label><input type="checkbox" name="q10" value="A"> A. Prendre les escaliers plut√¥t que l'ascenseur.</label><br>
                <label><input type="checkbox" name="q10" value="B"> B. Envoyer un courriel au lieu de passer un appel.</label><br>
                <label><input type="checkbox" name="q10" value="C"> C. Marcher au lieu de prendre la voiture pour les petits trajets.</label><br>
                <label><input type="checkbox" name="q10" value="D"> D. Manger ses repas devant un √©cran.</label><br>
                <div class="feedback"></div>
            </div>

            <div class="exercise" data-q="11" data-comp="C3" data-points="3">
                <span class="competence-badge">C3<span class="competence-info">**C3 - Expliquer un ph√©nom√®ne physiologique, un enjeu environnemental, une disposition r√©glementaire, en lien avec une mesure de pr√©vention**<br>Exemple : Expliquer comment le bruit endommage l'oreille interne.</span></span>
                <p class="consigne">11. **<u>Expliquer</u>** en quoi la s√©dentarit√© est un ph√©nom√®ne dangereux et justifier pourquoi cela entra√Æne un risque pour la sant√© cardiovasculaire.</p>
                <textarea name="q11" rows="4" style="width:100%;"></textarea>
                <div class="feedback"></div>
            </div>

            <div class="exercise" data-q="12" data-comp="C3" data-points="3">
                <span class="competence-badge">C3<span class="competence-info">**C3 - Expliquer un ph√©nom√®ne physiologique, un enjeu environnemental, une disposition r√©glementaire, en lien avec une mesure de pr√©vention**<br>Exemple : Expliquer comment le bruit endommage l'oreille interne.</span></span>
                <p class="consigne">12. **<u>Relier</u>** les bienfaits de l'activit√© physique √† leur domaine (Physique, Mental, Social).</p>
                <div class="drag-container" id="q12_drag">
                    <div class="drag-item" draggable="true" id="q12_item_A">√ätre en meilleure forme</div>
                    <div class="drag-item" draggable="true" id="q12_item_B">G√©rer son agressivit√©</div>
                    <div class="drag-item" draggable="true" id="q12_item_C">Partager des moments forts</div>
                    <div class="drag-item" draggable="true" id="q12_item_D">Se muscler</div>
                    <div class="drag-item" draggable="true" id="q12_item_E">Se d√©tendre</div>
                    <div class="drag-item" draggable="true" id="q12_item_F">Am√©liorer la concentration</div>
                </div>
                <table style="width:100%;">
                    <tr>
                        <td style="width:33%;">Physique:</td>
                        <td style="width:33%;">Mental:</td>
                        <td style="width:34%;">Social:</td>
                    </tr>
                    <tr>
                        <td><div class="drop-zone" data-target="q12_physique_1"></div><div class="drop-zone" data-target="q12_physique_2"></div></td>
                        <td><div class="drop-zone" data-target="q12_mental_1"></div><div class="drop-zone" data-target="q12_mental_2"></div><div class="drop-zone" data-target="q12_mental_3"></div></td>
                        <td><div class="drop-zone" data-target="q12_social_1"></div></td>
                    </tr>
                </table>
                <div class="feedback"></div>
            </div>

            <div class="exercise" data-q="13" data-comp="C5" data-points="2">
                <span class="competence-badge">C5<span class="competence-info">**C5 - Argumenter un choix**<br>Exemple : Justifier le choix d'un risque √† traiter en priorit√©.</span></span>
                <p class="consigne">13. **<u>Justifier</u>** en quelques phrases le choix de la natation comme activit√© de lutte contre le stress et la s√©dentarit√© (mobiliser les notions de bien-√™tre).</p>
                <textarea name="q13" rows="3" style="width:100%;"></textarea>
                <div class="feedback"></div>
            </div>
            
            <div class="exercise" data-q="14" data-comp="C4" data-points="1">
                <span class="competence-badge">C4<span class="competence-info">**C4 - Proposer une solution pour r√©soudre un probl√®me**<br>Exemple : Proposer 3 mesures pour r√©duire le risque d'accident au travail.</span></span>
                <p class="consigne">14. **<u>Proposer</u>** une action pour r√©duire son temps de s√©dentarit√© au quotidien :
                    <select name="q14_1" required><option value="">---</option><option value="faire des pauses">S'obliger √† faire des pauses</option><option value="boire plus d'eau">Boire plus d'eau</option></select>
                     et
                    <select name="q14_2" required><option value="">---</option><option value="bouger">bouger</option><option value="travailler">travailler</option></select>
                     toutes les deux heures.</p>
                <div class="feedback"></div>
            </div>

            <div class="exercise" data-q="15" data-comp="C2" data-points="1">
                <span class="competence-badge">C2<span class="competence-info">**C2 - Appliquer une d√©marche d‚Äôanalyse dans une situation donn√©e**<br>Exemple : Analyser les causes d'un accident du travail.</span></span>
                <p class="consigne">15. **<u>Relier</u>** chaque maladie ou risque √† la s√©dentarit√© (glisser les risques dans la zone "S√©dentarit√©").</p>
                <div class="drag-container" id="q15_drag">
                    <div class="drag-item" draggable="true" id="q15_item_A">Diab√®te</div>
                    <div class="drag-item" draggable="true" id="q15_item_B">Troubles de l'audition</div>
                    <div class="drag-item" draggable="true" id="q15_item_C">Hypertension art√©rielle</div>
                    <div class="drag-item" draggable="true" id="q15_item_D">Risques de cancers</div>
                </div>
                <table style="width:100%;">
                    <tr>
                        <td style="width:50%;">S√©dentarit√© :</td>
                        <td style="width:50%;"><div class="drop-zone" data-target="q15_A">D√©poser ici</div><div class="drop-zone" data-target="q15_C">D√©poser ici</div><div class="drop-zone" data-target="q15_D">D√©poser ici</div></td>
                    </tr>
                </table>
                <div class="feedback"></div>
            </div>
            
            <div class="navigation">
                <button class="btn" type="button" onclick="validateQuiz()">Terminer l'√©valuation &rarr;</button>
            </div>
        </form>
    </div>

    <div id="correction-page" class="page">
        <h2>‚úÖ Correction D√©taill√©e et Bilan</h2>
        
        <div id="results-container">
            <h3>Votre Note Finale (sur 20) :</h3>
            <div class="score-display" id="final-score">0 / 20</div>
            <p>L'√©valuation porte sur les comp√©tences du programme (C2, C3, C4, C5).</p>
        </div>
        
        <div id="detailed-corrections">
            </div>

        <div class="notions-revoir">
            <h3>Notions √† Revoir (selon vos r√©sultats)</h3>
            <p id="revisions-needed">
                </p>
        </div>

        <div class="text-center" style="margin-top: 20px;">
            <p>N'h√©sitez pas √† recommencer l'auto-√©valuation pour consolider vos acquis !</p>
            <button class="btn recommencer-btn" onclick="resetQuiz()">Recommencer l'auto-√©valuation</button>
        </div>
        <div class="text-center" style="margin-top: 20px;">
             <button class="btn" onclick="window.print()">Enregistrer / Imprimer le document (PDF)</button>
        </div>
    </div>

</div>

<script>
    // --- Gestion de la Navigation et de la Logique de Page ---
    let currentPage = 1;
    const totalPages = 3;

    function showPage(pageNumber) {
        document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
        document.getElementById(pageNumber === 1 ? 'intro-page' : pageNumber === 2 ? 'quiz-page' : 'correction-page').classList.add('active');
        currentPage = pageNumber;
        window.scrollTo(0, 0); // Remonter en haut de la page
    }

    function nextPage() {
        if (currentPage < 2) {
            showPage(currentPage + 1);
        }
    }

    // Initialisation des √©l√©ments Drag and Drop
    function initializeDragDrop() {
        const dragItems = document.querySelectorAll('.drag-item');
        const dropZones = document.querySelectorAll('.drop-zone');

        let draggedItem = null;

        dragItems.forEach(item => {
            item.addEventListener('dragstart', (e) => {
                draggedItem = item;
                setTimeout(() => item.style.opacity = '0.5', 0);
            });

            item.addEventListener('dragend', () => {
                draggedItem.style.opacity = '1';
                draggedItem = null;
            });
        });

        dropZones.forEach(zone => {
            zone.addEventListener('dragover', (e) => {
                e.preventDefault(); // N√©cessaire pour permettre le drop
            });

            zone.addEventListener('dragenter', (e) => {
                e.preventDefault();
                zone.style.backgroundColor = '#ccc';
            });

            zone.addEventListener('dragleave', () => {
                zone.style.backgroundColor = '#f2f2ff';
            });

            zone.addEventListener('drop', (e) => {
                e.preventDefault();
                zone.style.backgroundColor = 'transparent';

                if (draggedItem) {
                    // Check if the zone is already filled
                    if (zone.children.length > 0) {
                        return; // Prevent dropping if already filled
                    }

                    // For Q4, Q5, Q15, we move the item into the drop zone
                    if (zone.parentElement.parentElement.id.includes('q4') || zone.parentElement.parentElement.id.includes('q5') || zone.parentElement.parentElement.id.includes('q15')) {
                         zone.appendChild(draggedItem);
                         // Update hidden input for scoring 
                         zone.setAttribute('data-dropped-id', draggedItem.id);
                    } 
                    // For Q12, multiple items can go in the same 'field'
                    else if (zone.closest('.exercise[data-q="12"]')) {
                        // Move the item to the drop zone
                        zone.appendChild(draggedItem);
                        // Update hidden input for scoring
                        const existingDrops = zone.closest('.exercise[data-q="12"]').querySelector(`#q12-answer-${zone.dataset.target.split('_')[1]}`) || { value: '' };
                        const fieldName = zone.dataset.target.split('_')[1];
                        let answerField = document.querySelector(`input[name="q12_${fieldName}"]`);
                        if (!answerField) {
                            answerField = document.createElement('input');
                            answerField.type = 'hidden';
                            answerField.name = `q12_${fieldName}`;
                            zone.closest('.exercise[data-q="12"]').appendChild(answerField);
                            answerField.value = draggedItem.id;
                        } else {
                            answerField.value += ',' + draggedItem.id;
                        }
                    }
                }
            });
        });
        
        // Function to handle returning item to pool (Q4, Q5, Q15 only)
        document.querySelectorAll('.drop-zone').forEach(zone => {
            zone.addEventListener('click', (e) => {
                const item = e.target.querySelector('.drag-item');
                if (item) {
                    const dragContainerId = item.closest('.exercise').querySelector('.drag-container').id;
                    document.getElementById(dragContainerId).appendChild(item);
                    e.target.removeAttribute('data-dropped-id');
                }
            });
        });
    }

    // --- Curseur (Slider) Logic (Q6) ---
    function updateSedentaryDisplay(value) {
        document.getElementById('slider-value').textContent = value;
        let level = '';
        if (value < 3) {
            level = 'Faible';
        } else if (value >= 3 && value <= 7) {
            level = 'Mod√©r√©';
        } else {
            level = '√âlev√©';
        }
        document.getElementById('q6-answer').value = level;
    }

    // --- Scoring Logic ---
    const answers = {
        'q1': 'A',
        'q2_1': 'assise',
        'q2_2': 'loisirs',
        'q3': ['manque d\'activit√© physique', '51% des fran√ßais'], // Check for keywords
        'q4': { 'q4_item_1': 'Syst√®me nerveux', 'q4_item_2': 'Syst√®me cardiorespiratoire' }, // Drag/Drop
        'q5': ['q5_item_C', 'q5_item_A', 'q5_item_E', 'q5_item_B', 'q5_item_D'], // Hierarchy Drag/Drop
        'q6': 'Mod√©r√©',
        'q7_1': ['circulation'],
        'q7_2': ['dioxyg√®ne', 'o2'],
        'q8': ['Moins de 2 heures d‚Äô√©cran par jour', 'Moins de 2 heures cons√©cutives en position assise ou allong√©e'], // Check for keywords
        'q9': ['pratiquer une activit√© physique'],
        'q10': ['A', 'C'],
        'q11': ['d√©pense √©nerg√©tique', 'proche du repos', 'augmentation du poids', 'risques pour la sant√© cardiovasculaire'], // Check for keywords
        'q12': { 'q12_physique': ['q12_item_A', 'q12_item_D'], 'q12_mental': ['q12_item_B', 'q12_item_E', 'q12_item_F'], 'q12_social': ['q12_item_C'] }, // Drag/Drop multiple
        'q13': ['activit√© physique', 'muscles', 'd√©tendre', 'bien-√™tre mental'], // Check for keywords
        'q14_1': 'faire des pauses',
        'q14_2': 'bouger',
        'q15': ['q15_item_A', 'q15_item_C', 'q15_item_D'] // Drag/Drop multiple items to one zone
    };
    
    // Detailed corrections data (for display)
    const detailedCorrections = {
        'q1': { answer: 'A. Comportement √©veill√© g√©n√©rant une d√©pense √©nerg√©tique proche de celle au repos.', explanation: 'La s√©dentarit√© est le temps pass√© assis ou allong√© pendant les heures d\'√©veil (travail, transport, loisirs) [C2].' },
        'q2': { answer: 'assise et loisirs.', explanation: 'La s√©dentarit√© inclut le temps pass√© en position assise ou allong√©e, y compris pendant les loisirs devant un √©cran [C2].' },
        'q3': { answer: 'Le manque d‚Äôactivit√© physique chez 51% des Fran√ßais, li√© notamment √† un usage massif des √©crans. Cela menace le "capital sant√©" et augmente le risque de maladies.', explanation: 'Une bonne r√©ponse cite le manque d\'activit√© et ses cons√©quences sanitaires (maladies) et id√©alement le chiffre cl√© (51%) [C2].' },
        'q4': { answer: 'Syst√®me nerveux : D√©tecte le besoin du muscle... / Syst√®me cardiorespiratoire : Assure l\'apport en dioxyg√®ne ($\text{O}_2$)...', explanation: 'Le syst√®me nerveux donne l\'ordre et le syst√®me cardiorespiratoire s\'adapte pour acheminer le dioxyg√®ne [C3].' },
        'q5': { answer: '1. Augmentation de l\'activit√© musculaire (C) &rarr; 2. Besoins importants en $\text{O}_2$ et nutriments (A) &rarr; 3. Syst√®me nerveux d√©tecte et envoie un message (E) &rarr; 4. Syst√®me cardiorespiratoire augmente rythme cardiaque et respiratoire (B) &rarr; 5. Apport en $\text{O}_2$ et nutriments aux muscles (D).', explanation: 'La s√©quence est logique : le muscle bouge &rarr; il a besoin d\'√©nergie &rarr; le cerveau le sait &rarr; le c≈ìur et les poumons s\'acc√©l√®rent &rarr; l\'√©nergie est livr√©e [C3].' },
        'q6': { answer: 'Mod√©r√© (3-7h/j).', explanation: 'Passer 5 heures par jour dans un comportement s√©dentaire correspond au niveau Mod√©r√© de s√©dentarit√© [C2].' },
        'q7': { answer: 'circulation / dioxyg√®ne (ou $\text{O}_2$).', explanation: 'L\'acc√©l√©ration du c≈ìur augmente la circulation pour fournir le carburant (dioxyg√®ne et nutriments) aux muscles [C3].' },
        'q8': { answer: '1. Moins de 2 heures d‚Äô√©cran par jour. 2. Moins de 2 heures cons√©cutives en position assise ou allong√©e.', explanation: 'Ce sont les recommandations sp√©cifiques pour la tranche d\'√¢ge 12-17 ans pour r√©duire le temps s√©dentaire [C4].' },
        'q9': { answer: 'Il faut pratiquer une activit√© physique.', explanation: 'C\'est la solution principale et la plus concise. Accepter : Faire du sport r√©guli√®rement. [C4]' },
        'q10': { answer: 'A. Prendre les escaliers plut√¥t que l\'ascenseur. et C. Marcher au lieu de prendre la voiture pour les petits trajets.', explanation: 'Ces deux actions sont des exemples de solutions concr√®tes pour int√©grer l\'activit√© physique dans la vie quotidienne (et non des comportements s√©dentaires) [C4].' },
        'q11': { answer: 'La s√©dentarit√© g√©n√®re une d√©pense √©nerg√©tique proche de celle au repos, ce qui signifie que l\'√©nergie des aliments n\'est pas consomm√©e. Le manque d\'effort physique r√©gulier fragilise le c≈ìur et les vaisseaux, entra√Ænant une augmentation du poids, le diab√®te et l\'hypertension art√©rielle, qui sont des facteurs de risque de maladies cardiovasculaires (AVC).', explanation: 'La r√©ponse doit lier la faible d√©pense √©nerg√©tique au surpoids/maladies chroniques (Diab√®te, HTA) qui sont elles-m√™mes des causes de risques cardiovasculaires [C3].' },
        'q12': { answer: 'Physique : √ätre en meilleure forme, Se muscler / Mental : G√©rer son agressivit√©, Se d√©tendre, Am√©liorer la concentration / Social : Partager des moments forts.', explanation: 'La distinction des trois domaines de bien-√™tre est essentielle [C3].' },
        'q13': { answer: 'La natation est un excellent choix car elle combine les bienfaits physiques (elle permet de **se muscler** et d\'√™tre en **meilleure forme** - lutte contre la s√©dentarit√©) et les bienfaits mentaux (c\'est une activit√© qui **d√©tend** et aide √† g√©rer l\'agressivit√©). Elle contribue donc √† un **bien-√™tre complet**.', explanation: 'L\'argumentation doit mobiliser au moins deux notions de bien-√™tre (Physique et Mental) pour justifier le choix de cette activit√© [C5].' },
        'q14': { answer: 'faire des pauses et bouger.', explanation: 'L\'objectif √©tant de r√©duire le temps pass√© immobile, les pauses et le mouvement sont les solutions directes [C4].' },
        'q15': { answer: 'Diab√®te, Hypertension art√©rielle, Risques de cancers.', explanation: 'Les troubles de l\'audition sont li√©s au bruit, pas directement √† la s√©dentarit√© (mais aux risques professionnels/environnementaux). [C2]' }
    };


    function validateQuiz() {
        let score = 0;
        const form = document.getElementById('quiz-form');
        const correctionsDiv = document.getElementById('detailed-corrections');
        correctionsDiv.innerHTML = ''; // Clear previous corrections
        const notionsToReview = new Set();
        
        // Helper to check keywords in a string
        const checkKeywords = (text, keywords) => {
            let correct = 0;
            const normalizedText = text.toLowerCase().replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"");
            keywords.forEach(key => {
                if (normalizedText.includes(key.toLowerCase())) {
                    correct++;
                }
            });
            return correct;
        };

        // Iterate through all exercises
        document.querySelectorAll('.exercise').forEach(exercise => {
            const qNum = exercise.dataset.q;
            const comp = exercise.dataset.comp;
            const maxPoints = parseInt(exercise.dataset.points);
            let qScore = 0;
            let isCorrect = false;

            // Retrieve the response
            let response = {};
            if (qNum === '1' || qNum.startsWith('q10')) {
                response = Array.from(form.elements[qNum]).filter(input => input.checked).map(input => input.value);
                if (qNum === '1') response = response[0];
            } else if (qNum === '2' || qNum === '7' || qNum === '14') {
                response[`${qNum}_1`] = form.elements[`${qNum}_1`].value.trim().toLowerCase();
                if (form.elements[`${qNum}_2`]) {
                    response[`${qNum}_2`] = form.elements[`${qNum}_2`].value.trim().toLowerCase();
                }
            } else if (qNum === '3' || qNum === '8' || qNum === '11' || qNum === '13') {
                response = form.elements[qNum].value.trim();
            } else if (qNum === '6') {
                response = document.getElementById('q6-answer').value;
            } else if (qNum === '4' || qNum === '5' || qNum === '15') {
                response = {};
                exercise.querySelectorAll('.drop-zone').forEach(zone => {
                    response[zone.dataset.target] = zone.querySelector('.drag-item')?.id;
                });
            } else if (qNum === '12') {
                 response = {};
                 exercise.querySelectorAll('.drop-zone').forEach(zone => {
                    const fieldName = zone.dataset.target.split('_')[1];
                    response[fieldName] = response[fieldName] || [];
                    const droppedItem = zone.querySelector('.drag-item');
                    if (droppedItem) {
                        response[fieldName].push(droppedItem.id);
                    }
                });
            } else if (qNum === '9') {
                response = form.elements[qNum].value.trim();
            }

            // Check correctness and score calculation
            if (qNum === '1') {
                isCorrect = (response === answers[qNum]);
                if (isCorrect) qScore = maxPoints;
            } else if (qNum === '2' || qNum === '14') {
                isCorrect = (response[`${qNum}_1`] === answers[`${qNum}_1`] && response[`${qNum}_2`] === answers[`${qNum}_2`]);
                if (isCorrect) qScore = maxPoints;
            } else if (qNum === '7') {
                const correct1 = answers[`${qNum}_1`].includes(response[`${qNum}_1`]);
                const correct2 = answers[`${qNum}_2`].includes(response[`${qNum}_2`]);
                if (correct1 && correct2) {
                    qScore = maxPoints;
                    isCorrect = true;
                } else if (correct1 || correct2) {
                    qScore = maxPoints * 0.5;
                    isCorrect = qScore > 0;
                }
            } else if (qNum === '6') {
                isCorrect = (response === answers[qNum]);
                if (isCorrect) qScore = maxPoints;
            } else if (qNum === '10') {
                const correctResponses = answers[qNum];
                const studentResponses = response;
                // Check if all correct answers are selected and no incorrect ones
                isCorrect = correctResponses.every(val => studentResponses.includes(val)) && studentResponses.length === correctResponses.length;
                if (isCorrect) qScore = maxPoints;
            } else if (qNum === '4' || qNum === '5') {
                let correctDrops = 0;
                if (qNum === '4') {
                    if (response['q4_item_1'] === 'q4_item_1') correctDrops++; // Syst√®me nerveux
                    if (response['q4_item_2'] === 'q4_item_2') correctDrops++; // Syst√®me cardiorespiratoire
                } else if (qNum === '5') {
                    const hierarchy = answers['q5'];
                    const studentOrder = [response['q5_item_C'], response['q5_item_A'], response['q5_item_E'], response['q5_item_B'], response['q5_item_D']]; // Order of drop zones
                    if (studentOrder.every((id, index) => id === hierarchy[index])) correctDrops = maxPoints;
                    else {
                        // Partial scoring for Q5 based on sequential pairs (not implemented in the provided code logic, let's simplify)
                        qScore = (studentOrder.filter((id, index) => id === hierarchy[index]).length / hierarchy.length) * maxPoints;
                        correctDrops = qScore;
                    }
                }
                qScore = correctDrops;
                isCorrect = qScore === maxPoints;
            } else if (qNum === '15') {
                const correctItems = answers['q15'];
                const droppedItems = Object.values(response).filter(id => id).map(id => id);

                // Check if all correct items were dropped and no incorrect ones
                const allCorrectDropped = correctItems.every(item => droppedItems.includes(item));
                const noIncorrectDropped = droppedItems.every(item => correctItems.includes(item));
                
                if (allCorrectDropped && noIncorrectDropped && droppedItems.length === correctItems.length) {
                    qScore = maxPoints;
                    isCorrect = true;
                }
            } else if (qNum === '12') {
                let correctCount = 0;
                const totalItems = 6;
                // Simplified scoring: check if correct items are in the correct *category*
                const checkCategory = (category, correctItems) => {
                    const dropped = response[category] || [];
                    return correctItems.every(item => dropped.includes(item)) && dropped.every(item => correctItems.includes(item)) && dropped.length === correctItems.length;
                };

                if (checkCategory('physique', answers['q12']['q12_physique'])) correctCount += 2;
                if (checkCategory('mental', answers['q12']['q12_mental'])) correctCount += 3;
                if (checkCategory('social', answers['q12']['q12_social'])) correctCount += 1;
                
                qScore = (correctCount / totalItems) * maxPoints;
                isCorrect = qScore === maxPoints;
            } else if (qNum === '3' || qNum === '8' || qNum === '9' || qNum === '11' || qNum === '13') {
                const keywords = answers[qNum];
                const keywordCount = checkKeywords(response, keywords);
                
                if (qNum === '3') { // 2 Keywords expected (51% + manque d'AP)
                    qScore = (keywordCount / 2) * maxPoints;
                } else if (qNum === '8') { // 2 elements expected (2h √©cran + 2h assis)
                    let check1 = checkKeywords(response, ['moins de 2 heures d‚Äô√©cran']);
                    let check2 = checkKeywords(response, ['moins de 2 heures cons√©cutives', 'assis ou allong√©']);
                    if (check1 && check2) qScore = maxPoints;
                    else if (check1 || check2) qScore = maxPoints * 0.5;
                } else if (qNum === '9') { // 3-5 mots exacts (practiquer une activit√© physique)
                    if (checkKeywords(response, keywords)) qScore = maxPoints;
                } else if (qNum === '11') { // 4-5 keywords expected
                    qScore = (keywordCount / 4) * maxPoints;
                    if (qScore > maxPoints) qScore = maxPoints; // Max 3 points
                } else if (qNum === '13') { // 4 keywords expected
                    qScore = (keywordCount / 4) * maxPoints;
                    if (qScore > maxPoints) qScore = maxPoints; // Max 2 points
                }
                
                isCorrect = qScore >= maxPoints; // For open questions, isCorrect can be based on max score achieved
            }

            // Accumulate total score
            score += qScore;

            // Display feedback and corrections
            const feedbackDiv = exercise.querySelector('.feedback');
            feedbackDiv.textContent = isCorrect ? 'Bravo ! R√©ponse correcte.' : `√Ä revoir. Score obtenu: ${qScore.toFixed(1)} / ${maxPoints}`;
            feedbackDiv.className = `feedback ${isCorrect ? 'correct' : 'incorrect'}`;
            feedbackDiv.style.display = 'block';

            // Add correction item
            const correctionItem = document.createElement('div');
            correctionItem.className = `correction-item ${isCorrect ? 'correct-answer' : 'wrong-answer'}`;
            
            let studentAnswerDisplay = '';
            if (qNum === '4' || qNum === '5' || qNum === '12' || qNum === '15') {
                 studentAnswerDisplay = 'Voir votre association / hi√©rarchisation.';
            } else if (qNum === '6') {
                studentAnswerDisplay = `Votre s√©lection: ${response} (5 h/j)`;
            } else if (qNum === '7') {
                 studentAnswerDisplay = `Votre r√©ponse : Mot 1 - ${response[`${qNum}_1`]}, Mot 2 - ${response[`${qNum}_2`]}`;
            } else if (qNum === '2' || qNum === '14') {
                studentAnswerDisplay = `Vos choix : ${response[`${qNum}_1`]}, ${response[`${qNum}_2`]}`;
            } else if (qNum === '10') {
                 studentAnswerDisplay = `Vos choix : ${response.join(', ')}`;
            } else if (qNum === '9') {
                 studentAnswerDisplay = `Votre r√©ponse : ${response}`;
            }
            else {
                studentAnswerDisplay = `Votre r√©ponse : ${response.length > 100 ? response.substring(0, 100) + '...' : response}`;
            }

            correctionItem.innerHTML = `
                <h4>Question ${qNum} (${comp}) - ${qScore.toFixed(1)}/${maxPoints} pts</h4>
                <p>${studentAnswerDisplay}</p>
                <p><strong>Correction attendue:</strong> <span class="correct-answer-text">${detailedCorrections[qNum].answer}</span></p>
                <p><strong>Explication:</strong> ${detailedCorrections[qNum].explanation}</p>
            `;
            correctionsDiv.appendChild(correctionItem);

            // Populate notions to review
            if (!isCorrect) {
                notionsToReview.add(comp); // Add the general competence for weak score
                // Add specific keywords for open questions if score is very low
                if (qScore === 0 && (qNum === '3' || qNum === '8' || qNum === '11' || qNum === '13')) {
                     notionsToReview.add(detailedCorrections[qNum].explanation.split('.')[0].trim());
                }
            }
        });
        
        // Final Score Display
        const finalScore = Math.round(score);
        document.getElementById('final-score').textContent = `${finalScore} / 20`;
        
        // Final Review Suggestions
        let reviewText = 'Bravo, vous avez une bonne ma√Ætrise de ce module !';
        if (notionsToReview.size > 0) {
            reviewText = `Il est conseill√© de revoir les points suivants : <ul>`;
            notionsToReview.forEach(notion => {
                let notionDisplay = notion;
                if (notion === 'C2') notionDisplay = '**C2 : La d√©marche d\'analyse** (d√©finitions et rep√©rage des causes/cons√©quences)';
                if (notion === 'C3') notionDisplay = '**C3 : L\'explication des m√©canismes** (syst√®mes nerveux/cardiorespiratoire, bienfaits/risques)';
                if (notion === 'C4') notionDisplay = '**C4 : La proposition de solutions** (mesures concr√®tes anti-s√©dentarit√©)';
                if (notion === 'C5') notionDisplay = '**C5 : L\'argumentation d\'un choix** (justifier le "pourquoi" avec des faits)';
                if (notion.startsWith('Le manque d')) notionDisplay = 'La d√©finition pr√©cise de la s√©dentarit√© et ses cons√©quences.';
                reviewText += `<li>${notionDisplay}</li>`;
            });
            reviewText += '</ul>';
        }
        document.getElementById('revisions-needed').innerHTML = reviewText;

        // Navigate to correction page
        showPage(3);
    }

    function resetQuiz() {
        document.getElementById('quiz-form').reset();
        document.querySelectorAll('.feedback').forEach(f => f.style.display = 'none');
        document.querySelectorAll('.drag-item').forEach(item => {
            if (item.id.includes('q4_item')) document.getElementById('q4_drag').appendChild(item);
            if (item.id.includes('q5_item')) document.getElementById('q5_drag').appendChild(item);
            if (item.id.includes('q12_item')) document.getElementById('q12_drag').appendChild(item);
            if (item.id.includes('q15_item')) document.getElementById('q15_drag').appendChild(item);
        });
        document.querySelectorAll('.drop-zone').forEach(zone => {
            zone.style.backgroundColor = 'transparent';
            zone.removeAttribute('data-dropped-id');
            zone.innerHTML = zone.dataset.target.includes('q4') || zone.dataset.target.includes('q15') ? 'D√©poser ici' : (zone.dataset.target.includes('q5') ? `Ordre ${zone.dataset.target.slice(-1)}` : '');
        });

        // Reset Q12 hidden fields
        document.querySelectorAll('input[name^="q12_"]').forEach(input => input.remove());
        
        // Reset slider
        document.getElementById('sedentary-level').value = 0;
        updateSedentaryDisplay(0);

        showPage(1);
    }
    
    // Initialize drag and drop on page load
    document.addEventListener('DOMContentLoaded', () => {
        initializeDragDrop();
        updateSedentaryDisplay(0); // Set initial slider value
    });

</script>

</body>
</html>