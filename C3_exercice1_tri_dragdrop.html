<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module C3 ‚Äì Jeu de Tri des Pictogrammes</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6366f1;
            --obligation: #0ea5e9;
            --interdiction: #dc2626;
            --avertissement: #eab308;
            --incendie: #b91c1c;
            --secours: #16a34a;
            --success: #10b981;
            --danger: #ef4444;
            --dark: #1e293b;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #1e3a5f 0%, #0f172a 100%);
            min-height: 100vh;
            padding: 15px;
        }
        
        .container { max-width: 500px; margin: 0 auto; }
        
        .source-banner {
            background: rgba(255,255,255,0.1);
            padding: 6px 12px;
            border-radius: 8px;
            margin-bottom: 12px;
            text-align: center;
        }
        
        .source-banner a { color: rgba(255,255,255,0.8); font-size: 10px; text-decoration: none; }
        
        .screen { display: none; }
        .screen.active { display: block; }
        
        /* Intro */
        .intro-card {
            background: white;
            border-radius: 20px;
            padding: 30px 25px;
            text-align: center;
        }
        
        .intro-card h2 { font-size: 24px; margin-bottom: 12px; color: var(--dark); }
        .intro-card > p { color: #64748b; margin-bottom: 20px; font-size: 14px; }
        
        .objectif-box {
            background: linear-gradient(135deg, #e0e7ff, #c7d2fe);
            border-left: 4px solid var(--primary);
            padding: 12px 15px;
            border-radius: 0 10px 10px 0;
            text-align: left;
            margin-bottom: 20px;
        }
        
        .objectif-box strong { color: var(--primary); font-size: 10px; }
        .objectif-box p { font-size: 12px; margin-top: 5px; }
        
        .category-legend {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
            margin-bottom: 25px;
        }
        
        .legend-item {
            text-align: center;
            padding: 10px 5px;
            border-radius: 10px;
            background: #f8fafc;
        }
        
        .legend-item .icon { font-size: 20px; margin-bottom: 4px; }
        .legend-item .name { font-size: 8px; font-weight: 700; color: var(--dark); }
        
        .btn-start {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 50px;
            background: linear-gradient(135deg, var(--primary), #8b5cf6);
            color: white;
            font-family: inherit;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
        }
        
        /* Game */
        .game-card {
            background: white;
            border-radius: 20px;
            padding: 20px;
        }
        
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 12px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .game-header h3 { font-size: 14px; color: var(--dark); }
        
        .stats { display: flex; gap: 10px; }
        
        .stat {
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 700;
        }
        
        .stat.score { background: #fef3c7; color: #92400e; }
        .stat.progress { background: #dbeafe; color: #1e40af; }
        
        .progress-bar {
            height: 8px;
            background: #e2e8f0;
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), #8b5cf6);
            border-radius: 10px;
            transition: width 0.4s ease;
        }
        
        .picto-display {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .picto-display img {
            width: 120px;
            height: 120px;
            object-fit: contain;
            animation: popIn 0.4s ease;
        }
        
        @keyframes popIn {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .picto-display .name {
            font-size: 14px;
            font-weight: 700;
            color: var(--dark);
            margin-top: 10px;
        }
        
        .question {
            text-align: center;
            font-size: 15px;
            font-weight: 600;
            color: #475569;
            margin-bottom: 15px;
        }
        
        .category-buttons {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
        }
        
        .cat-btn {
            padding: 12px 5px;
            border: 3px solid #e2e8f0;
            border-radius: 12px;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        
        .cat-btn:active { transform: scale(0.95); }
        
        .cat-btn .icon { font-size: 22px; display: block; margin-bottom: 4px; }
        .cat-btn .name { font-size: 8px; font-weight: 700; color: var(--dark); }
        
        .cat-btn.obligation { border-color: var(--obligation); }
        .cat-btn.obligation:hover, .cat-btn.obligation:active { background: #e0f2fe; }
        
        .cat-btn.interdiction { border-color: var(--interdiction); }
        .cat-btn.interdiction:hover, .cat-btn.interdiction:active { background: #fee2e2; }
        
        .cat-btn.avertissement { border-color: var(--avertissement); }
        .cat-btn.avertissement:hover, .cat-btn.avertissement:active { background: #fef9c3; }
        
        .cat-btn.incendie { border-color: var(--incendie); }
        .cat-btn.incendie:hover, .cat-btn.incendie:active { background: #fee2e2; }
        
        .cat-btn.secours { border-color: var(--secours); }
        .cat-btn.secours:hover, .cat-btn.secours:active { background: #dcfce7; }
        
        .cat-btn.correct {
            background: #dcfce7 !important;
            border-color: var(--success) !important;
            animation: pulse 0.4s;
        }
        
        .cat-btn.wrong {
            background: #fee2e2 !important;
            border-color: var(--danger) !important;
            animation: shake 0.4s;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .feedback {
            text-align: center;
            padding: 12px;
            border-radius: 10px;
            margin-top: 15px;
            font-size: 14px;
            font-weight: 600;
            display: none;
        }
        
        .feedback.show { display: block; animation: fadeIn 0.3s; }
        .feedback.success { background: #dcfce7; color: #166534; }
        .feedback.error { background: #fee2e2; color: #991b1b; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Results */
        .results-card {
            background: white;
            border-radius: 20px;
            padding: 30px 25px;
            text-align: center;
        }
        
        .results-card .trophy { font-size: 70px; margin-bottom: 15px; }
        .results-card h2 { font-size: 24px; margin-bottom: 8px; color: var(--dark); }
        .results-card > p { color: #64748b; margin-bottom: 25px; font-size: 14px; }
        
        .results-stats {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-bottom: 25px;
        }
        
        .results-stats .stat-box { text-align: center; }
        .results-stats .stat-box .val { font-size: 32px; font-weight: 800; color: var(--primary); }
        .results-stats .stat-box .lbl { font-size: 11px; color: #64748b; }
        
        .btn-restart {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 50px;
            background: linear-gradient(135deg, var(--primary), #8b5cf6);
            color: white;
            font-family: inherit;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
        }
        
        @media (max-width: 400px) {
            .category-buttons { gap: 5px; }
            .cat-btn { padding: 10px 3px; }
            .cat-btn .icon { font-size: 18px; }
            .cat-btn .name { font-size: 7px; }
            .picto-display img { width: 100px; height: 100px; }
        }
    </style>
</head>
<body>
    
    <div class="container">
        
        <div class="source-banner">
            <a href="https://www.inrs.fr" target="_blank">üìö Source : INRS ‚Äì www.inrs.fr</a>
        </div>
        
        <!-- Intro -->
        <div class="screen active" id="intro-screen">
            <div class="intro-card">
                <h2>üß© Jeu de Tri</h2>
                <p>Classe chaque pictogramme dans sa cat√©gorie !</p>
                
                <div class="objectif-box">
                    <strong>üéØ OBJECTIF</strong>
                    <p>√ätre capable de <strong>classer</strong> les pictogrammes de s√©curit√© selon leur cat√©gorie.</p>
                </div>
                
                <div class="category-legend">
                    <div class="legend-item">
                        <div class="icon">üîµ</div>
                        <div class="name">Obligation</div>
                    </div>
                    <div class="legend-item">
                        <div class="icon">üî¥</div>
                        <div class="name">Interdiction</div>
                    </div>
                    <div class="legend-item">
                        <div class="icon">‚ö†Ô∏è</div>
                        <div class="name">Danger</div>
                    </div>
                    <div class="legend-item">
                        <div class="icon">üßØ</div>
                        <div class="name">Incendie</div>
                    </div>
                    <div class="legend-item">
                        <div class="icon">üü¢</div>
                        <div class="name">Secours</div>
                    </div>
                </div>
                
                <button class="btn-start" onclick="startGame()">Commencer üöÄ</button>
            </div>
        </div>
        
        <!-- Game -->
        <div class="screen" id="game-screen">
            <div class="game-card">
                <div class="game-header">
                    <h3>üß© O√π classer ?</h3>
                    <div class="stats">
                        <div class="stat score" id="score">0 pts</div>
                        <div class="stat progress" id="progress">1/15</div>
                    </div>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-bar" style="width: 6.66%;"></div>
                </div>
                
                <div class="picto-display">
                    <img id="current-picto" src="" alt="Pictogramme">
                    <div class="name" id="picto-name">Nom du pictogramme</div>
                </div>
                
                <div class="question">Dans quelle cat√©gorie ?</div>
                
                <div class="category-buttons" id="category-buttons">
                    <button class="cat-btn obligation" onclick="answer('obligation')">
                        <span class="icon">üîµ</span>
                        <span class="name">Obligation</span>
                    </button>
                    <button class="cat-btn interdiction" onclick="answer('interdiction')">
                        <span class="icon">üî¥</span>
                        <span class="name">Interdiction</span>
                    </button>
                    <button class="cat-btn avertissement" onclick="answer('avertissement')">
                        <span class="icon">‚ö†Ô∏è</span>
                        <span class="name">Danger</span>
                    </button>
                    <button class="cat-btn incendie" onclick="answer('incendie')">
                        <span class="icon">üßØ</span>
                        <span class="name">Incendie</span>
                    </button>
                    <button class="cat-btn secours" onclick="answer('secours')">
                        <span class="icon">üü¢</span>
                        <span class="name">Secours</span>
                    </button>
                </div>
                
                <div class="feedback" id="feedback"></div>
            </div>
        </div>
        
        <!-- Results -->
        <div class="screen" id="results-screen">
            <div class="results-card">
                <div class="trophy" id="trophy">üèÜ</div>
                <h2 id="results-title">Bravo !</h2>
                <p id="results-msg">Tu ma√Ætrises les cat√©gories !</p>
                
                <div class="results-stats">
                    <div class="stat-box">
                        <div class="val" id="final-score">0</div>
                        <div class="lbl">Points</div>
                    </div>
                    <div class="stat-box">
                        <div class="val" id="final-correct">0/15</div>
                        <div class="lbl">Bonnes r√©ponses</div>
                    </div>
                </div>
                
                <button class="btn-restart" onclick="restartGame()">üîÑ Rejouer</button>
            </div>
        </div>
        
    </div>
    
    <script>
        const pictograms = [
            { name: "Port des gants", image: "pictogrammes/images/OBLIGATION-gants.jpg", category: "obligation" },
            { name: "Port du casque", image: "pictogrammes/images/OBLIGATION-casque.jpg", category: "obligation" },
            { name: "Chaussures de s√©curit√©", image: "pictogrammes/images/OBLIGATION-chaussures.jpg", category: "obligation" },
            { name: "Lunettes de protection", image: "pictogrammes/images/OBLIGATION-lunettes.jpg", category: "obligation" },
            { name: "Protection auditive", image: "pictogrammes/images/OBLIGATION-casque-antibruit.jpg", category: "obligation" },
            { name: "Interdiction de fumer", image: "pictogrammes/images/INTERDIT-fumer.jpg", category: "interdiction" },
            { name: "Flamme interdite", image: "pictogrammes/images/INTERDIT-flamme.jpg", category: "interdiction" },
            { name: "Acc√®s interdit", image: "pictogrammes/images/INTERDIT-entrer.jpg", category: "interdiction" },
            { name: "Danger √©lectrique", image: "pictogrammes/images/DANGER-electricite.jpg", category: "avertissement" },
            { name: "Danger de chute", image: "pictogrammes/images/DANGER-chute.jpg", category: "avertissement" },
            { name: "Produit toxique", image: "pictogrammes/images/DANGER-produit-toxique.jpg", category: "avertissement" },
            { name: "Extincteur", image: "pictogrammes/images/INCENDIE-extincteur.jpg", category: "incendie" },
            { name: "Alarme incendie", image: "pictogrammes/images/INCENDIE-alarme.jpg", category: "incendie" },
            { name: "Sortie de secours", image: "pictogrammes/images/SECOURS-sortie-vers-droite.jpg", category: "secours" },
            { name: "Point de rassemblement", image: "pictogrammes/images/SECOURS-point-rassemblement.jpg", category: "secours" }
        ];
        
        let shuffled = [];
        let currentIndex = 0;
        let score = 0;
        let correctCount = 0;
        let canAnswer = true;
        
        function startGame() {
            document.getElementById('intro-screen').classList.remove('active');
            document.getElementById('game-screen').classList.add('active');
            
            shuffled = [...pictograms].sort(() => Math.random() - 0.5);
            currentIndex = 0;
            score = 0;
            correctCount = 0;
            
            loadPicto();
        }
        
        function loadPicto() {
            canAnswer = true;
            const picto = shuffled[currentIndex];
            
            document.getElementById('current-picto').src = picto.image;
            document.getElementById('picto-name').textContent = picto.name;
            document.getElementById('score').textContent = score + ' pts';
            document.getElementById('progress').textContent = (currentIndex + 1) + '/' + shuffled.length;
            document.getElementById('progress-bar').style.width = ((currentIndex + 1) / shuffled.length * 100) + '%';
            
            document.querySelectorAll('.cat-btn').forEach(btn => {
                btn.classList.remove('correct', 'wrong');
                btn.disabled = false;
            });
            
            document.getElementById('feedback').classList.remove('show', 'success', 'error');
        }
        
        function answer(category) {
            if (!canAnswer) return;
            canAnswer = false;
            
            const picto = shuffled[currentIndex];
            const btn = document.querySelector('.cat-btn.' + category);
            const correctBtn = document.querySelector('.cat-btn.' + picto.category);
            const feedback = document.getElementById('feedback');
            
            document.querySelectorAll('.cat-btn').forEach(b => b.disabled = true);
            
            if (category === picto.category) {
                btn.classList.add('correct');
                score += 10;
                correctCount++;
                feedback.textContent = '‚úÖ Bravo ! +10 points';
                feedback.className = 'feedback show success';
            } else {
                btn.classList.add('wrong');
                correctBtn.classList.add('correct');
                feedback.textContent = '‚ùå C\'√©tait : ' + getCategoryName(picto.category);
                feedback.className = 'feedback show error';
            }
            
            document.getElementById('score').textContent = score + ' pts';
            
            setTimeout(() => {
                currentIndex++;
                if (currentIndex < shuffled.length) {
                    loadPicto();
                } else {
                    showResults();
                }
            }, 1200);
        }
        
        function getCategoryName(cat) {
            const names = {
                obligation: 'Obligation üîµ',
                interdiction: 'Interdiction üî¥',
                avertissement: 'Danger ‚ö†Ô∏è',
                incendie: 'Incendie üßØ',
                secours: 'Secours üü¢'
            };
            return names[cat];
        }
        
        function showResults() {
            document.getElementById('game-screen').classList.remove('active');
            document.getElementById('results-screen').classList.add('active');
            
            document.getElementById('final-score').textContent = score;
            document.getElementById('final-correct').textContent = correctCount + '/' + shuffled.length;
            
            const pct = (correctCount / shuffled.length) * 100;
            
            if (pct === 100) {
                document.getElementById('trophy').textContent = 'üèÜ';
                document.getElementById('results-title').textContent = 'Parfait !';
                document.getElementById('results-msg').textContent = 'Tu ma√Ætrises toutes les cat√©gories !';
            } else if (pct >= 70) {
                document.getElementById('trophy').textContent = 'üåü';
                document.getElementById('results-title').textContent = 'Excellent !';
                document.getElementById('results-msg').textContent = 'Tr√®s bonne connaissance des cat√©gories !';
            } else {
                document.getElementById('trophy').textContent = 'üí™';
                document.getElementById('results-title').textContent = 'Continue !';
                document.getElementById('results-msg').textContent = 'R√©vise les formes et couleurs.';
            }
        }
        
        function restartGame() {
            document.getElementById('results-screen').classList.remove('active');
            document.getElementById('intro-screen').classList.add('active');
        }
    </script>
    
</body>
</html>
