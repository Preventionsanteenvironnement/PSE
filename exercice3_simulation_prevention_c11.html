<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module C11 - Simulation Pr√©vention Professionnelle - Terminale Bac Pro</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=OpenDyslexic:wght@400;700&display=swap');
        
        :root {
            --primary-pse: #2E86AB;
            --secondary-pse: #A23B72;
            --success-pse: #219653;
            --warning-pse: #F2994A;
            --danger-pse: #EB5757;
            --dark-pse: #2F3542;
            --light-pse: #F1F2F6;
            --gradient-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: var(--gradient-bg);
            min-height: 100vh;
            color: var(--dark-pse);
            line-height: 1.6;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px;
        }

        .cadre-pedagogique {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border: 3px solid var(--primary-pse);
            box-shadow: 0 10px 30px rgba(46, 134, 171, 0.3);
        }

        .cadre-pedagogique h2 {
            color: var(--primary-pse);
            font-size: 1.8rem;
            font-weight: 600;
            text-align: center;
            margin-bottom: 20px;
        }

        .module-info .objectif {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            padding: 15px;
            border-radius: 10px;
            border-left: 5px solid var(--primary-pse);
            margin-bottom: 20px;
        }

        .competences-travaillees {
            background: linear-gradient(135deg, #f3e5f5, #e1bee7);
            padding: 15px;
            border-radius: 10px;
            border-left: 5px solid var(--secondary-pse);
            margin-bottom: 15px;
        }

        .competences-list {
            list-style: none;
            padding-left: 20px;
        }

        .competences-list li {
            margin: 8px 0;
            padding: 5px 0;
        }

        .competence-c4 { border-left: 5px solid #F39C12; padding-left: 10px; }
        .competence-c5 { border-left: 5px solid #9B59B6; padding-left: 10px; }
        .competence-c6 { border-left: 5px solid #1ABC9C; padding-left: 10px; }

        .niveau-cible {
            text-align: center;
            font-weight: 600;
            color: var(--dark-pse);
            background: var(--warning-pse);
            padding: 10px;
            border-radius: 25px;
            color: white;
        }

        .exercice-container {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .section-title {
            background: var(--gradient-bg);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            font-size: 1.3rem;
            font-weight: 600;
            text-align: center;
            margin-bottom: 20px;
        }

        .situation-box {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            border: 2px solid var(--warning-pse);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
        }

        .situation-box::before {
            content: "üìã";
            font-size: 1.5rem;
            position: absolute;
            top: -10px;
            left: 20px;
            background: white;
            padding: 0 10px;
        }

        .role-play-container {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c8);
            border: 2px solid var(--success-pse);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
        }

        .role-play-container::before {
            content: "üé≠";
            font-size: 1.5rem;
            position: absolute;
            top: -10px;
            left: 20px;
            background: white;
            padding: 0 10px;
        }

        .prevention-pyramid {
            background: linear-gradient(135deg, #f0f4f8, #e2e8f0);
            border: 2px solid var(--primary-pse);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
        }

        .prevention-level {
            margin: 15px 0;
            padding: 15px;
            border-radius: 10px;
            border-left: 5px solid var(--primary-pse);
        }

        .prevention-level-1 {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c8);
            border-left-color: var(--success-pse);
        }

        .prevention-level-2 {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            border-left-color: var(--warning-pse);
        }

        .prevention-level-3 {
            background: linear-gradient(135deg, #ffebee, #ffcdd2);
            border-left-color: var(--danger-pse);
        }

        .prevention-level h4 {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .ranking-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 20px 0;
        }

        .ranking-item {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            user-select: none;
        }

        .ranking-item:hover {
            border-color: var(--primary-pse);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 134, 171, 0.2);
        }

        .ranking-item.selected {
            border-color: var(--primary-pse);
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
        }

        .ranking-item .rank-number {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary-pse);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .ranking-item.ranked .rank-number {
            opacity: 1;
        }

        .question-container {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid var(--primary-pse);
        }

        .question-title {
            font-weight: 600;
            color: var(--primary-pse);
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .options-container {
            display: grid;
            gap: 10px;
            margin: 15px 0;
        }

        .option-item {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .option-item:hover {
            border-color: var(--primary-pse);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 134, 171, 0.2);
        }

        .option-item.selected {
            border-color: var(--primary-pse);
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
        }

        .option-item.correct {
            border-color: var(--success-pse);
            background: linear-gradient(135deg, #e8f5e8, #c8e6c8);
        }

        .option-item.incorrect {
            border-color: var(--danger-pse);
            background: linear-gradient(135deg, #ffebee, #ffcdd2);
        }

        .btn {
            background: var(--primary-pse);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        .btn:hover {
            background: var(--secondary-pse);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(162, 59, 114, 0.3);
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .feedback-container {
            margin: 20px 0;
            padding: 20px;
            border-radius: 10px;
            display: none;
        }

        .feedback-success {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c8);
            border: 2px solid var(--success-pse);
        }

        .feedback-error {
            background: linear-gradient(135deg, #ffebee, #ffcdd2);
            border: 2px solid var(--danger-pse);
        }

        .explanation {
            background: linear-gradient(135deg, #f0f4f8, #e2e8f0);
            padding: 15px;
            border-radius: 10px;
            border-left: 5px solid var(--primary-pse);
            margin-top: 15px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success-pse), var(--primary-pse));
            border-radius: 4px;
            transition: width 0.5s ease;
            width: 0%;
        }

        .competence-badge {
            display: inline-block;
            padding: 5px 10px;
            background: var(--primary-pse);
            color: white;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            margin: 2px;
        }

        .instructions-interaction {
            background: linear-gradient(135deg, #fff9c4, #f9f7b6);
            border: 2px solid var(--warning-pse);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
        }

        .rgpd-notice {
            text-align: center;
            padding: 15px;
            background: var(--dark-pse);
            color: white;
            border-radius: 10px;
            margin-top: 30px;
            font-size: 0.9rem;
        }

        .definition-box {
            background: linear-gradient(135deg, #e1f5fe, #b3e5fc);
            border: 2px solid var(--primary-pse);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
        }

        .definition-box h4 {
            color: var(--primary-pse);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .argument-builder {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            border: 2px solid var(--warning-pse);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .argument-step {
            margin: 15px 0;
            padding: 15px;
            border-radius: 8px;
            background: white;
            border: 1px solid #ddd;
        }

        .argument-step h4 {
            color: var(--secondary-pse);
            margin-bottom: 10px;
        }

        .text-input {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: inherit;
            font-size: 0.9rem;
            transition: border-color 0.3s ease;
            resize: vertical;
            min-height: 60px;
        }

        .text-input:focus {
            border-color: var(--primary-pse);
            outline: none;
        }

        .communication-scenario {
            background: linear-gradient(135deg, #f3e5f5, #e1bee7);
            border: 2px solid var(--secondary-pse);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
        }

        .communication-scenario::before {
            content: "üí¨";
            font-size: 1.5rem;
            position: absolute;
            top: -10px;
            left: 20px;
            background: white;
            padding: 0 10px;
        }

        @media (max-width: 768px) {
            .container { padding: 10px; }
            .cadre-pedagogique { padding: 15px; }
            .cadre-pedagogique h2 { font-size: 1.4rem; }
            .btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
            .ranking-item .rank-number {
                width: 25px;
                height: 25px;
                font-size: 0.8rem;
            }
        }

        .font-dyslexie {
            font-family: 'OpenDyslexic', sans-serif;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- EN-T√äTE P√âDAGOGIQUE OBLIGATOIRE -->
        <div class="cadre-pedagogique">
            <div class="module-info">
                <h2>Module C11 : L'analyse d'une situation de travail</h2>
                <div class="objectif">
                    <strong>Objectif :</strong> Proposer et argumenter des mesures de pr√©vention adapt√©es √† une situation de travail, puis communiquer efficacement ces solutions
                </div>
            </div>
            
            <div class="competences-travaillees">
                <h3>Comp√©tences travaill√©es dans cet exercice :</h3>
                <ul class="competences-list">
                    <li class="competence-c4"><strong>C4</strong> - Proposer une solution pour r√©soudre un probl√®me</li>
                    <li class="competence-c5"><strong>C5</strong> - Argumenter un choix</li>
                    <li class="competence-c6"><strong>C6</strong> - Communiquer √† l'√©crit et √† l'oral avec une syntaxe claire et un vocabulaire adapt√©</li>
                </ul>
            </div>
            
            <div class="niveau-cible">
                <strong>Niveau :</strong> Bac Pro Terminale
            </div>
        </div>

        <div class="exercice-container">
            <div class="section-title">
                üé≠ Simulation Pr√©vention Professionnelle
            </div>

            <div class="instructions-interaction">
                <h5>üéØ INSTRUCTIONS :</h5>
                <p><strong>1.</strong> Analysez chaque situation professionnelle<br>
                <strong>2.</strong> Proposez des mesures de pr√©vention hi√©rarchis√©es<br>
                <strong>3.</strong> Argumentez vos choix avec vocabulaire professionnel<br>
                <strong>4.</strong> Communiquez efficacement vos recommandations !</p>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div style="text-align: center; margin-bottom: 20px;">
                <span id="progress-text">Situation 1/8</span>
            </div>

            <!-- PARTIE 1: SITUATION FLORIAN -->
            <div id="situation1" class="question-container">
                <div class="question-title">
                    <span class="competence-badge">C4</span>
                    Situation 1 - Florian : Proposer des mesures de pr√©vention
                </div>

                <div class="situation-box">
                    <h4>üìã SITUATION : FLORIAN - BOUCHER</h4>
                    <p><strong>Florian</strong>, 28 ans, 1,87 m, Bac Pro Boucher-charcutier-traiteur, travaille au poste de d√©coupe depuis 3 ans (6h-14h, lundi-vendredi).</p>
                    <p>Il <strong>d√©nerre et pare</strong> des morceaux de b≈ìuf : saisit la viande main droite <strong>bras tendu horizontal</strong>, la pose sur table par flexion du bras, la maintient main gauche <strong>dos courb√©</strong>.</p>
                    <p>Avec un couteau, il effectue des <strong>mouvements r√©p√©t√©s du poignet, bras et √©paule</strong> pour retirer graisse/nerfs, <strong>dos courb√©</strong>. Il souffre de <strong>douleurs membre sup√©rieur droit et dos</strong>.</p>
                </div>

                <div class="definition-box">
                    <h4>üîç SIGLES PROFESSIONNELS :</h4>
                    <p><strong>PRAP</strong> = Pr√©vention des Risques li√©s √† l'Activit√© Physique</p>
                    <p><strong>EPI</strong> = √âquipement de Protection Individuelle</p>
                    <p><strong>INRS</strong> = Institut National de Recherche et de S√©curit√©</p>
                    <p><strong>TMS</strong> = Troubles Musculo-Squelettiques</p>
                </div>

                <div class="prevention-pyramid">
                    <h4 style="text-align: center; color: var(--primary-pse); margin-bottom: 20px;">üèóÔ∏è Pyramide de Pr√©vention (du plus efficace au moins efficace)</h4>
                    
                    <div class="prevention-level prevention-level-1">
                        <h4>üéØ NIVEAU 1 - Suppression/R√©duction du risque</h4>
                        <p>Agir sur les causes √† la source : mat√©riel, organisation, environnement</p>
                    </div>
                    
                    <div class="prevention-level prevention-level-2">
                        <h4>üõ°Ô∏è NIVEAU 2 - Protection collective/individuelle</h4>
                        <p>Prot√©ger quand la suppression n'est pas possible</p>
                    </div>
                    
                    <div class="prevention-level prevention-level-3">
                        <h4>üìö NIVEAU 3 - Formation/Information</h4>
                        <p>Sensibiliser et former aux bonnes pratiques</p>
                    </div>
                </div>

                <p><strong>Quelle mesure de NIVEAU 1 (plus efficace) proposez-vous en priorit√© pour Florian ?</strong></p>

                <div class="options-container">
                    <div class="option-item" data-value="a">
                        <strong>A)</strong> Formation PRAP pour apprendre les bons gestes et postures
                    </div>
                    <div class="option-item" data-value="b">
                        <strong>B)</strong> Port d'EPI adapt√©s (gants anti-coupure, tablier ergonomique)
                    </div>
                    <div class="option-item" data-value="c">
                        <strong>C)</strong> Ergonomie du poste : hauteur de table adapt√©e √† sa taille (1,87 m)
                    </div>
                    <div class="option-item" data-value="d">
                        <strong>D)</strong> Rotation des postes pour r√©duire la r√©p√©titivit√© des gestes
                    </div>
                </div>

                <button class="btn" onclick="validateSituation(1, 'c')">Valider ma proposition</button>
                
                <div id="feedback1" class="feedback-container"></div>
            </div>

            <!-- PARTIE 2: HI√âRARCHISATION MESURES FLORIAN -->
            <div id="situation2" class="question-container" style="display: none;">
                <div class="question-title">
                    <span class="competence-badge">C4</span>
                    Situation 2 - Florian : Hi√©rarchiser les mesures de pr√©vention
                </div>

                <p><strong>Classez ces mesures de pr√©vention pour Florian du PLUS efficace (1) au MOINS efficace (5) :</strong></p>

                <div class="ranking-container">
                    <div class="ranking-item" data-rank="2" data-id="measure1">
                        <strong>Aide m√©canique √† la manutention</strong> (table r√©glable, support viande)
                        <div class="rank-number">?</div>
                    </div>
                    <div class="ranking-item" data-rank="5" data-id="measure2">
                        <strong>Formation PRAP</strong> aux gestes et postures
                        <div class="rank-number">?</div>
                    </div>
                    <div class="ranking-item" data-rank="1" data-id="measure3">
                        <strong>Ergonomie du poste</strong> (hauteur table adapt√©e)
                        <div class="rank-number">?</div>
                    </div>
                    <div class="ranking-item" data-rank="3" data-id="measure4">
                        <strong>Rotation des postes</strong> pour limiter r√©p√©titivit√©
                        <div class="rank-number">?</div>
                    </div>
                    <div class="ranking-item" data-rank="4" data-id="measure5">
                        <strong>EPI adapt√©s</strong> (gants anti-coupure, cotte mailles)
                        <div class="rank-number">?</div>
                    </div>
                </div>

                <button class="btn" onclick="validateRanking(2)">Valider ma hi√©rarchisation</button>
                
                <div id="feedback2" class="feedback-container"></div>
            </div>

            <!-- PARTIE 3: JEU DE R√îLE - RESPONSABLE PR√âVENTION -->
            <div id="situation3" class="question-container" style="display: none;">
                <div class="question-title">
                    <span class="competence-badge">C5</span>
                    Situation 3 - Jeu de r√¥le : Vous √™tes Responsable Pr√©vention
                </div>

                <div class="role-play-container">
                    <h4>üé≠ VOTRE R√îLE</h4>
                    <p>Vous √™tes <strong>Responsable Pr√©vention</strong> dans l'entreprise de Florian. Le directeur vous demande : <em>"Pourquoi investir dans l'ergonomie du poste plut√¥t que simplement former les salari√©s aux bons gestes ?"</em></p>
                </div>

                <p><strong>Choisissez l'argumentation la plus professionnelle et convaincante :</strong></p>

                <div class="options-container">
                    <div class="option-item" data-value="a">
                        <strong>A)</strong> "L'ergonomie c'est moderne, √ßa am√©liore notre image d'entreprise innovante."
                    </div>
                    <div class="option-item" data-value="b">
                        <strong>B)</strong> "Selon la hi√©rarchie de pr√©vention, modifier les postes (niveau 1) est plus efficace et durable que former aux compensations (niveau 3). L'ergonomie supprime le risque √† la source."
                    </div>
                    <div class="option-item" data-value="c">
                        <strong>C)</strong> "C'est moins cher √† long terme et les salari√©s pr√©f√®rent les nouveaux √©quipements."
                    </div>
                    <div class="option-item" data-value="d">
                        <strong>D)</strong> "La formation ne marche jamais, les salari√©s oublient rapidement les consignes."
                    </div>
                </div>

                <button class="btn" onclick="validateSituation(3, 'b')">Valider mon argumentation</button>
                
                <div id="feedback3" class="feedback-container"></div>
            </div>

            <!-- PARTIE 4: SITUATION NOUVEL ATELIER -->
            <div id="situation4" class="question-container" style="display: none;">
                <div class="question-title">
                    <span class="competence-badge">C4</span>
                    Situation 4 - Conception nouvel atelier de logistique
                </div>

                <div class="situation-box">
                    <h4>üìã NOUVEAU PROJET</h4>
                    <p>Votre entreprise cr√©e un <strong>nouvel atelier de logistique</strong>. Vous devez conseiller l'architecte pour concevoir des postes ergonomiques.</p>
                    <p><strong>Contraintes :</strong> Manipulation quotidienne de colis 5-15 kg, √©quipes de tailles vari√©es (1,60 m √† 1,95 m), travail post√© 2√ó8, objectif : 0 TMS.</p>
                </div>

                <p><strong>Quelle recommandation technique prioritaire pour la conception ?</strong></p>

                <div class="options-container">
                    <div class="option-item" data-value="a">
                        <strong>A)</strong> Plans de travail r√©glables en hauteur (adaptatifs aux diff√©rentes tailles)
                    </div>
                    <div class="option-item" data-value="b">
                        <strong>B)</strong> √âclairage LED haute performance pour r√©duire la fatigue visuelle
                    </div>
                    <div class="option-item" data-value="c">
                        <strong>C)</strong> Climatisation renforc√©e pour am√©liorer le confort thermique
                    </div>
                    <div class="option-item" data-value="d">
                        <strong>D)</strong> Espaces de pause √©quip√©s pour favoriser la r√©cup√©ration
                    </div>
                </div>

                <button class="btn" onclick="validateSituation(4, 'a')">Valider ma recommandation</button>
                
                <div id="feedback4" class="feedback-container"></div>
            </div>

            <!-- PARTIE 5: ARGUMENTATION √âCRITE -->
            <div id="situation5" class="question-container" style="display: none;">
                <div class="question-title">
                    <span class="competence-badge">C5</span>
                    Situation 5 - Argumentaire √©crit professionnel
                </div>

                <div class="communication-scenario">
                    <h4>üíº MISSION PROFESSIONNELLE</h4>
                    <p>R√©digez une <strong>note de service argument√©e</strong> pour convaincre la direction d'investir dans des <strong>exosquelettes</strong> pour l'√©quipe de Cl√©ment (poin√ßonnage).</p>
                </div>

                <div class="argument-builder">
                    <div class="argument-step">
                        <h4>1Ô∏è‚É£ Contexte et probl√©matique</h4>
                        <textarea class="text-input" id="arg-contexte" placeholder="Pr√©sentez la situation actuelle et les probl√®mes identifi√©s..."></textarea>
                    </div>

                    <div class="argument-step">
                        <h4>2Ô∏è‚É£ Solution propos√©e</h4>
                        <textarea class="text-input" id="arg-solution" placeholder="D√©crivez pr√©cis√©ment votre proposition..."></textarea>
                    </div>

                    <div class="argument-step">
                        <h4>3Ô∏è‚É£ Arguments (co√ªt/b√©n√©fice)</h4>
                        <textarea class="text-input" id="arg-benefice" placeholder="Justifiez l'investissement (sant√©, productivit√©, co√ªts √©vit√©s...)"></textarea>
                    </div>

                    <div class="argument-step">
                        <h4>4Ô∏è‚É£ Conclusion et demande</h4>
                        <textarea class="text-input" id="arg-conclusion" placeholder="Formulez votre demande d'autorisation/budget..."></textarea>
                    </div>
                </div>

                <button class="btn" onclick="validateArgument(5)">Valider mon argumentaire</button>
                
                <div id="feedback5" class="feedback-container"></div>
            </div>

            <!-- PARTIE 6: COMMUNICATION ORALE -->
            <div id="situation6" class="question-container" style="display: none;">
                <div class="question-title">
                    <span class="competence-badge">C6</span>
                    Situation 6 - Communication orale : Pr√©sentation √©quipe
                </div>

                <div class="role-play-container">
                    <h4>üé§ SITUATION ORALE</h4>
                    <p>Vous devez pr√©senter les <strong>mesures de pr√©vention</strong> adopt√©es √† l'√©quipe de Florian lors de la r√©union s√©curit√© mensuelle.</p>
                    <p><strong>Public :</strong> 12 bouchers, niveau CAP/Bac Pro, √¢g√©s de 25 √† 55 ans</p>
                </div>

                <p><strong>Quelle structure de pr√©sentation est la plus adapt√©e √† ce public ?</strong></p>

                <div class="options-container">
                    <div class="option-item" data-value="a">
                        <strong>A)</strong> 1-Th√©orie ergonomique ‚Üí 2-R√©glementation ‚Üí 3-Application pratique
                    </div>
                    <div class="option-item" data-value="b">
                        <strong>B)</strong> 1-Constats terrains ‚Üí 2-Solutions concr√®tes ‚Üí 3-B√©n√©fices personnels ‚Üí 4-Questions/√©changes
                    </div>
                    <div class="option-item" data-value="c">
                        <strong>C)</strong> 1-Statistiques TMS secteur ‚Üí 2-Obligations l√©gales ‚Üí 3-Sanctions possibles
                    </div>
                    <div class="option-item" data-value="d">
                        <strong>D)</strong> 1-Pr√©sentation g√©n√©rale entreprise ‚Üí 2-Politique qualit√© ‚Üí 3-Objectifs production
                    </div>
                </div>

                <button class="btn" onclick="validateSituation(6, 'b')">Valider ma structure</button>
                
                <div id="feedback6" class="feedback-container"></div>
            </div>

            <!-- PARTIE 7: VOCABULAIRE PROFESSIONNEL -->
            <div id="situation7" class="question-container" style="display: none;">
                <div class="question-title">
                    <span class="competence-badge">C6</span>
                    Situation 7 - Ma√Ætrise du vocabulaire professionnel PSE
                </div>

                <div class="definition-box">
                    <h4>üìù TEST VOCABULAIRE PROFESSIONNEL</h4>
                    <p>La ma√Ætrise du vocabulaire technique est essentielle pour communiquer efficacement en milieu professionnel.</p>
                </div>

                <p><strong>Associez chaque terme √† sa d√©finition exacte :</strong></p>

                <div class="options-container">
                    <div class="option-item" data-value="a">
                        <strong>A) D√©terminants op√©rateur :</strong> √âl√©ments caract√©risant l'entreprise (mat√©riel, organisation)
                    </div>
                    <div class="option-item" data-value="b">
                        <strong>B) Effet multifactoriel :</strong> Cons√©quence r√©sultant de plusieurs causes simultan√©es
                    </div>
                    <div class="option-item" data-value="c">
                        <strong>C) Travail prescrit :</strong> Travail tel qu'il se r√©alise effectivement
                    </div>
                    <div class="option-item" data-value="d">
                        <strong>D) Activit√© r√©elle :</strong> Actions physiques et mentales pour accomplir une t√¢che
                    </div>
                </div>

                <p><strong>S√©lectionnez les 2 d√©finitions CORRECTES :</strong></p>

                <button class="btn" onclick="validateMultiple(7, ['b', 'd'])">Valider mes choix</button>
                
                <div id="feedback7" class="feedback-container"></div>
            </div>

            <!-- PARTIE 8: SYNTH√àSE PROFESSIONNELLE -->
            <div id="situation8" class="question-container" style="display: none;">
                <div class="question-title">
                    <span class="competence-badge">C6</span>
                    Situation 8 - Synth√®se : Communication professionnelle int√©gr√©e
                </div>

                <div class="communication-scenario">
                    <h4>üìä MISSION FINALE</h4>
                    <p>Le <strong>CSE</strong> (Comit√© Social et √âconomique) vous demande un <strong>rapport de synth√®se</strong> sur les actions de pr√©vention men√©es suite aux analyses ergonomiques.</p>
                </div>

                <div class="definition-box">
                    <h4>üîç SIGLES DU RAPPORT :</h4>
                    <p><strong>CSE</strong> = Comit√© Social et √âconomique</p>
                    <p><strong>PFMP</strong> = P√©riode de Formation en Milieu Professionnel</p>
                    <p><strong>CCF</strong> = Contr√¥le en Cours de Formation</p>
                </div>

                <p><strong>Quelle structure de rapport professionnel respecte les standards PSE ?</strong></p>

                <div class="options-container">
                    <div class="option-item" data-value="a">
                        <strong>A)</strong> 1-Probl√©matiques identifi√©es ‚Üí 2-Analyses men√©es ‚Üí 3-Solutions mises en ≈ìuvre ‚Üí 4-R√©sultats obtenus ‚Üí 5-Recommandations
                    </div>
                    <div class="option-item" data-value="b">
                        <strong>B)</strong> 1-Historique entreprise ‚Üí 2-Pr√©sentation √©quipes ‚Üí 3-Mat√©riel utilis√© ‚Üí 4-Conclusions personnelles
                    </div>
                    <div class="option-item" data-value="c">
                        <strong>C)</strong> 1-Th√©ories ergonomiques ‚Üí 2-R√©glementations ‚Üí 3-Benchmarking concurrence ‚Üí 4-Perspectives d'avenir
                    </div>
                    <div class="option-item" data-value="d">
                        <strong>D)</strong> 1-Opinions personnelles ‚Üí 2-Impressions g√©n√©rales ‚Üí 3-Suggestions diverses ‚Üí 4-Remerciements
                    </div>
                </div>

                <button class="btn" onclick="validateSituation(8, 'a')">Finaliser la simulation</button>
                
                <div id="feedback8" class="feedback-container"></div>
            </div>

            <!-- RESULTS -->
            <div id="final-results" class="exercice-container" style="display: none;">
                <div class="section-title">
                    üé≠ Simulation Pr√©vention Professionnelle Compl√©t√©e !
                </div>
                
                <div id="competence-summary" class="definition-box">
                    <h4>üìä Bilan par Comp√©tence</h4>
                    <div id="competence-details"></div>
                </div>

                <div class="explanation">
                    <h4>üí° Points Cl√©s de la Pr√©vention Professionnelle</h4>
                    <ul>
                        <li><strong>Hi√©rarchie pr√©vention</strong> : 1-Suppression/r√©duction ‚Üí 2-Protection ‚Üí 3-Formation</li>
                        <li><strong>Efficacit√© mesures</strong> : Agir √† la source > Prot√©ger > Former</li>
                        <li><strong>Argumentation</strong> : Contexte ‚Üí Solution ‚Üí B√©n√©fices ‚Üí Demande</li>
                        <li><strong>Communication adapt√©e</strong> : Public, objectifs, vocabulaire professionnel</li>
                        <li><strong>Approche globale</strong> : Technique + √©conomique + humaine</li>
                        <li><strong>Vocabulaire PSE</strong> : Ma√Ætrise terminologie pour cr√©dibilit√© professionnelle</li>
                    </ul>
                </div>

                <div class="prevention-pyramid">
                    <h4 style="text-align: center; color: var(--primary-pse);">üéØ M√©thodo Pr√©vention pour l'√âpreuve</h4>
                    <div class="prevention-level prevention-level-1">
                        <strong>TOUJOURS proposer d'ABORD :</strong> Modifications techniques, organisationnelles
                    </div>
                    <div class="prevention-level prevention-level-2">
                        <strong>PUIS compl√©ter par :</strong> Protections collectives et individuelles
                    </div>
                    <div class="prevention-level prevention-level-3">
                        <strong>ENFIN :</strong> Formation, sensibilisation, information
                    </div>
                </div>

                <div class="argument-builder">
                    <h4>üìù Structure Argumentation √âpreuve :</h4>
                    <p><strong>1-CONTEXTE :</strong> Situation observ√©e, probl√®mes identifi√©s</p>
                    <p><strong>2-SOLUTION :</strong> Mesure propos√©e, niveau de pr√©vention</p>
                    <p><strong>3-JUSTIFICATION :</strong> Pourquoi cette solution (efficacit√©, co√ªt, faisabilit√©)</p>
                    <p><strong>4-B√âN√âFICES :</strong> Am√©lioration sant√© + performance + √©conomie</p>
                    <p><strong>5-CONCLUSION :</strong> Recommandation claire et pr√©cise</p>
                </div>

                <button class="btn" onclick="location.reload()">Recommencer la simulation</button>
            </div>
        </div>

        <div class="rgpd-notice">
            üîí Conformit√© RGPD : Cet exercice respecte votre anonymat.
        </div>
    </div>

    <script>
        let currentSituation = 1;
        let totalSituations = 8;
        let score = { correct: 0, total: 0 };
        let competenceTracking = { C4: { correct: 0, total: 0 }, C5: { correct: 0, total: 0 }, C6: { correct: 0, total: 0 } };
        let rankingOrder = [];

        // Initialize exercise
        function initExercise() {
            updateProgress();
            setupClickSelection();
            setupRanking();
        }

        // Update progress bar
        function updateProgress() {
            const progressPercent = ((currentSituation - 1) / totalSituations) * 100;
            document.getElementById('progress-fill').style.width = progressPercent + '%';
            document.getElementById('progress-text').textContent = `Situation ${currentSituation}/${totalSituations}`;
        }

        // Setup click selection
        function setupClickSelection() {
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('option-item')) {
                    const parent = e.target.parentElement;
                    const isMultiple = parent.parentElement.querySelector('.btn[onclick*="validateMultiple"]');
                    
                    if (isMultiple) {
                        e.target.classList.toggle('selected');
                    } else {
                        parent.querySelectorAll('.option-item').forEach(item => item.classList.remove('selected'));
                        e.target.classList.add('selected');
                    }
                }
            });
        }

        // Setup ranking functionality
        function setupRanking() {
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('ranking-item') || e.target.parentElement.classList.contains('ranking-item')) {
                    const item = e.target.classList.contains('ranking-item') ? e.target : e.target.parentElement;
                    
                    if (item.classList.contains('ranked')) {
                        // Remove ranking
                        item.classList.remove('ranked');
                        const index = rankingOrder.indexOf(item.dataset.id);
                        if (index > -1) rankingOrder.splice(index, 1);
                    } else {
                        // Add ranking
                        if (rankingOrder.length < 5) {
                            item.classList.add('ranked');
                            rankingOrder.push(item.dataset.id);
                        } else {
                            alert('Vous avez d√©j√† class√© 5 √©l√©ments. Cliquez sur un √©l√©ment class√© pour le retirer du classement.');
                            return;
                        }
                    }
                    
                    updateRankingDisplay();
                }
            });
        }

        // Update ranking display
        function updateRankingDisplay() {
            rankingOrder.forEach((id, index) => {
                const item = document.querySelector(`[data-id="${id}"]`);
                const rankNumber = item.querySelector('.rank-number');
                rankNumber.textContent = index + 1;
            });
        }

        // Validate single choice situation
        function validateSituation(situationNum, correctAnswer) {
            const selectedOption = document.querySelector(`#situation${situationNum} .option-item.selected`);
            if (!selectedOption) {
                alert('Veuillez s√©lectionner une r√©ponse !');
                return;
            }

            const selectedValue = selectedOption.dataset.value;
            const isCorrect = selectedValue === correctAnswer;
            
            updateScore(situationNum, isCorrect);
            showSituationFeedback(situationNum, isCorrect, selectedValue, correctAnswer);
        }

        // Validate multiple choice
        function validateMultiple(situationNum, correctAnswers) {
            const selectedOptions = document.querySelectorAll(`#situation${situationNum} .option-item.selected`);
            const selectedValues = Array.from(selectedOptions).map(opt => opt.dataset.value);
            
            if (selectedValues.length === 0) {
                alert('Veuillez s√©lectionner au moins une r√©ponse !');
                return;
            }

            const isCorrect = correctAnswers.every(ans => selectedValues.includes(ans)) && 
                             selectedValues.every(val => correctAnswers.includes(val)) &&
                             selectedValues.length === correctAnswers.length;
            
            updateScore(situationNum, isCorrect);
            showSituationFeedback(situationNum, isCorrect, selectedValues, correctAnswers, true);
        }

        // Validate ranking
        function validateRanking(situationNum) {
            if (rankingOrder.length !== 5) {
                alert('Veuillez classer les 5 mesures de pr√©vention !');
                return;
            }

            const correctOrder = ['measure3', 'measure1', 'measure4', 'measure5', 'measure2'];
            let correctCount = 0;
            
            rankingOrder.forEach((id, index) => {
                if (id === correctOrder[index]) correctCount++;
            });

            const isCorrect = correctCount === 5;
            
            updateScore(situationNum, isCorrect);
            showRankingFeedback(situationNum, isCorrect, correctCount);
        }

        // Validate argument
        function validateArgument(situationNum) {
            const contexte = document.getElementById('arg-contexte').value.trim();
            const solution = document.getElementById('arg-solution').value.trim();
            const benefice = document.getElementById('arg-benefice').value.trim();
            const conclusion = document.getElementById('arg-conclusion').value.trim();
            
            if (!contexte || !solution || !benefice || !conclusion) {
                alert('Veuillez compl√©ter toutes les parties de l\'argumentaire !');
                return;
            }

            // Simple validation based on content length and keywords
            let score = 0;
            if (contexte.length > 50 && (contexte.includes('Cl√©ment') || contexte.includes('douleur') || contexte.includes('TMS'))) score++;
            if (solution.length > 40 && (solution.includes('exosquelette') || solution.includes('aide'))) score++;
            if (benefice.length > 50 && (benefice.includes('productivit√©') || benefice.includes('co√ªt') || benefice.includes('sant√©'))) score++;
            if (conclusion.length > 30 && (conclusion.includes('demande') || conclusion.includes('autorisation') || conclusion.includes('budget'))) score++;
            
            const isCorrect = score >= 3;
            
            updateScore(situationNum, isCorrect);
            showArgumentFeedback(situationNum, isCorrect, score);
        }

        // Update score and competence tracking
        function updateScore(situationNum, isCorrect) {
            score.total++;
            if (isCorrect) score.correct++;
            
            // Determine competence based on situation
            let competence = 'C4';
            if ([3, 5].includes(situationNum)) competence = 'C5';
            if ([6, 7, 8].includes(situationNum)) competence = 'C6';
            
            competenceTracking[competence].total++;
            if (isCorrect) competenceTracking[competence].correct++;
        }

        // Show situation feedback
        function showSituationFeedback(situationNum, isCorrect, selectedValue, correctAnswer, isMultiple = false) {
            const feedbackContainer = document.getElementById(`feedback${situationNum}`);
            feedbackContainer.style.display = 'block';
            feedbackContainer.className = `feedback-container ${isCorrect ? 'feedback-success' : 'feedback-error'}`;

            const explanations = {
                1: {
                    correct: "‚úÖ Excellent ! L'ergonomie du poste (niveau 1 - suppression/r√©duction) est la mesure la plus efficace. Adapter la hauteur de table √† la taille de Florian (1,87 m) supprime les contraintes posturales √† la source.",
                    c: "‚úÖ Parfait ! Cette mesure agit directement sur la cause : hauteur inadapt√©e ‚Üí dos courb√©. L'adaptation ergonomique supprime le besoin de compensation et pr√©vient durablement les TMS.",
                    a: "‚ùå La formation PRAP est importante mais de niveau 3 (moins efficace). Il faut d'abord agir sur les causes techniques. La bonne r√©ponse : <strong>Ergonomie du poste</strong>.",
                    b: "‚ùå Les EPI prot√®gent mais ne suppriment pas le risque postural. C'est du niveau 2. La bonne r√©ponse : <strong>Ergonomie du poste</strong>.",
                    d: "‚ùå La rotation limite l'exposition mais ne supprime pas la contrainte. La bonne r√©ponse : <strong>Ergonomie du poste</strong>."
                },
                3: {
                    correct: "‚úÖ Argumentation professionnelle parfaite ! Vous utilisez les concepts PSE (hi√©rarchie pr√©vention), vous justifiez techniquement (suppression √† la source) et vous d√©montrez l'efficacit√© sup√©rieure.",
                    b: "‚úÖ Excellente ma√Ætrise ! Cette r√©ponse montre votre compr√©hension des principes de pr√©vention et votre capacit√© √† argumenter avec le vocabulaire professionnel appropri√©.",
                    a: "‚ùå Argument superficiel, non technique. Un responsable pr√©vention doit argumenter sur l'efficacit√©, pas l'image. La bonne approche : <strong>Hi√©rarchie de pr√©vention et efficacit√© technique</strong>.",
                    c: "‚ùå Argument purement √©conomique, manque de justification technique. La bonne approche : <strong>Hi√©rarchie de pr√©vention et efficacit√© technique</strong>.",
                    d: "‚ùå Argument n√©gatif et non constructif. La bonne approche : <strong>Hi√©rarchie de pr√©vention et efficacit√© technique</strong>."
                },
                4: {
                    correct: "‚úÖ Recommandation technique excellente ! Les plans r√©glables s'adaptent √† la variabilit√© anthropom√©trique (1,60-1,95 m) et suppriment les contraintes posturales pour tous les op√©rateurs.",
                    a: "‚úÖ Parfait ! Cette solution technique r√©pond pr√©cis√©ment au probl√®me : adaptation individuelle impossible avec poste fixe + √©quipes de tailles tr√®s variables. C'est de la pr√©vention niveau 1.",
                    b: "‚ùå L'√©clairage est important mais secondaire face aux TMS. La priorit√© ergonomique : <strong>Plans r√©glables adapt√©s aux tailles</strong>.",
                    c: "‚ùå Le confort thermique n'est pas la priorit√© pour pr√©venir les TMS. La priorit√© : <strong>Plans r√©glables adapt√©s aux tailles</strong>.",
                    d: "‚ùå Les pauses sont importantes mais ne suppriment pas les contraintes. La priorit√© : <strong>Plans r√©glables adapt√©s aux tailles</strong>."
                },
                6: {
                    correct: "‚úÖ Structure parfaitement adapt√©e ! Partir du terrain (constats) vers le concret (solutions) avec b√©n√©fices personnels et √©changes correspond aux attentes d'un public op√©rationnel exp√©riment√©.",
                    b: "‚úÖ Excellente approche communicationnelle ! Cette structure respecte le public (praticiens) et favorise l'adh√©sion : partir de leur r√©alit√©, proposer du concret, montrer l'int√©r√™t personnel.",
                    a: "‚ùå Trop th√©orique pour ce public praticien. Il faut partir du concret. La bonne structure : <strong>Constats ‚Üí Solutions ‚Üí B√©n√©fices ‚Üí √âchanges</strong>.",
                    c: "‚ùå Approche culpabilisante, risque de braquer le public. La bonne structure : <strong>Constats ‚Üí Solutions ‚Üí B√©n√©fices ‚Üí √âchanges</strong>.",
                    d: "‚ùå Hors sujet par rapport √† l'objectif pr√©vention. La bonne structure : <strong>Constats ‚Üí Solutions ‚Üí B√©n√©fices ‚Üí √âchanges</strong>."
                },
                7: {
                    correct: "‚úÖ Ma√Ætrise parfaite du vocabulaire PSE ! B : effet multifactoriel = plusieurs causes simultan√©es. D : activit√© r√©elle = comment l'op√©rateur accomplit la t√¢che (actions physiques/mentales).",
                    incorrect: "‚ùå R√©vision vocabulaire n√©cessaire. BONNES d√©finitions : B (effet multifactoriel = plusieurs causes) et D (activit√© r√©elle = actions physiques/mentales pour accomplir t√¢che). A et C sont incorrectes."
                },
                8: {
                    correct: "‚úÖ Structure de rapport professionnel parfaite ! Cette logique respecte la d√©marche PSE : diagnostic ‚Üí analyse ‚Üí action ‚Üí √©valuation ‚Üí am√©lioration continue. C'est la m√©thodologie attendue en entreprise.",
                    a: "‚úÖ Excellent ! Cette structure suit la logique professionnelle compl√®te : √©tat des lieux ‚Üí d√©marche ‚Üí mise en ≈ìuvre ‚Üí r√©sultats ‚Üí perspectives. Format attendu par le CSE.",
                    b: "‚ùå Structure descriptive, pas analytique. Un rapport PSE doit analyser et proposer. La bonne structure : <strong>Probl√©matiques ‚Üí Analyses ‚Üí Solutions ‚Üí R√©sultats ‚Üí Recommandations</strong>.",
                    c: "‚ùå Trop th√©orique, manque l'aspect op√©rationnel. La bonne structure : <strong>Probl√©matiques ‚Üí Analyses ‚Üí Solutions ‚Üí R√©sultats ‚Üí Recommandations</strong>.",
                    d: "‚ùå Structure non professionnelle, subjective. La bonne structure : <strong>Probl√©matiques ‚Üí Analyses ‚Üí Solutions ‚Üí R√©sultats ‚Üí Recommandations</strong>."
                }
            };

            const explanation = explanations[situationNum];
            let message = '';
            
            if (isMultiple) {
                message = isCorrect ? explanation.correct : explanation.incorrect;
            } else {
                message = explanation[isCorrect ? 'correct' : selectedValue] || explanation.correct;
            }

            feedbackContainer.innerHTML = `
                <h4>${isCorrect ? 'üéâ Excellente performance !' : 'üìö √Ä am√©liorer...'}</h4>
                <p>${message}</p>
            `;

            setTimeout(() => {
                document.getElementById(`situation${situationNum}`).style.display = 'none';
                if (situationNum < totalSituations) {
                    currentSituation++;
                    document.getElementById(`situation${currentSituation}`).style.display = 'block';
                    updateProgress();
                } else {
                    showFinalResults();
                }
            }, 4000);
        }

        // Show ranking feedback
        function showRankingFeedback(situationNum, isCorrect, correctCount) {
            const feedbackContainer = document.getElementById(`feedback${situationNum}`);
            feedbackContainer.style.display = 'block';
            feedbackContainer.className = `feedback-container ${isCorrect ? 'feedback-success' : 'feedback-error'}`;

            const message = isCorrect ?
                "‚úÖ Hi√©rarchisation parfaite ! 1-Ergonomie poste (suppression) ‚Üí 2-Aide m√©canique (r√©duction) ‚Üí 3-Rotation (organisation) ‚Üí 4-EPI (protection) ‚Üí 5-Formation PRAP (sensibilisation). Vous ma√Ætrisez la logique de pr√©vention !" :
                `‚ùå Hi√©rarchisation incompl√®te (${correctCount}/5 correct). L'ordre efficace : 1-Ergonomie (niveau 1), 2-Aide m√©canique (niveau 1), 3-Rotation (niveau 1), 4-EPI (niveau 2), 5-Formation (niveau 3). Principe : agir √† la source d'abord.`;

            feedbackContainer.innerHTML = `
                <h4>${isCorrect ? 'üéâ Hi√©rarchisation ma√Ætris√©e !' : 'üìö Logique √† revoir...'}</h4>
                <p>${message}</p>
            `;

            setTimeout(() => {
                document.getElementById(`situation${situationNum}`).style.display = 'none';
                if (situationNum < totalSituations) {
                    currentSituation++;
                    document.getElementById(`situation${currentSituation}`).style.display = 'block';
                    updateProgress();
                } else {
                    showFinalResults();
                }
            }, 4000);
        }

        // Show argument feedback
        function showArgumentFeedback(situationNum, isCorrect, score) {
            const feedbackContainer = document.getElementById(`feedback${situationNum}`);
            feedbackContainer.style.display = 'block';
            feedbackContainer.className = `feedback-container ${isCorrect ? 'feedback-success' : 'feedback-error'}`;

            const message = isCorrect ?
                `‚úÖ Argumentaire professionnel r√©ussi ! (${score}/4 crit√®res valid√©s) Vous structurez bien votre demande : contexte ‚Üí solution ‚Üí justification ‚Üí conclusion. Vocabulaire appropri√© et logique convaincante.` :
                `‚ùå Argumentaire √† enrichir (${score}/4 crit√®res). D√©veloppez davantage : 1-Contexte (situation Cl√©ment, douleurs), 2-Solution (exosquelettes pr√©cis), 3-B√©n√©fices (sant√©+productivit√©+√©conomies), 4-Demande claire (budget/autorisation).`;

            feedbackContainer.innerHTML = `
                <h4>${isCorrect ? 'üéâ Argumentation convaincante !' : 'üìö √Ä d√©velopper...'}</h4>
                <p>${message}</p>
            `;

            setTimeout(() => {
                document.getElementById(`situation${situationNum}`).style.display = 'none';
                if (situationNum < totalSituations) {
                    currentSituation++;
                    document.getElementById(`situation${currentSituation}`).style.display = 'block';
                    updateProgress();
                } else {
                    showFinalResults();
                }
            }, 4000);
        }

        // Show final results
        function showFinalResults() {
            document.getElementById('final-results').style.display = 'block';
            document.getElementById('progress-fill').style.width = '100%';
            document.getElementById('progress-text').textContent = 'Simulation termin√©e !';

            const c4Percent = Math.round((competenceTracking.C4.correct / competenceTracking.C4.total) * 100) || 0;
            const c5Percent = Math.round((competenceTracking.C5.correct / competenceTracking.C5.total) * 100) || 0;
            const c6Percent = Math.round((competenceTracking.C6.correct / competenceTracking.C6.total) * 100) || 0;
            const totalPercent = Math.round((score.correct / score.total) * 100);

            document.getElementById('competence-details').innerHTML = `
                <div style="margin: 10px 0;">
                    <strong>C4 - Proposer une solution :</strong> ${competenceTracking.C4.correct}/${competenceTracking.C4.total} (${c4Percent}%)
                    <div style="background: #e0e0e0; height: 10px; border-radius: 5px; overflow: hidden;">
                        <div style="background: ${c4Percent >= 75 ? '#219653' : c4Percent >= 50 ? '#F2994A' : '#EB5757'}; height: 100%; width: ${c4Percent}%; transition: width 1s ease;"></div>
                    </div>
                </div>
                <div style="margin: 10px 0;">
                    <strong>C5 - Argumenter un choix :</strong> ${competenceTracking.C5.correct}/${competenceTracking.C5.total} (${c5Percent}%)
                    <div style="background: #e0e0e0; height: 10px; border-radius: 5px; overflow: hidden;">
                        <div style="background: ${c5Percent >= 75 ? '#219653' : c5Percent >= 50 ? '#F2994A' : '#EB5757'}; height: 100%; width: ${c5Percent}%; transition: width 1s ease;"></div>
                    </div>
                </div>
                <div style="margin: 10px 0;">
                    <strong>C6 - Communiquer professionnellement :</strong> ${competenceTracking.C6.correct}/${competenceTracking.C6.total} (${c6Percent}%)
                    <div style="background: #e0e0e0; height: 10px; border-radius: 5px; overflow: hidden;">
                        <div style="background: ${c6Percent >= 75 ? '#219653' : c6Percent >= 50 ? '#F2994A' : '#EB5757'}; height: 100%; width: ${c6Percent}%; transition: width 1s ease;"></div>
                    </div>
                </div>
                <div style="margin: 15px 0; font-size: 1.2rem;">
                    <strong>Score global :</strong> ${score.correct}/${score.total} (${totalPercent}%)
                </div>
            `;
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', initExercise);
    </script>
</body>
</html>