<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=3.0, user-scalable=yes">
    <title>PSE â€“ Construire mon Budget</title>
    <style>
        :root {
            --bg: #e3f2fd;
            --primary: #1976d2;
            --revenus: #4caf50;
            --depenses: #f44336;
            --ok: #2e7d32;
            --ko: #c62828;
            --focus: #ff9800;
            --font-size: 1rem;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: "Segoe UI", Arial, sans-serif;
            font-size: var(--font-size);
            background-color: var(--bg);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           EN-TÃŠTE : OBJECTIF + COMPÃ‰TENCE
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .header {
            background: linear-gradient(135deg, #1976d2, #1565c0);
            color: white;
            padding: 15px 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            text-align: center;
        }

        .header h1 {
            margin: 0 0 10px 0;
            font-size: 1.8rem;
        }

        .objectif-box {
            background: rgba(255,255,255,0.2);
            padding: 10px 15px;
            border-radius: 10px;
            margin-bottom: 10px;
        }

        .objectif-box strong {
            font-size: 1.1rem;
        }

        .competence-tag {
            display: inline-block;
            background: #ff9800;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.95rem;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           BARRE DE CONTRÃ”LES
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            margin-bottom: 15px;
        }

        .ctrl-btn {
            color: #fff;
            border: none;
            padding: 12px 18px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            box-shadow: 0 4px 0 rgba(0,0,0,0.2);
            user-select: none;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .ctrl-btn:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        .btn-consigne { background: #e91e63; }
        .btn-son { background: #2c3e50; }
        .btn-zoom-plus { background: #4caf50; }
        .btn-zoom-moins { background: #ff9800; }
        .btn-reset { background: #607d8b; }
        .btn-calc { background: #9c27b0; }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CONSIGNE
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .consigne-box {
            background: #fff;
            border: 4px solid #1976d2;
            border-radius: 15px;
            padding: 15px 20px;
            margin-bottom: 15px;
            text-align: center;
        }

        .consigne-box .etape {
            background: #1976d2;
            color: white;
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .consigne-box p {
            font-size: 1.2rem;
            margin: 0;
            line-height: 1.5;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ZONE DE JEU
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .game-area {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            max-width: 1400px;
            margin: 0 auto;
        }

        @media (max-width: 1100px) {
            .game-area {
                grid-template-columns: 1fr;
            }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           RAYON (Ã©lÃ©ments Ã  trier)
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .rayon {
            background: #fff;
            border: 4px dashed #999;
            border-radius: 15px;
            padding: 15px;
            min-height: 300px;
        }

        .rayon-title {
            text-align: center;
            font-size: 1.4rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ddd;
        }

        .rayon-content {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ITEM (revenu ou dÃ©pense)
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .item {
            background: #fff;
            border: 3px solid #666;
            border-radius: 12px;
            width: 130px;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 2px 2px 8px rgba(0,0,0,0.15);
            font-weight: bold;
            user-select: none;
            transition: transform 0.15s, border-color 0.15s, box-shadow 0.15s;
            text-align: center;
        }

        .item:hover {
            transform: scale(1.03);
        }

        .item.selected {
            border-color: var(--focus);
            border-width: 4px;
            box-shadow: 0 0 15px rgba(255, 152, 0, 0.6);
            transform: scale(1.05);
        }

        .item .emoji {
            font-size: 2.2rem;
            line-height: 1;
            margin-bottom: 5px;
        }

        .item .nom {
            font-size: 0.95rem;
            margin-bottom: 5px;
        }

        .item .montant {
            background: #333;
            color: #fff;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 1rem;
        }

        .item.revenu .montant { background: var(--revenus); }
        .item.depense .montant { background: var(--depenses); }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ZONES BUDGET (Revenus / DÃ©penses)
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .budget-zone {
            border-radius: 15px;
            padding: 15px;
            min-height: 300px;
        }

        .zone-revenus {
            background: linear-gradient(135deg, #e8f5e9, #c8e6c9);
            border: 4px solid var(--revenus);
        }

        .zone-depenses {
            background: linear-gradient(135deg, #ffebee, #ffcdd2);
            border: 4px solid var(--depenses);
        }

        .zone-title {
            text-align: center;
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 10px;
            padding: 8px;
            border-radius: 10px;
            color: white;
        }

        .zone-revenus .zone-title { background: var(--revenus); }
        .zone-depenses .zone-title { background: var(--depenses); }

        .zone-content {
            min-height: 200px;
            background: rgba(255,255,255,0.6);
            border-radius: 10px;
            padding: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            align-content: flex-start;
        }

        .zone-total {
            text-align: center;
            font-size: 1.3rem;
            font-weight: bold;
            margin-top: 10px;
            padding: 10px;
            background: rgba(255,255,255,0.8);
            border-radius: 10px;
        }

        .zone-revenus .zone-total { color: var(--revenus); }
        .zone-depenses .zone-total { color: var(--depenses); }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           PROGRESSION
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .progress-box {
            background: #fff;
            border: 3px solid #1976d2;
            border-radius: 15px;
            padding: 15px;
            margin-top: 15px;
            text-align: center;
        }

        .progress-bar {
            background: #e0e0e0;
            height: 25px;
            border-radius: 15px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4caf50, #8bc34a);
            height: 100%;
            width: 0%;
            transition: width 0.3s;
            border-radius: 15px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ZONE CALCUL FINAL
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .calcul-final {
            background: #fff;
            border: 4px solid #9c27b0;
            border-radius: 15px;
            padding: 20px;
            margin-top: 15px;
            text-align: center;
            display: none;
        }

        .calcul-final h3 {
            color: #7b1fa2;
            margin: 0 0 15px 0;
        }

        .calcul-formule {
            font-size: 1.3rem;
            background: #f5f5f5;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .calcul-formule .val-revenus { color: var(--revenus); font-weight: bold; }
        .calcul-formule .val-depenses { color: var(--depenses); font-weight: bold; }

        .input-solde {
            width: 120px;
            padding: 12px;
            font-size: 1.5rem;
            text-align: center;
            border-radius: 10px;
            border: 3px solid #ccc;
            font-weight: bold;
        }

        .input-solde:focus {
            border-color: #9c27b0;
            outline: none;
        }

        .btn-verifier {
            background: #9c27b0;
            color: #fff;
            border: none;
            padding: 12px 30px;
            font-size: 1.2rem;
            border-radius: 25px;
            cursor: pointer;
            margin-top: 15px;
            box-shadow: 0 4px 0 rgba(0,0,0,0.2);
        }

        .btn-verifier:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        .resultat-type {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: bold;
            display: none;
        }

        .resultat-type.excedentaire {
            background: #e8f5e9;
            color: var(--revenus);
            border: 2px solid var(--revenus);
        }

        .resultat-type.deficitaire {
            background: #ffebee;
            color: var(--depenses);
            border: 2px solid var(--depenses);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CALCULATRICE
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .calculatrice {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #333;
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            z-index: 500;
            display: none;
            width: 220px;
        }

        .calculatrice.visible {
            display: block;
        }

        .calc-screen {
            background: #9ccc65;
            color: #333;
            font-size: 1.8rem;
            padding: 10px 15px;
            text-align: right;
            border-radius: 8px;
            margin-bottom: 10px;
            font-family: monospace;
            min-height: 45px;
            overflow: hidden;
        }

        .calc-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 6px;
        }

        .calc-btn {
            padding: 12px;
            font-size: 1.2rem;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            background: #555;
            color: white;
        }

        .calc-btn:hover { background: #666; }
        .calc-btn:active { transform: scale(0.95); }
        .calc-btn.op { background: #ff9800; }
        .calc-btn.eq { background: #4caf50; }
        .calc-btn.clear { background: #f44336; }

        .calc-close {
            position: absolute;
            top: -10px;
            right: -10px;
            background: #f44336;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           FEEDBACK
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #feedback {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.9);
            color: #fff;
            padding: 25px 40px;
            border-radius: 20px;
            font-size: 2rem;
            display: none;
            z-index: 1000;
            text-align: center;
            max-width: 90vw;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           LISTE DE RAPPEL
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .rappel-liste {
            background: #fff;
            border: 3px solid #ff9800;
            border-radius: 15px;
            padding: 15px;
            margin-top: 15px;
        }

        .rappel-liste h4 {
            color: #e65100;
            margin: 0 0 10px 0;
            text-align: center;
        }

        .rappel-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .rappel-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            border-radius: 8px;
            font-size: 0.95rem;
        }

        .rappel-item.r-revenu { background: #e8f5e9; }
        .rappel-item.r-depense { background: #ffebee; }

        .rappel-item .check {
            width: 24px;
            height: 24px;
            border: 2px solid #999;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }

        .rappel-item.found .check {
            background: #4caf50;
            border-color: #4caf50;
            color: white;
        }

        @media (max-width: 600px) {
            .rappel-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     EN-TÃŠTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="header">
    <h1>ğŸ’° Construire mon Budget</h1>
    <div class="objectif-box">
        <strong>ğŸ¯ OBJECTIF :</strong> Classer les revenus et les dÃ©penses, puis calculer le solde du budget.
    </div>
    <span class="competence-tag">C2 â€“ Appliquer une dÃ©marche d'analyse</span>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CONTRÃ”LES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="controls">
    <button class="ctrl-btn btn-consigne" onclick="lireConsigne()">ğŸ”Š Consigne</button>
    <button class="ctrl-btn btn-son" id="btn-son" onclick="toggleSon()">ğŸ”ˆ Son : ON</button>
    <button class="ctrl-btn btn-zoom-plus" onclick="zoomPlus()">ğŸ”+ Agrandir</button>
    <button class="ctrl-btn btn-zoom-moins" onclick="zoomMoins()">ğŸ”- RÃ©duire</button>
    <button class="ctrl-btn btn-calc" onclick="toggleCalculatrice()">ğŸ§® Calculatrice</button>
    <button class="ctrl-btn btn-reset" onclick="location.reload()">ğŸ”„ Recommencer</button>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CONSIGNE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="consigne-box">
    <span class="etape" id="etape-text">Ã‰TAPE 1</span>
    <p id="consigne-text">
        <strong>Clique</strong> sur un Ã©lÃ©ment, puis <strong>clique</strong> sur la zone <span style="color: var(--revenus);">REVENUS</span> ou <span style="color: var(--depenses);">DÃ‰PENSES</span>.
    </p>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     RAPPEL : ce qu'il faut trouver
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="rappel-liste">
    <h4>ğŸ“‹ Ã‰lÃ©ments Ã  classer :</h4>
    <div class="rappel-grid" id="rappel-grid">
        <!-- Rempli par JS -->
    </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ZONE DE JEU
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="game-area">
    <!-- RAYON -->
    <div class="rayon">
        <div class="rayon-title">ğŸ“¦ Ã‰lÃ©ments Ã  trier</div>
        <div class="rayon-content" id="rayon"></div>
    </div>

    <!-- ZONE REVENUS -->
    <div class="budget-zone zone-revenus" id="zone-revenus">
        <div class="zone-title">ğŸ’µ REVENUS</div>
        <div class="zone-content" id="content-revenus"></div>
        <div class="zone-total">Total : <span id="total-revenus">0</span> â‚¬</div>
    </div>

    <!-- ZONE DÃ‰PENSES -->
    <div class="budget-zone zone-depenses" id="zone-depenses">
        <div class="zone-title">ğŸ›’ DÃ‰PENSES</div>
        <div class="zone-content" id="content-depenses"></div>
        <div class="zone-total">Total : <span id="total-depenses">0</span> â‚¬</div>
    </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PROGRESSION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="progress-box">
    <strong>Progression : <span id="progress-count">0</span> / <span id="progress-total">8</span> Ã©lÃ©ments classÃ©s</strong>
    <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
    </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CALCUL FINAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="calcul-final" id="calcul-final">
    <h3>ğŸ§® Calcule le SOLDE du budget</h3>
    
    <div class="calcul-formule">
        <strong>SOLDE = Revenus âˆ’ DÃ©penses</strong><br><br>
        SOLDE = <span class="val-revenus" id="calc-revenus">0</span> â‚¬ âˆ’ <span class="val-depenses" id="calc-depenses">0</span> â‚¬
    </div>
    
    <label style="font-size: 1.2rem; font-weight: bold;">Le solde est de :</label><br>
    <input type="number" class="input-solde" id="input-solde" placeholder="?"> â‚¬
    <br>
    <button class="btn-verifier" onclick="verifierSolde()">âœ… VÃ©rifier</button>
    
    <div class="resultat-type" id="resultat-type"></div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CALCULATRICE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="calculatrice" id="calculatrice">
    <button class="calc-close" onclick="toggleCalculatrice()">âœ•</button>
    <div class="calc-screen" id="calc-screen">0</div>
    <div class="calc-buttons">
        <button class="calc-btn clear" onclick="calcClear()">C</button>
        <button class="calc-btn" onclick="calcBackspace()">âŒ«</button>
        <button class="calc-btn op" onclick="calcOp('/')">/</button>
        <button class="calc-btn op" onclick="calcOp('Ã—')">Ã—</button>
        
        <button class="calc-btn" onclick="calcNum(7)">7</button>
        <button class="calc-btn" onclick="calcNum(8)">8</button>
        <button class="calc-btn" onclick="calcNum(9)">9</button>
        <button class="calc-btn op" onclick="calcOp('-')">âˆ’</button>
        
        <button class="calc-btn" onclick="calcNum(4)">4</button>
        <button class="calc-btn" onclick="calcNum(5)">5</button>
        <button class="calc-btn" onclick="calcNum(6)">6</button>
        <button class="calc-btn op" onclick="calcOp('+')">+</button>
        
        <button class="calc-btn" onclick="calcNum(1)">1</button>
        <button class="calc-btn" onclick="calcNum(2)">2</button>
        <button class="calc-btn" onclick="calcNum(3)">3</button>
        <button class="calc-btn eq" onclick="calcEqual()" style="grid-row: span 2;">=</button>
        
        <button class="calc-btn" onclick="calcNum(0)" style="grid-column: span 2;">0</button>
        <button class="calc-btn" onclick="calcDot()">.</button>
    </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     FEEDBACK
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="feedback"></div>

<script>
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // DONNÃ‰ES - Montants rÃ©alistes pour un budget CAP
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const elements = [
        // REVENUS
        { id: "r1", nom: "Salaire", emoji: "ğŸ’µ", montant: 1200, type: "revenu", desc: "Revenu du travail" },
        { id: "r2", nom: "APL", emoji: "ğŸ ", montant: 150, type: "revenu", desc: "Aide au logement" },
        { id: "r3", nom: "Bourse", emoji: "ğŸ“", montant: 100, type: "revenu", desc: "Aide Ã©tudiante" },
        
        // DÃ‰PENSES
        { id: "d1", nom: "Loyer", emoji: "ğŸ¡", montant: 450, type: "depense", desc: "Charge fixe" },
        { id: "d2", nom: "Courses", emoji: "ğŸ›’", montant: 250, type: "depense", desc: "Alimentation" },
        { id: "d3", nom: "Ã‰lectricitÃ©", emoji: "ğŸ’¡", montant: 50, type: "depense", desc: "Charge fixe" },
        { id: "d4", nom: "TÃ©lÃ©phone", emoji: "ğŸ“±", montant: 30, type: "depense", desc: "Abonnement" },
        { id: "d5", nom: "Transport", emoji: "ğŸšŒ", montant: 75, type: "depense", desc: "DÃ©placement" }
    ];

    // Variables globales
    let selectedItem = null;
    let soundEnabled = true;
    let zoomLevel = 1;
    let itemsPlaced = 0;

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // INITIALISATION
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function init() {
        const rayon = document.getElementById("rayon");
        const rappelGrid = document.getElementById("rappel-grid");
        
        // MÃ©langer les Ã©lÃ©ments
        const shuffled = [...elements].sort(() => Math.random() - 0.5);
        
        // CrÃ©er les items dans le rayon
        shuffled.forEach(el => {
            const div = document.createElement("div");
            div.className = `item ${el.type}`;
            div.id = el.id;
            div.dataset.type = el.type;
            div.dataset.montant = el.montant;
            div.dataset.nom = el.nom;
            
            div.innerHTML = `
                <span class="emoji">${el.emoji}</span>
                <span class="nom">${el.nom}</span>
                <span class="montant">${el.montant} â‚¬</span>
            `;
            
            div.addEventListener("click", () => selectItem(div));
            rayon.appendChild(div);
        });
        
        // CrÃ©er la liste de rappel
        elements.forEach(el => {
            const div = document.createElement("div");
            div.className = `rappel-item r-${el.type}`;
            div.id = `rappel-${el.id}`;
            div.innerHTML = `
                <span class="check"></span>
                <span>${el.emoji} ${el.nom} (${el.montant} â‚¬)</span>
            `;
            rappelGrid.appendChild(div);
        });
        
        // Configurer les zones de dÃ©pÃ´t
        document.getElementById("zone-revenus").addEventListener("click", (e) => {
            if (e.target.closest(".item")) return;
            if (selectedItem) placeItem("revenu");
        });
        
        document.getElementById("zone-depenses").addEventListener("click", (e) => {
            if (e.target.closest(".item")) return;
            if (selectedItem) placeItem("depense");
        });
        
        document.getElementById("rayon").addEventListener("click", (e) => {
            if (e.target.closest(".item")) return;
            if (selectedItem) returnToRayon();
        });
        
        document.getElementById("progress-total").textContent = elements.length;
        
        // Lecture auto de la consigne au dÃ©marrage
        setTimeout(() => lireConsigne(), 500);
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // SÃ‰LECTION D'UN ITEM
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function selectItem(el) {
        if (selectedItem === el) {
            // DeuxiÃ¨me clic = lecture du nom
            speak(el.dataset.nom + ", " + el.dataset.montant + " euros");
            return;
        }
        
        deselectItem();
        selectedItem = el;
        el.classList.add("selected");
        speak(el.dataset.nom + " sÃ©lectionnÃ©");
    }

    function deselectItem() {
        if (selectedItem) {
            selectedItem.classList.remove("selected");
            selectedItem = null;
        }
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // PLACEMENT D'UN ITEM
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function placeItem(targetType) {
        if (!selectedItem) return;
        
        const itemType = selectedItem.dataset.type;
        const itemNom = selectedItem.dataset.nom;
        
        if (itemType === targetType) {
            // CORRECT !
            const zone = targetType === "revenu" ? "content-revenus" : "content-depenses";
            document.getElementById(zone).appendChild(selectedItem);
            
            // Marquer comme trouvÃ© dans le rappel
            const rappelItem = document.getElementById(`rappel-${selectedItem.id}`);
            if (rappelItem) {
                rappelItem.classList.add("found");
                rappelItem.querySelector(".check").textContent = "âœ“";
            }
            
            playFeedback(true, "Bravo ! ğŸ‘");
            speak("Bravo ! " + itemNom + " est bien un " + (targetType === "revenu" ? "revenu" : "une dÃ©pense"));
            
            itemsPlaced++;
            updateProgress();
            updateTotals();
            
        } else {
            // ERREUR
            playFeedback(false, "Non ! Essaie encore ğŸ¤”");
            if (targetType === "revenu") {
                speak(itemNom + " n'est pas un revenu. C'est une dÃ©pense !");
            } else {
                speak(itemNom + " n'est pas une dÃ©pense. C'est un revenu !");
            }
        }
        
        deselectItem();
    }

    function returnToRayon() {
        if (!selectedItem) return;
        
        // VÃ©rifier si l'item est dans une zone (pas dÃ©jÃ  dans le rayon)
        const parent = selectedItem.parentElement;
        if (parent.id === "rayon") {
            deselectItem();
            return;
        }
        
        // Retourner au rayon
        document.getElementById("rayon").appendChild(selectedItem);
        
        // Retirer le marquage du rappel
        const rappelItem = document.getElementById(`rappel-${selectedItem.id}`);
        if (rappelItem) {
            rappelItem.classList.remove("found");
            rappelItem.querySelector(".check").textContent = "";
        }
        
        itemsPlaced--;
        updateProgress();
        updateTotals();
        deselectItem();
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // MISE Ã€ JOUR
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function updateProgress() {
        document.getElementById("progress-count").textContent = itemsPlaced;
        const percent = (itemsPlaced / elements.length) * 100;
        document.getElementById("progress-fill").style.width = percent + "%";
        
        // Tous les Ã©lÃ©ments sont placÃ©s ?
        if (itemsPlaced === elements.length) {
            document.getElementById("calcul-final").style.display = "block";
            document.getElementById("etape-text").textContent = "Ã‰TAPE 2";
            document.getElementById("consigne-text").innerHTML = 
                "<strong>Calcule</strong> le <strong>SOLDE</strong> du budget : Revenus âˆ’ DÃ©penses";
            speak("Bravo ! Tu as classÃ© tous les Ã©lÃ©ments. Maintenant, calcule le solde du budget.");
            
            // Remplir les valeurs dans le calcul
            const totalRev = calculerTotal("revenu");
            const totalDep = calculerTotal("depense");
            document.getElementById("calc-revenus").textContent = totalRev;
            document.getElementById("calc-depenses").textContent = totalDep;
        }
    }

    function updateTotals() {
        document.getElementById("total-revenus").textContent = calculerTotal("revenu");
        document.getElementById("total-depenses").textContent = calculerTotal("depense");
    }

    function calculerTotal(type) {
        const zone = type === "revenu" ? "content-revenus" : "content-depenses";
        const items = document.getElementById(zone).querySelectorAll(".item");
        let total = 0;
        items.forEach(item => {
            total += parseInt(item.dataset.montant);
        });
        return total;
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // VÃ‰RIFICATION SOLDE
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function verifierSolde() {
        const userSolde = parseInt(document.getElementById("input-solde").value);
        
        if (isNaN(userSolde)) {
            playFeedback(false, "Ã‰cris un nombre !");
            speak("Ã‰cris un nombre dans la case.");
            return;
        }
        
        const totalRev = calculerTotal("revenu");
        const totalDep = calculerTotal("depense");
        const soldeCorrect = totalRev - totalDep;
        
        const resultatDiv = document.getElementById("resultat-type");
        
        if (userSolde === soldeCorrect) {
            playFeedback(true, "EXCELLENT ! ğŸ‰");
            
            if (soldeCorrect > 0) {
                resultatDiv.className = "resultat-type excedentaire";
                resultatDiv.innerHTML = `âœ… SOLDE = <strong>+${soldeCorrect} â‚¬</strong><br>Budget <strong>EXCÃ‰DENTAIRE</strong> ğŸ‘<br>Tu peux Ã©pargner !`;
                speak("Excellent ! Le solde est de " + soldeCorrect + " euros. Le budget est excÃ©dentaire. Tu peux Ã©pargner !");
            } else if (soldeCorrect < 0) {
                resultatDiv.className = "resultat-type deficitaire";
                resultatDiv.innerHTML = `âš ï¸ SOLDE = <strong>${soldeCorrect} â‚¬</strong><br>Budget <strong>DÃ‰FICITAIRE</strong> ğŸ˜Ÿ<br>Attention aux dÃ©penses !`;
                speak("Excellent ! Le solde est de " + soldeCorrect + " euros. Le budget est dÃ©ficitaire. Attention aux dÃ©penses !");
            } else {
                resultatDiv.className = "resultat-type";
                resultatDiv.style.display = "block";
                resultatDiv.style.background = "#fff3e0";
                resultatDiv.style.color = "#e65100";
                resultatDiv.style.border = "2px solid #ff9800";
                resultatDiv.innerHTML = `ğŸ“Š SOLDE = <strong>0 â‚¬</strong><br>Budget <strong>Ã‰QUILIBRÃ‰</strong>`;
                speak("Excellent ! Le solde est de 0 euros. Le budget est Ã©quilibrÃ©.");
            }
            
            resultatDiv.style.display = "block";
            document.body.style.backgroundColor = "#c8e6c9";
            
        } else {
            playFeedback(false, "Mauvais calcul...");
            speak("Ce n'est pas le bon rÃ©sultat. Utilise la calculatrice. Revenus moins dÃ©penses.");
        }
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // FEEDBACK
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function playFeedback(isGood, text) {
        const fb = document.getElementById("feedback");
        fb.textContent = text;
        fb.style.display = "block";
        fb.style.backgroundColor = isGood ? "rgba(46, 125, 50, 0.95)" : "rgba(198, 40, 40, 0.95)";
        setTimeout(() => fb.style.display = "none", 1500);
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // AUDIO
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function speak(text) {
        if (!soundEnabled) return;
        try {
            if (!window.speechSynthesis) return;
            window.speechSynthesis.cancel();
            const msg = new SpeechSynthesisUtterance(text);
            msg.lang = "fr-FR";
            msg.rate = 0.9;
            window.speechSynthesis.speak(msg);
        } catch(e) {}
    }

    function toggleSon() {
        soundEnabled = !soundEnabled;
        document.getElementById("btn-son").textContent = soundEnabled ? "ğŸ”ˆ Son : ON" : "ğŸ”‡ Son : OFF";
        if (!soundEnabled && window.speechSynthesis) {
            window.speechSynthesis.cancel();
        }
    }

    function lireConsigne() {
        if (itemsPlaced < elements.length) {
            speak("Clique sur un Ã©lÃ©ment pour le sÃ©lectionner. Puis clique sur la zone Revenus ou la zone DÃ©penses pour le placer. Les revenus sont l'argent que tu reÃ§ois. Les dÃ©penses sont l'argent que tu dÃ©penses.");
        } else {
            speak("Calcule le solde du budget. Solde Ã©gale Revenus moins DÃ©penses. Tu peux utiliser la calculatrice.");
        }
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ZOOM
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function zoomPlus() {
        if (zoomLevel < 1.5) {
            zoomLevel += 0.1;
            document.documentElement.style.setProperty('--font-size', zoomLevel + 'rem');
            document.body.style.fontSize = zoomLevel + 'rem';
            speak("Texte agrandi");
        }
    }

    function zoomMoins() {
        if (zoomLevel > 0.8) {
            zoomLevel -= 0.1;
            document.documentElement.style.setProperty('--font-size', zoomLevel + 'rem');
            document.body.style.fontSize = zoomLevel + 'rem';
            speak("Texte rÃ©duit");
        }
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // CALCULATRICE
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    let calcDisplay = "0";
    let calcPrevious = null;
    let calcOperator = null;
    let calcNewNumber = true;

    function toggleCalculatrice() {
        document.getElementById("calculatrice").classList.toggle("visible");
    }

    function updateCalcScreen() {
        document.getElementById("calc-screen").textContent = calcDisplay;
    }

    function calcNum(n) {
        if (calcNewNumber) {
            calcDisplay = String(n);
            calcNewNumber = false;
        } else {
            if (calcDisplay.length < 10) {
                calcDisplay += String(n);
            }
        }
        updateCalcScreen();
    }

    function calcDot() {
        if (!calcDisplay.includes(".")) {
            calcDisplay += ".";
            calcNewNumber = false;
        }
        updateCalcScreen();
    }

    function calcOp(op) {
        calcPrevious = parseFloat(calcDisplay);
        calcOperator = op;
        calcNewNumber = true;
    }

    function calcEqual() {
        if (calcPrevious === null || calcOperator === null) return;
        
        const current = parseFloat(calcDisplay);
        let result = 0;
        
        switch(calcOperator) {
            case '+': result = calcPrevious + current; break;
            case '-': result = calcPrevious - current; break;
            case 'Ã—': result = calcPrevious * current; break;
            case '/': result = current !== 0 ? calcPrevious / current : 0; break;
        }
        
        calcDisplay = String(Math.round(result * 100) / 100);
        calcPrevious = null;
        calcOperator = null;
        calcNewNumber = true;
        updateCalcScreen();
    }

    function calcClear() {
        calcDisplay = "0";
        calcPrevious = null;
        calcOperator = null;
        calcNewNumber = true;
        updateCalcScreen();
    }

    function calcBackspace() {
        if (calcDisplay.length > 1) {
            calcDisplay = calcDisplay.slice(0, -1);
        } else {
            calcDisplay = "0";
            calcNewNumber = true;
        }
        updateCalcScreen();
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // DÃ‰MARRAGE
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    init();
</script>

</body>
</html>
