<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module B1 - Exercice 1 : Entra√Ænement guid√© - CAP PSE</title>
    <style>
        :root {
            --primary-pse: #2E86AB;
            --secondary-pse: #A23B72;
            --success-pse: #219653;
            --warning-pse: #F2994A;
            --danger-pse: #EB5757;
            --dark-pse: #2F3542;
            --light-pse: #F1F2F6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 15px;
        }

        .exercice-container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        /* En-t√™te p√©dagogique obligatoire */
        .cadre-pedagogique {
            background: linear-gradient(135deg, var(--primary-pse), var(--secondary-pse));
            color: white;
            padding: 25px;
        }

        .module-info h2 {
            font-size: 1.8em;
            margin-bottom: 15px;
            text-align: center;
        }

        .objectif {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }

        .competences-travaillees {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .competences-list {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .competences-list li {
            background: rgba(255,255,255,0.15);
            padding: 10px;
            border-radius: 8px;
            font-size: 0.9em;
        }

        .niveau-cible {
            text-align: center;
            font-weight: bold;
            font-size: 1.1em;
        }

        /* Contenu principal */
        .exercice-principal {
            padding: 30px;
        }

        .introduction {
            background: var(--light-pse);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            text-align: center;
        }

        .phase-header {
            background: linear-gradient(135deg, var(--primary-pse), var(--secondary-pse));
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 30px 0 20px 0;
            text-align: center;
            font-weight: bold;
            font-size: 1.2em;
        }

        .question-container {
            background: #f8f9fa;
            margin: 20px 0;
            border-radius: 12px;
            padding: 20px;
            border-left: 5px solid var(--primary-pse);
            position: relative;
        }

        .question-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .question-number {
            background: var(--primary-pse);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }

        .question-text {
            flex: 1;
            font-size: 1.1em;
            font-weight: 600;
        }

        .competence-badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
        }

        .competence-c1 { background: #E74C3C; color: white; }
        .competence-c2 { background: #3498DB; color: white; }
        .competence-c3 { background: #2ECC71; color: white; }
        .competence-c4 { background: #F39C12; color: white; }
        .competence-c5 { background: #9B59B6; color: white; }

        .difficulty-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.7em;
            font-weight: bold;
            text-transform: uppercase;
        }

        .difficulty-facile { background: #d4edda; color: #155724; }
        .difficulty-moyen { background: #fff3cd; color: #856404; }
        .difficulty-difficile { background: #f8d7da; color: #721c24; }

        .options-container {
            display: grid;
            gap: 10px;
            margin-top: 15px;
        }

        .option {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            min-height: 44px;
        }

        .option:hover {
            border-color: var(--primary-pse);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .option.selected {
            border-color: var(--primary-pse);
            background: #e3f2fd;
        }

        .option.correct {
            border-color: var(--success-pse);
            background: #d4edda;
            border-width: 3px;
        }

        .option.correct::after {
            content: '‚úì';
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--success-pse);
            font-weight: bold;
            font-size: 1.2em;
        }

        .option.incorrect {
            border-color: var(--danger-pse);
            background: #f8d7da;
            border-width: 2px;
        }

        .option.incorrect::after {
            content: '‚úó';
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--danger-pse);
            font-weight: bold;
            font-size: 1.2em;
        }

        .validation-button {
            background: var(--primary-pse);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 15px;
            transition: all 0.3s ease;
            min-height: 44px;
        }

        .validation-button:hover {
            background: var(--secondary-pse);
            transform: translateY(-2px);
        }

        .validation-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        /* Tableaux */
        .tableau-container {
            margin: 15px 0;
            overflow-x: auto;
        }

        .tableau-exercice {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
        }

        .tableau-exercice th,
        .tableau-exercice td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
            vertical-align: middle;
        }

        .tableau-exercice th {
            background: var(--primary-pse);
            color: white;
            font-weight: bold;
        }

        .tableau-exercice tr:nth-child(even) {
            background: #f8f9fa;
        }

        .input-tableau {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            min-height: 44px;
        }

        /* Appariements */
        .appariement-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 15px 0;
        }

        .appariement-gauche, .appariement-droite {
            background: white;
            border-radius: 10px;
            padding: 15px;
        }

        .appariement-item {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 12px;
            margin: 8px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 44px;
            display: flex;
            align-items: center;
        }

        .appariement-item:hover {
            border-color: var(--primary-pse);
            background: #e3f2fd;
        }

        .appariement-item.selected {
            border-color: var(--warning-pse);
            background: #FFA726;
            transform: scale(1.05);
        }

        .appariement-item.matched {
            border-color: var(--success-pse);
            background: #d4edda;
        }

        /* Mini-cas */
        .mini-cas-container {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            border-left: 5px solid var(--warning-pse);
        }

        .mini-cas-titre {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--dark-pse);
        }

        .mini-cas-donnees {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
        }

        /* Syst√®me de feedback */
        .feedback-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .feedback-card {
            background: linear-gradient(135deg, #2a2a3e, #1e1e2f);
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            color: white;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }

        .feedback-icon {
            font-size: 4em;
            margin-bottom: 15px;
        }

        .feedback-title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .feedback-explanation {
            background: rgba(0, 0, 0, 0.4);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: left;
            line-height: 1.6;
        }

        .remediation-content {
            background: rgba(46, 134, 171, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            text-align: left;
        }

        .continue-button {
            background: var(--success-pse);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 20px;
            min-height: 44px;
        }

        /* Progression */
        .progress-container {
            background: #e9ecef;
            height: 8px;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-bar {
            background: linear-gradient(90deg, var(--primary-pse), var(--success-pse));
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: white;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: var(--primary-pse);
        }

        .stat-label {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
        }

        /* Footer RGPD */
        .rgpd-notice {
            background: var(--dark-pse);
            color: white;
            text-align: center;
            padding: 15px;
            font-size: 0.9em;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .exercice-container {
                margin: 0;
                border-radius: 0;
            }
            
            .exercice-principal {
                padding: 20px;
            }
            
            .appariement-container {
                grid-template-columns: 1fr;
            }
            
            .question-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .competence-badge {
                margin: 5px 0 0 0;
            }
        }

        /* V√©rification couverture */
        .verification-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            border: 2px solid var(--primary-pse);
        }

        .verification-titre {
            background: var(--primary-pse);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-weight: bold;
            font-size: 1.3em;
            margin-bottom: 20px;
        }

        .notion-item {
            background: white;
            border-radius: 8px;
            padding: 12px;
            margin: 8px 0;
            border-left: 4px solid var(--success-pse);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .notion-nom {
            font-weight: 600;
            flex: 1;
        }

        .notion-items {
            background: var(--light-pse);
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9em;
            font-weight: bold;
            color: var(--primary-pse);
        }
    </style>
</head>
<body>
    <div class="exercice-container">
        <!-- EN-T√äTE P√âDAGOGIQUE OBLIGATOIRE -->
        <div class="cadre-pedagogique">
            <div class="module-info">
                <h2>Module B1 : Les ressources en eau</h2>
                <div class="objectif">
                    <strong>Objectif :</strong> Je dois √™tre capable d'adopter un comportement responsable face √† ma consommation d'eau au quotidien
                </div>
            </div>
            
            <div class="competences-travaillees">
                <h3>Comp√©tences travaill√©es dans cet exercice :</h3>
                <ul class="competences-list">
                    <li><strong>C1</strong> - Traiter une information</li>
                    <li><strong>C2</strong> - Appliquer une m√©thode d'analyse dans une situation donn√©e</li>
                    <li><strong>C3</strong> - Mettre en relation un ph√©nom√®ne physiologique, un enjeu environnemental, une disposition r√©glementaire, avec une mesure de pr√©vention</li>
                    <li><strong>C4</strong> - Proposer une solution pour r√©soudre un probl√®me li√© √† la sant√©, l'environnement ou la consommation</li>
                    <li><strong>C5</strong> - Argumenter un choix</li>
                </ul>
            </div>
            
            <div class="niveau-cible">
                <strong>Niveau :</strong> CAP 1√®re et 2√®me ann√©e
            </div>
        </div>

        <!-- EXERCICE PRINCIPAL -->
        <main class="exercice-principal">
            <div class="introduction">
                <h3>üéØ Bienvenue dans votre entra√Ænement guid√© !</h3>
                <p>Cet exercice vous accompagne progressivement dans la d√©couverte des ressources en eau. 35 questions r√©parties en 3 phases : des bases aux applications concr√®tes !</p>
            </div>

            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-number" id="currentQuestion">1</div>
                    <div class="stat-label">Question actuelle</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="correctAnswers">0</div>
                    <div class="stat-label">Bonnes r√©ponses</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="scorePercentage">0%</div>
                    <div class="stat-label">Score</div>
                </div>
            </div>

            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>

            <!-- PHASE 1 : RESSOURCES EN EAU (Items 1-12 FACILE) -->
            <div class="phase-header">üåç Phase 1 : Les ressources en eau sur Terre (Items 1-12)</div>

            <!-- Item 1 : QCU - C2 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-facile">Facile</div>
                <div class="question-header">
                    <div class="question-number">1</div>
                    <div class="question-text">Quelle proportion de l'eau terrestre est constitu√©e d'eau douce ?</div>
                    <div class="competence-badge competence-c2">C2</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(1, this, false)">A) 50% de l'eau terrestre</div>
                    <div class="option" onclick="selectOption(1, this, false)">B) 25% de l'eau terrestre</div>
                    <div class="option" onclick="selectOption(1, this, true)">C) 3% de l'eau terrestre</div>
                    <div class="option" onclick="selectOption(1, this, false)">D) 10% de l'eau terrestre</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(1)" disabled>Valider</button>
            </div>

            <!-- Item 2 : QCU - C2 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-facile">Facile</div>
                <div class="question-header">
                    <div class="question-number">2</div>
                    <div class="question-text">Les eaux de surface comprennent :</div>
                    <div class="competence-badge competence-c2">C2</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(2, this, true)">A) Les rivi√®res, lacs et fleuves</div>
                    <div class="option" onclick="selectOption(2, this, false)">B) Les nappes phr√©atiques</div>
                    <div class="option" onclick="selectOption(2, this, false)">C) L'eau contenue dans le sol</div>
                    <div class="option" onclick="selectOption(2, this, false)">D) L'eau des puits</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(2)" disabled>Valider</button>
            </div>

            <!-- Item 3 : QCU - C2 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-facile">Facile</div>
                <div class="question-header">
                    <div class="question-number">3</div>
                    <div class="question-text">Qu'est-ce qu'une p√©nurie d'eau ?</div>
                    <div class="competence-badge competence-c2">C2</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(3, this, false)">A) Une pollution de l'eau</div>
                    <div class="option" onclick="selectOption(3, this, true)">B) Un manque d'eau disponible par rapport aux besoins</div>
                    <div class="option" onclick="selectOption(3, this, false)">C) Une eau trop ch√®re</div>
                    <div class="option" onclick="selectOption(3, this, false)">D) Une eau de mauvaise qualit√©</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(3)" disabled>Valider</button>
            </div>

            <!-- Item 4 : QCU - C2 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-facile">Facile</div>
                <div class="question-header">
                    <div class="question-number">4</div>
                    <div class="question-text">Les eaux souterraines sont principalement :</div>
                    <div class="competence-badge competence-c2">C2</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(4, this, false)">A) L'eau des oc√©ans</div>
                    <div class="option" onclick="selectOption(4, this, true)">B) L'eau des nappes phr√©atiques</div>
                    <div class="option" onclick="selectOption(4, this, false)">C) L'eau des rivi√®res</div>
                    <div class="option" onclick="selectOption(4, this, false)">D) L'eau des glaciers</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(4)" disabled>Valider</button>
            </div>

            <!-- Item 5 : QCU - C2 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-facile">Facile</div>
                <div class="question-header">
                    <div class="question-number">5</div>
                    <div class="question-text">Quelle r√©gion du monde est la plus touch√©e par la p√©nurie d'eau ?</div>
                    <div class="competence-badge competence-c2">C2</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(5, this, false)">A) L'Europe du Nord</div>
                    <div class="option" onclick="selectOption(5, this, true)">B) L'Afrique subsaharienne</div>
                    <div class="option" onclick="selectOption(5, this, false)">C) L'Am√©rique du Nord</div>
                    <div class="option" onclick="selectOption(5, this, false)">D) L'Asie du Sud-Est</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(5)" disabled>Valider</button>
            </div>

            <!-- Item 6 : QCU - C2 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-facile">Facile</div>
                <div class="question-header">
                    <div class="question-number">6</div>
                    <div class="question-text">En France, nos principales ressources en eau douce proviennent :</div>
                    <div class="competence-badge competence-c2">C2</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(6, this, false)">A) Uniquement des eaux de surface</div>
                    <div class="option" onclick="selectOption(6, this, false)">B) Uniquement des eaux souterraines</div>
                    <div class="option" onclick="selectOption(6, this, true)">C) Des eaux de surface ET des eaux souterraines</div>
                    <div class="option" onclick="selectOption(6, this, false)">D) De la d√©salinisation de l'eau de mer</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(6)" disabled>Valider</button>
            </div>

            <!-- Item 7 : QCU - C2 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-facile">Facile</div>
                <div class="question-header">
                    <div class="question-number">7</div>
                    <div class="question-text">La r√©partition de l'eau douce dans le monde est :</div>
                    <div class="competence-badge competence-c2">C2</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(7, this, false)">A) Parfaitement √©quitable entre tous les pays</div>
                    <div class="option" onclick="selectOption(7, this, true)">B) Tr√®s in√©gale selon les r√©gions</div>
                    <div class="option" onclick="selectOption(7, this, false)">C) Identique sur tous les continents</div>
                    <div class="option" onclick="selectOption(7, this, false)">D) D√©pendante uniquement de la taille des pays</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(7)" disabled>Valider</button>
            </div>

            <!-- Item 8 : QCU - C2 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-facile">Facile</div>
                <div class="question-header">
                    <div class="question-number">8</div>
                    <div class="question-text">Parmi ces facteurs, lequel aggrave la p√©nurie d'eau ?</div>
                    <div class="competence-badge competence-c2">C2</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(8, this, false)">A) La diminution de la population</div>
                    <div class="option" onclick="selectOption(8, this, true)">B) L'augmentation de la population et de la consommation</div>
                    <div class="option" onclick="selectOption(8, this, false)">C) La protection des sources naturelles</div>
                    <div class="option" onclick="selectOption(8, this, false)">D) La r√©duction des besoins industriels</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(8)" disabled>Valider</button>
            </div>

            <!-- Item 9 : QCM - C4 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-facile">Facile</div>
                <div class="question-header">
                    <div class="question-number">9</div>
                    <div class="question-text">Pour pr√©server les ressources en eau douce, quelles solutions peut-on proposer ? (Plusieurs r√©ponses possibles)</div>
                    <div class="competence-badge competence-c4">C4</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectMultipleOption(9, this, true)">A) R√©duire la consommation d'eau</div>
                    <div class="option" onclick="selectMultipleOption(9, this, false)">B) Augmenter les rejets polluants</div>
                    <div class="option" onclick="selectMultipleOption(9, this, true)">C) Prot√©ger les nappes phr√©atiques</div>
                    <div class="option" onclick="selectMultipleOption(9, this, true)">D) Traiter les eaux us√©es</div>
                </div>
                <button class="validation-button" onclick="validateMultipleAnswer(9)" disabled>Valider</button>
            </div>

            <!-- Item 10 : QCM - C4 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-facile">Facile</div>
                <div class="question-header">
                    <div class="question-number">10</div>
                    <div class="question-text">Face √† la p√©nurie d'eau, quelles actions individuelles sont efficaces ? (Plusieurs r√©ponses possibles)</div>
                    <div class="competence-badge competence-c4">C4</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectMultipleOption(10, this, true)">A) Prendre des douches plut√¥t que des bains</div>
                    <div class="option" onclick="selectMultipleOption(10, this, true)">B) R√©parer les fuites rapidement</div>
                    <div class="option" onclick="selectMultipleOption(10, this, false)">C) Laisser couler l'eau en permanence</div>
                    <div class="option" onclick="selectMultipleOption(10, this, true)">D) Utiliser des √©quipements √©conomes en eau</div>
                </div>
                <button class="validation-button" onclick="validateMultipleAnswer(10)" disabled>Valider</button>
            </div>

            <!-- Item 11 : QCU - C1 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-facile">Facile</div>
                <div class="question-header">
                    <div class="question-number">11</div>
                    <div class="question-text">Selon les donn√©es mondiales, combien de personnes n'ont pas acc√®s √† l'eau potable ?</div>
                    <div class="competence-badge competence-c1">C1</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(11, this, false)">A) 500 millions de personnes</div>
                    <div class="option" onclick="selectOption(11, this, true)">B) Plus de 2 milliards de personnes</div>
                    <div class="option" onclick="selectOption(11, this, false)">C) 100 millions de personnes</div>
                    <div class="option" onclick="selectOption(11, this, false)">D) 1 million de personnes</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(11)" disabled>Valider</button>
            </div>

            <!-- Item 12 : Tableau Classification - C1 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-facile">Facile</div>
                <div class="question-header">
                    <div class="question-number">12</div>
                    <div class="question-text">Compl√©tez ce tableau de classification des ressources en eau :</div>
                    <div class="competence-badge competence-c1">C1</div>
                </div>
                <div class="tableau-container">
                    <table class="tableau-exercice">
                        <thead>
                            <tr>
                                <th>Type d'eau</th>
                                <th>Exemples</th>
                                <th>% approximatif sur Terre</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Eau sal√©e</td>
                                <td><input type="text" class="input-tableau" placeholder="Oc√©ans, mers..." data-correct="oc√©ans"></td>
                                <td><input type="text" class="input-tableau" placeholder="97%" data-correct="97"></td>
                            </tr>
                            <tr>
                                <td>Eau douce</td>
                                <td><input type="text" class="input-tableau" placeholder="Rivi√®res..." data-correct="rivi√®res"></td>
                                <td><input type="text" class="input-tableau" placeholder="3%" data-correct="3"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <button class="validation-button" onclick="validateTableau(12)">Valider</button>
            </div>

            <!-- PHASE 2 : CYCLE DOMESTIQUE (Items 13-26 MOYEN) -->
            <div class="phase-header">üîÑ Phase 2 : Le cycle domestique de l'eau (Items 13-26)</div>

            <!-- Item 13 : QCU - C3 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-moyen">Moyen</div>
                <div class="question-header">
                    <div class="question-number">13</div>
                    <div class="question-text">Quelle est la premi√®re √©tape du circuit de l'eau domestique ?</div>
                    <div class="competence-badge competence-c3">C3</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(13, this, false)">A) La distribution aux habitations</div>
                    <div class="option" onclick="selectOption(13, this, true)">B) Le captage de l'eau dans le milieu naturel</div>
                    <div class="option" onclick="selectOption(13, this, false)">C) Le traitement de potabilisation</div>
                    <div class="option" onclick="selectOption(13, this, false)">D) Le stockage en r√©servoir</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(13)" disabled>Valider</button>
            </div>

            <!-- Item 14 : QCU - C3 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-moyen">Moyen</div>
                <div class="question-header">
                    <div class="question-number">14</div>
                    <div class="question-text">La potabilisation de l'eau consiste √† :</div>
                    <div class="competence-badge competence-c3">C3</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(14, this, false)">A) Traiter les eaux us√©es apr√®s utilisation</div>
                    <div class="option" onclick="selectOption(14, this, true)">B) Rendre l'eau propre √† la consommation humaine</div>
                    <div class="option" onclick="selectOption(14, this, false)">C) Stocker l'eau dans des r√©servoirs</div>
                    <div class="option" onclick="selectOption(14, this, false)">D) Distribuer l'eau aux habitations</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(14)" disabled>Valider</button>
            </div>

            <!-- Item 15 : QCU - C3 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-moyen">Moyen</div>
                <div class="question-header">
                    <div class="question-number">15</div>
                    <div class="question-text">L'√©puration des eaux us√©es se fait :</div>
                    <div class="competence-badge competence-c3">C3</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(15, this, false)">A) Avant la potabilisation</div>
                    <div class="option" onclick="selectOption(15, this, true)">B) Apr√®s utilisation de l'eau par les habitants</div>
                    <div class="option" onclick="selectOption(15, this, false)">C) Pendant le stockage en r√©servoir</div>
                    <div class="option" onclick="selectOption(15, this, false)">D) Lors de la distribution</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(15)" disabled>Valider</button>
            </div>

            <!-- Item 16 : QCU - C3 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-moyen">Moyen</div>
                <div class="question-header">
                    <div class="question-number">16</div>
                    <div class="question-text">Une eau potable est une eau :</div>
                    <div class="competence-badge competence-c3">C3</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(16, this, true)">A) Qui peut √™tre consomm√©e sans risque pour la sant√©</div>
                    <div class="option" onclick="selectOption(16, this, false)">B) Qui provient uniquement de sources naturelles</div>
                    <div class="option" onclick="selectOption(16, this, false)">C) Qui n'a subi aucun traitement</div>
                    <div class="option" onclick="selectOption(16, this, false)">D) Qui est gratuite pour tous</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(16)" disabled>Valider</button>
            </div>

            <!-- Item 17 : QCU - C3 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-moyen">Moyen</div>
                <div class="question-header">
                    <div class="question-number">17</div>
                    <div class="question-text">Les eaux us√©es d√©signent :</div>
                    <div class="competence-badge competence-c3">C3</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(17, this, false)">A) L'eau stock√©e dans les r√©servoirs</div>
                    <div class="option" onclick="selectOption(17, this, true)">B) L'eau pollu√©e apr√®s usage domestique, industriel ou agricole</div>
                    <div class="option" onclick="selectOption(17, this, false)">C) L'eau qui circule dans les canalisations</div>
                    <div class="option" onclick="selectOption(17, this, false)">D) L'eau de pluie r√©cup√©r√©e</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(17)" disabled>Valider</button>
            </div>

            <!-- Item 18 : QCU - C3 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-moyen">Moyen</div>
                <div class="question-header">
                    <div class="question-number">18</div>
                    <div class="question-text">Le r√©seau de distribution de l'eau comprend :</div>
                    <div class="competence-badge competence-c3">C3</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(18, this, false)">A) Uniquement les robinets des maisons</div>
                    <div class="option" onclick="selectOption(18, this, true)">B) Les canalisations, compteurs et branchements</div>
                    <div class="option" onclick="selectOption(18, this, false)">C) Seulement les stations d'√©puration</div>
                    <div class="option" onclick="selectOption(18, this, false)">D) Les r√©servoirs de stockage uniquement</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(18)" disabled>Valider</button>
            </div>

            <!-- Item 19 : QCM - C3 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-moyen">Moyen</div>
                <div class="question-header">
                    <div class="question-number">19</div>
                    <div class="question-text">Quels risques sanitaires peut pr√©senter une eau non potable ? (Plusieurs r√©ponses possibles)</div>
                    <div class="competence-badge competence-c3">C3</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectMultipleOption(19, this, true)">A) Infections digestives</div>
                    <div class="option" onclick="selectMultipleOption(19, this, false)">B) Am√©lioration de l'immunit√©</div>
                    <div class="option" onclick="selectMultipleOption(19, this, true)">C) Intoxications chimiques</div>
                    <div class="option" onclick="selectMultipleOption(19, this, true)">D) Maladies parasitaires</div>
                </div>
                <button class="validation-button" onclick="validateMultipleAnswer(19)" disabled>Valider</button>
            </div>

            <!-- Item 20 : QCU - C3 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-moyen">Moyen</div>
                <div class="question-header">
                    <div class="question-number">20</div>
                    <div class="question-text">Apr√®s √©puration, les eaux us√©es trait√©es :</div>
                    <div class="competence-badge competence-c3">C3</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(20, this, false)">A) Deviennent automatiquement potables</div>
                    <div class="option" onclick="selectOption(20, this, true)">B) Retournent dans le milieu naturel</div>
                    <div class="option" onclick="selectOption(20, this, false)">C) Sont stock√©es d√©finitivement</div>
                    <div class="option" onclick="selectOption(20, this, false)">D) Sont redistribu√©es imm√©diatement</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(20)" disabled>Valider</button>
            </div>

            <!-- Item 21 : Tableau √©tapes - C4 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-moyen">Moyen</div>
                <div class="question-header">
                    <div class="question-number">21</div>
                    <div class="question-text">Compl√©tez les √©tapes du circuit de l'eau dans l'ordre chronologique :</div>
                    <div class="competence-badge competence-c4">C4</div>
                </div>
                <div class="tableau-container">
                    <table class="tableau-exercice">
                        <thead>
                            <tr>
                                <th>√âtape</th>
                                <th>Action</th>
                                <th>Lieu</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td><input type="text" class="input-tableau" placeholder="Captage..." data-correct="captage"></td>
                                <td><input type="text" class="input-tableau" placeholder="Rivi√®re..." data-correct="rivi√®re"></td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td><input type="text" class="input-tableau" placeholder="Traitement..." data-correct="potabilisation"></td>
                                <td><input type="text" class="input-tableau" placeholder="Station..." data-correct="station"></td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td><input type="text" class="input-tableau" placeholder="Distribution..." data-correct="distribution"></td>
                                <td><input type="text" class="input-tableau" placeholder="R√©seau..." data-correct="r√©seau"></td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td><input type="text" class="input-tableau" placeholder="√âpuration..." data-correct="√©puration"></td>
                                <td><input type="text" class="input-tableau" placeholder="Station..." data-correct="station"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <button class="validation-button" onclick="validateTableau(21)">Valider</button>
            </div>

            <!-- Item 22 : Appariement - C4 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-moyen">Moyen</div>
                <div class="question-header">
                    <div class="question-number">22</div>
                    <div class="question-text">Associez chaque composante du co√ªt de l'eau √† sa description :</div>
                    <div class="competence-badge competence-c4">C4</div>
                </div>
                <div class="appariement-container">
                    <div class="appariement-gauche">
                        <h4>Composantes</h4>
                        <div class="appariement-item" data-id="A" onclick="selectAppariement(22, this)">Distribution (46%)</div>
                        <div class="appariement-item" data-id="B" onclick="selectAppariement(22, this)">D√©pollution (34%)</div>
                        <div class="appariement-item" data-id="C" onclick="selectAppariement(22, this)">Taxes et redevances (20%)</div>
                    </div>
                    <div class="appariement-droite">
                        <h4>Descriptions</h4>
                        <div class="appariement-item" data-match="A" onclick="matchAppariement(22, this)">Entretien du r√©seau et acheminement</div>
                        <div class="appariement-item" data-match="B" onclick="matchAppariement(22, this)">Traitement des eaux us√©es</div>
                        <div class="appariement-item" data-match="C" onclick="matchAppariement(22, this)">Financement des organismes publics</div>
                    </div>
                </div>
                <button class="validation-button" onclick="validateAppariement(22)" disabled>Valider</button>
            </div>

            <!-- Item 23 : Appariement - C5 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-moyen">Moyen</div>
                <div class="question-header">
                    <div class="question-number">23</div>
                    <div class="question-text">Justifiez pourquoi ces traitements sont n√©cessaires dans le circuit de l'eau :</div>
                    <div class="competence-badge competence-c5">C5</div>
                </div>
                <div class="appariement-container">
                    <div class="appariement-gauche">
                        <h4>Traitements</h4>
                        <div class="appariement-item" data-id="A" onclick="selectAppariement(23, this)">Potabilisation</div>
                        <div class="appariement-item" data-id="B" onclick="selectAppariement(23, this)">√âpuration</div>
                        <div class="appariement-item" data-id="C" onclick="selectAppariement(23, this)">D√©sinfection</div>
                    </div>
                    <div class="appariement-droite">
                        <h4>Justifications</h4>
                        <div class="appariement-item" data-match="A" onclick="matchAppariement(23, this)">√âliminer virus et bact√©ries dangereuses</div>
                        <div class="appariement-item" data-match="B" onclick="matchAppariement(23, this)">Prot√©ger l'environnement des pollutions</div>
                        <div class="appariement-item" data-match="C" onclick="matchAppariement(23, this)">Garantir la s√©curit√© sanitaire</div>
                    </div>
                </div>
                <button class="validation-button" onclick="validateAppariement(23)" disabled>Valider</button>
            </div>

            <!-- Item 24 : Mini-cas facture - C5 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-moyen">Moyen</div>
                <div class="question-header">
                    <div class="question-number">24</div>
                    <div class="question-text">Analysez cette facture d'eau et justifiez la r√©partition des co√ªts :</div>
                    <div class="competence-badge competence-c5">C5</div>
                </div>
                <div class="mini-cas-container">
                    <div class="mini-cas-titre">üìÑ Facture famille Durand - 6 mois</div>
                    <div class="mini-cas-donnees">
                        <strong>Consommation :</strong> 120 m¬≥<br>
                        <strong>Distribution :</strong> 55,20 ‚Ç¨ (46%)<br>
                        <strong>D√©pollution :</strong> 40,80 ‚Ç¨ (34%)<br>
                        <strong>Taxes :</strong> 24,00 ‚Ç¨ (20%)<br>
                        <strong>TOTAL :</strong> 120,00 ‚Ç¨
                    </div>
                    <p><strong>Question :</strong> Pourquoi la distribution repr√©sente-t-elle le co√ªt le plus √©lev√© ?</p>
                    <div class="options-container">
                        <div class="option" onclick="selectOption(24, this, false)">A) Parce que l'eau co√ªte cher √† produire</div>
                        <div class="option" onclick="selectOption(24, this, true)">B) Car l'entretien et le renouvellement du r√©seau n√©cessitent des investissements importants</div>
                        <div class="option" onclick="selectOption(24, this, false)">C) Parce que les taxes sont incluses</div>
                        <div class="option" onclick="selectOption(24, this, false)">D) Car la famille consomme beaucoup d'eau</div>
                    </div>
                </div>
                <button class="validation-button" onclick="validateAnswer(24)" disabled>Valider</button>
            </div>

            <!-- Item 25 : Tableau co√ªt - C4 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-moyen">Moyen</div>
                <div class="question-header">
                    <div class="question-number">25</div>
                    <div class="question-text">Compl√©tez la r√©partition d√©taill√©e du co√ªt de l'eau :</div>
                    <div class="competence-badge competence-c4">C4</div>
                </div>
                <div class="tableau-container">
                    <table class="tableau-exercice">
                        <thead>
                            <tr>
                                <th>Poste</th>
                                <th>Pourcentage</th>
                                <th>R√¥le principal</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Distribution</td>
                                <td><input type="text" class="input-tableau" placeholder="46%" data-correct="46"></td>
                                <td><input type="text" class="input-tableau" placeholder="Transport..." data-correct="transport"></td>
                            </tr>
                            <tr>
                                <td>D√©pollution</td>
                                <td><input type="text" class="input-tableau" placeholder="34%" data-correct="34"></td>
                                <td><input type="text" class="input-tableau" placeholder="Traitement..." data-correct="traitement"></td>
                            </tr>
                            <tr>
                                <td>Taxes et redevances</td>
                                <td><input type="text" class="input-tableau" placeholder="20%" data-correct="20"></td>
                                <td><input type="text" class="input-tableau" placeholder="Financement..." data-correct="financement"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <button class="validation-button" onclick="validateTableau(25)">Valider</button>
            </div>

            <!-- Item 26 : QCU - C1 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-moyen">Moyen</div>
                <div class="question-header">
                    <div class="question-number">26</div>
                    <div class="question-text">En France, le prix moyen de l'eau est d'environ :</div>
                    <div class="competence-badge competence-c1">C1</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(26, this, false)">A) 1 ‚Ç¨ le m¬≥</div>
                    <div class="option" onclick="selectOption(26, this, false)">B) 10 ‚Ç¨ le m¬≥</div>
                    <div class="option" onclick="selectOption(26, this, true)">C) 4 ‚Ç¨ le m¬≥</div>
                    <div class="option" onclick="selectOption(26, this, false)">D) 0,50 ‚Ç¨ le m¬≥</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(26)" disabled>Valider</button>
            </div>

            <!-- PHASE 3 : CONSOMMATION ET PR√âVENTION (Items 27-35 DIFFICILE) -->
            <div class="phase-header">üíß Phase 3 : Consommation et pr√©servation (Items 27-35)</div>

            <!-- Item 27 : QCM - C3 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-difficile">Difficile</div>
                <div class="question-header">
                    <div class="question-number">27</div>
                    <div class="question-text">Quels sont les principaux postes de consommation d'eau dans un m√©nage ? (Plusieurs r√©ponses possibles)</div>
                    <div class="competence-badge competence-c3">C3</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectMultipleOption(27, this, true)">A) Bains et douches (39%)</div>
                    <div class="option" onclick="selectMultipleOption(27, this, true)">B) Sanitaires et WC (20%)</div>
                    <div class="option" onclick="selectMultipleOption(27, this, true)">C) Linge et lave-linge (12%)</div>
                    <div class="option" onclick="selectMultipleOption(27, this, false)">D) Chauffage (50%)</div>
                </div>
                <button class="validation-button" onclick="validateMultipleAnswer(27)" disabled>Valider</button>
            </div>

            <!-- Item 28 : QCU - C3 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-difficile">Difficile</div>
                <div class="question-header">
                    <div class="question-number">28</div>
                    <div class="question-text">L'eau virtuelle d√©signe :</div>
                    <div class="competence-badge competence-c3">C3</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(28, this, false)">A) L'eau potable distribu√©e dans les maisons</div>
                    <div class="option" onclick="selectOption(28, this, true)">B) L'eau n√©cessaire pour produire un bien ou service</div>
                    <div class="option" onclick="selectOption(28, this, false)">C) L'eau de pluie r√©cup√©r√©e</div>
                    <div class="option" onclick="selectOption(28, this, false)">D) L'eau stock√©e dans les r√©servoirs</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(28)" disabled>Valider</button>
            </div>

            <!-- Item 29 : QCU - C3 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-difficile">Difficile</div>
                <div class="question-header">
                    <div class="question-number">29</div>
                    <div class="question-text">L'empreinte eau d'un individu correspond √† :</div>
                    <div class="competence-badge competence-c3">C3</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(29, this, false)">A) Uniquement l'eau qu'il boit</div>
                    <div class="option" onclick="selectOption(29, this, true)">B) L'eau totale consomm√©e directement et indirectement</div>
                    <div class="option" onclick="selectOption(29, this, false)">C) L'eau de sa douche quotidienne</div>
                    <div class="option" onclick="selectOption(29, this, false)">D) L'eau de la piscine municipale</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(29)" disabled>Valider</button>
            </div>

            <!-- Item 30 : QCU - C3 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-difficile">Difficile</div>
                <div class="question-header">
                    <div class="question-number">30</div>
                    <div class="question-text">La diff√©rence entre consommation directe et indirecte d'eau est :</div>
                    <div class="competence-badge competence-c3">C3</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectOption(30, this, false)">A) Il n'y a aucune diff√©rence</div>
                    <div class="option" onclick="selectOption(30, this, true)">B) Directe = usage domestique, Indirecte = production des biens consomm√©s</div>
                    <div class="option" onclick="selectOption(30, this, false)">C) Directe = eau froide, Indirecte = eau chaude</div>
                    <div class="option" onclick="selectOption(30, this, false)">D) Directe = gratuite, Indirecte = payante</div>
                </div>
                <button class="validation-button" onclick="validateAnswer(30)" disabled>Valider</button>
            </div>

            <!-- Item 31 : Mini-cas consommation - C4 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-difficile">Difficile</div>
                <div class="question-header">
                    <div class="question-number">31</div>
                    <div class="question-text">Proposez des solutions pour r√©duire la consommation d'eau de cette famille :</div>
                    <div class="competence-badge competence-c4">C4</div>
                </div>
                <div class="mini-cas-container">
                    <div class="mini-cas-titre">üè† Famille Martin - 4 personnes</div>
                    <div class="mini-cas-donnees">
                        <strong>Consommation actuelle :</strong> 200 m¬≥/an<br>
                        <strong>Habitudes :</strong> Bains quotidiens, lave-linge √† moiti√© plein, fuites robinets, arrosage jardin avec eau potable<br>
                        <strong>Objectif :</strong> R√©duire de 30% la consommation
                    </div>
                    <p><strong>Quelle est la mesure la plus efficace ?</strong></p>
                    <div class="options-container">
                        <div class="option" onclick="selectOption(31, this, false)">A) Diminuer uniquement la fr√©quence des douches</div>
                        <div class="option" onclick="selectOption(31, this, true)">B) Remplacer les bains par des douches et r√©parer les fuites</div>
                        <div class="option" onclick="selectOption(31, this, false)">C) Acheter uniquement des √©quipements √©conomes</div>
                        <div class="option" onclick="selectOption(31, this, false)">D) R√©duire seulement l'arrosage du jardin</div>
                    </div>
                </div>
                <button class="validation-button" onclick="validateAnswer(31)" disabled>Valider</button>
            </div>

            <!-- Item 32 : Mini-cas √©conomies - C4 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-difficile">Difficile</div>
                <div class="question-header">
                    <div class="question-number">32</div>
                    <div class="question-text">Calculez les √©conomies r√©alisables avec ces √©quipements :</div>
                    <div class="competence-badge competence-c4">C4</div>
                </div>
                <div class="mini-cas-container">
                    <div class="mini-cas-titre">üí∞ Analyse √©conomique - Appartement 2 personnes</div>
                    <div class="mini-cas-donnees">
                        <strong>Situation actuelle :</strong> 100 m¬≥/an - 400 ‚Ç¨ TTC<br>
                        <strong>√âquipement √©conome :</strong> Pommeau douche (-30%), Chasse d'eau double commande (-20%)<br>
                        <strong>R√©partition :</strong> Douches 40m¬≥, WC 25m¬≥, Autres 35m¬≥
                    </div>
                    <p><strong>Quelle √©conomie annuelle totale ?</strong></p>
                    <div class="options-container">
                        <div class="option" onclick="selectOption(32, this, false)">A) 50 ‚Ç¨ par an</div>
                        <div class="option" onclick="selectOption(32, this, true)">B) 68 ‚Ç¨ par an</div>
                        <div class="option" onclick="selectOption(32, this, false)">C) 100 ‚Ç¨ par an</div>
                        <div class="option" onclick="selectOption(32, this, false)">D) 25 ‚Ç¨ par an</div>
                    </div>
                </div>
                <button class="validation-button" onclick="validateAnswer(32)" disabled>Valider</button>
            </div>

            <!-- Item 33 : Classement efficacit√© - C4 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-difficile">Difficile</div>
                <div class="question-header">
                    <div class="question-number">33</div>
                    <div class="question-text">Classez ces mesures d'√©conomie d'eau par ordre d'efficacit√© (cliquez pour s√©lectionner 1=plus efficace, 4=moins efficace) :</div>
                    <div class="competence-badge competence-c4">C4</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectClassement(33, this, '2')">A) Installer des r√©cup√©rateurs d'eau de pluie</div>
                    <div class="option" onclick="selectClassement(33, this, '1')">B) R√©parer imm√©diatement toutes les fuites</div>
                    <div class="option" onclick="selectClassement(33, this, '3')">C) Utiliser des plantes r√©sistantes √† la s√©cheresse</div>
                    <div class="option" onclick="selectClassement(33, this, '4')">D) Sensibiliser les enfants √† l'√©conomie d'eau</div>
                </div>
                <button class="validation-button" onclick="validateClassement(33)" disabled>Valider</button>
            </div>

            <!-- Item 34 : Appariement mesures - C5 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-difficile">Difficile</div>
                <div class="question-header">
                    <div class="question-number">34</div>
                    <div class="question-text">Justifiez la distinction entre mesures individuelles et collectives :</div>
                    <div class="competence-badge competence-c5">C5</div>
                </div>
                <div class="appariement-container">
                    <div class="appariement-gauche">
                        <h4>Mesures</h4>
                        <div class="appariement-item" data-id="A" onclick="selectAppariement(34, this)">R√©paration fuite domestique</div>
                        <div class="appariement-item" data-id="B" onclick="selectAppariement(34, this)">Construction station √©puration</div>
                        <div class="appariement-item" data-id="C" onclick="selectAppariement(34, this)">Sensibilisation √©cole</div>
                        <div class="appariement-item" data-id="D" onclick="selectAppariement(34, this)">R√©glementation agriculture</div>
                    </div>
                    <div class="appariement-droite">
                        <h4>Types</h4>
                        <div class="appariement-item" data-match="A" onclick="matchAppariement(34, this)">Individuelle</div>
                        <div class="appariement-item" data-match="B" onclick="matchAppariement(34, this)">Collective</div>
                        <div class="appariement-item" data-match="C" onclick="matchAppariement(34, this)">Collective</div>
                        <div class="appariement-item" data-match="D" onclick="matchAppariement(34, this)">Collective</div>
                    </div>
                </div>
                <button class="validation-button" onclick="validateAppariement(34)" disabled>Valider</button>
            </div>

            <!-- Item 35 : QCM - C5 -->
            <div class="question-container">
                <div class="difficulty-badge difficulty-difficile">Difficile</div>
                <div class="question-header">
                    <div class="question-number">35</div>
                    <div class="question-text">Argumentez pourquoi ces mesures collectives sont prioritaires : (Plusieurs r√©ponses possibles)</div>
                    <div class="competence-badge competence-c5">C5</div>
                </div>
                <div class="options-container">
                    <div class="option" onclick="selectMultipleOption(35, this, true)">A) Elles ont un impact quantitatif plus important</div>
                    <div class="option" onclick="selectMultipleOption(35, this, false)">B) Elles sont toujours moins co√ªteuses</div>
                    <div class="option" onclick="selectMultipleOption(35, this, true)">C) Elles agissent sur les causes structurelles</div>
                    <div class="option" onclick="selectMultipleOption(35, this, true)">D) Elles prot√®gent la ressource pour tous</div>
                </div>
                <button class="validation-button" onclick="validateMultipleAnswer(35)" disabled>Valider</button>
            </div>

            <!-- SECTION V√âRIFICATION COUVERTURE -->
            <div class="verification-section">
                <div class="verification-titre">üìã V√âRIFICATION DE COUVERTURE - MODULE B1</div>
                <p style="text-align: center; margin-bottom: 20px;"><em>Toutes les notions officielles du module ont √©t√© travaill√©es dans les 35 items :</em></p>
                
                <div class="notion-item">
                    <div class="notion-nom">Eau douce disponible pour la consommation</div>
                    <div class="notion-items">Items 1, 11</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">Ressources en eau au niveau plan√©taire et local</div>
                    <div class="notion-items">Items 2, 5, 6, 7</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">D√©finition de p√©nurie d'eau</div>
                    <div class="notion-items">Items 3, 8</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">Pays ou r√©gions en situation de p√©nurie</div>
                    <div class="notion-items">Items 5, 11</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">Eau douce/eau sal√©e (proportions)</div>
                    <div class="notion-items">Items 1, 12</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">Eaux de surface/eaux souterraines</div>
                    <div class="notion-items">Items 2, 4, 12</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">R√©partition quantitative</div>
                    <div class="notion-items">Items 7, 12</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">D√©finition de l'eau potable et de l'eau us√©e</div>
                    <div class="notion-items">Items 16, 17</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">Principales √©tapes du circuit de l'eau domestique</div>
                    <div class="notion-items">Items 13, 21</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">Distinction entre potabilisation et √©puration</div>
                    <div class="notion-items">Items 14, 15, 23</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">Composantes du co√ªt de l'eau</div>
                    <div class="notion-items">Items 22, 24, 25, 26</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">Principaux postes de consommation directe en eau d'un m√©nage</div>
                    <div class="notion-items">Items 27, 31, 32</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">Distinction entre consommation directe et indirecte en eau</div>
                    <div class="notion-items">Items 29, 30</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">Eau virtuelle vs empreinte eau</div>
                    <div class="notion-items">Items 28, 29</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">Mesures individuelles de pr√©servation</div>
                    <div class="notion-items">Items 9, 10, 31, 32, 34</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">Mesures collectives de pr√©servation</div>
                    <div class="notion-items">Items 9, 34, 35</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">Distinction entre mesures individuelles et collectives</div>
                    <div class="notion-items">Items 34, 35</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">R√©seau de distribution</div>
                    <div class="notion-items">Items 18, 21, 22</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">Risques sanitaires (eau non potable)</div>
                    <div class="notion-items">Items 19, 23</div>
                </div>
                
                <div class="notion-item">
                    <div class="notion-nom">Efficacit√© des mesures d'√©conomie</div>
                    <div class="notion-items">Items 31, 32, 33</div>
                </div>

                <p style="text-align: center; margin-top: 25px; font-weight: bold; color: var(--success-pse);">
                    ‚úÖ Couverture compl√®te : 20/20 notions officielles travaill√©es
                </p>
            </div>
        </main>

        <!-- RGPD FOOTER -->
        <div class="rgpd-notice">
            üîí Conformit√© RGPD : Cet exercice respecte votre anonymat.
        </div>
    </div>

    <!-- FEEDBACK OVERLAY -->
    <div class="feedback-overlay" id="feedbackOverlay">
        <div class="feedback-card">
            <div class="feedback-icon" id="feedbackIcon"></div>
            <div class="feedback-title" id="feedbackTitle"></div>
            <div class="feedback-explanation" id="feedbackExplanation"></div>
            <div class="remediation-content" id="remediationContent"></div>
            <button class="continue-button" onclick="closeFeedback()">Continuer</button>
        </div>
    </div>

    <script>
        // Variables globales
        let currentQuestionIndex = 1;
        let totalCorrectAnswers = 0;
        let selectedAnswers = {};
        let attemptCounts = {};
        let appariementSelections = {};
        let classementAnswers = {};

        // Base de donn√©es des questions avec rem√©diation 3 paliers
        const questionsData = {
            1: {
                type: 'qcu',
                competence: 'C2',
                correct: 'C',
                explanation: 'L\'eau douce ne repr√©sente que 3% de l\'eau terrestre totale. Les 97% restants sont de l\'eau sal√©e (oc√©ans, mers).',
                remediation: {
                    attempt1: 'INDICE : Pensez que les oc√©ans recouvrent la majeure partie de la plan√®te.',
                    attempt2: 'RAPPEL : L\'eau sal√©e des oc√©ans repr√©sente la tr√®s grande majorit√© de l\'eau sur Terre.',
                    attempt3: 'CONSOLIDATION : Retenez ce chiffre cl√© : seulement 3% d\'eau douce vs 97% d\'eau sal√©e.'
                }
            },
            2: {
                type: 'qcu',
                competence: 'C2',
                correct: 'A',
                explanation: 'Les eaux de surface sont toutes les eaux visibles : rivi√®res, fleuves, lacs, √©tangs. Elles s\'opposent aux eaux souterraines.',
                remediation: {
                    attempt1: 'INDICE : "Surface" = ce qu\'on peut voir √† l\'ext√©rieur.',
                    attempt2: 'RAPPEL : Les nappes phr√©atiques sont des eaux souterraines, pas de surface.',
                    attempt3: 'CONSOLIDATION : Eaux de surface = rivi√®res, lacs, fleuves (visibles). Eaux souterraines = nappes, puits (cach√©es).'
                }
            },
            3: {
                type: 'qcu',
                competence: 'C2',
                correct: 'B',
                explanation: 'Une p√©nurie d\'eau survient quand la quantit√© d\'eau disponible est insuffisante par rapport aux besoins de la population.',
                remediation: {
                    attempt1: 'INDICE : "P√©nurie" = manque de quelque chose.',
                    attempt2: 'RAPPEL : Ce n\'est pas une question de qualit√© mais de quantit√© disponible.',
                    attempt3: 'CONSOLIDATION : P√©nurie = besoins > ressources disponibles.'
                }
            },
            4: {
                type: 'qcu',
                competence: 'C2',
                correct: 'B',
                explanation: 'Les eaux souterraines sont principalement constitu√©es des nappes phr√©atiques, qui se trouvent dans le sous-sol.',
                remediation: {
                    attempt1: 'INDICE : "Souterraines" = sous le sol.',
                    attempt2: 'RAPPEL : Les nappes phr√©atiques sont des r√©servoirs d\'eau dans le sous-sol.',
                    attempt3: 'CONSOLIDATION : Eaux souterraines = nappes phr√©atiques (sous terre) vs eaux de surface (visible).'
                }
            },
            5: {
                type: 'qcu',
                competence: 'C2',
                correct: 'B',
                explanation: 'L\'Afrique subsaharienne est la r√©gion la plus touch√©e par la p√©nurie d\'eau, avec des zones arides et semi-arides √©tendues.',
                remediation: {
                    attempt1: 'INDICE : Pensez aux r√©gions chaudes et s√®ches de l\'Afrique.',
                    attempt2: 'RAPPEL : L\'Afrique subsaharienne comprend le Sahel, r√©gion tr√®s s√®che.',
                    attempt3: 'CONSOLIDATION : Afrique subsaharienne = p√©nurie critique due au climat et √† la d√©mographie.'
                }
            }
        };

        // Fonctions de s√©lection
        function selectOption(questionNumber, element, isCorrect) {
            const container = element.parentNode;
            const options = container.querySelectorAll('.option');
            
            options.forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
            
            selectedAnswers[questionNumber] = {
                element: element,
                isCorrect: isCorrect,
                value: element.textContent.charAt(0)
            };
            
            const button = container.parentNode.querySelector('.validation-button');
            button.disabled = false;
        }

        function selectMultipleOption(questionNumber, element, isCorrect) {
            if (!selectedAnswers[questionNumber]) {
                selectedAnswers[questionNumber] = {
                    selections: [],
                    element: element.parentNode
                };
            }
            
            element.classList.toggle('selected');
            const value = element.textContent.charAt(0);
            
            const index = selectedAnswers[questionNumber].selections.findIndex(s => s.value === value);
            if (index > -1) {
                selectedAnswers[questionNumber].selections.splice(index, 1);
            } else {
                selectedAnswers[questionNumber].selections.push({
                    element: element,
                    isCorrect: isCorrect,
                    value: value
                });
            }
            
            const button = element.parentNode.parentNode.querySelector('.validation-button');
            button.disabled = selectedAnswers[questionNumber].selections.length === 0;
        }

        function selectAppariement(questionNumber, element) {
            if (!appariementSelections[questionNumber]) {
                appariementSelections[questionNumber] = {};
            }
            
            const container = element.closest('.question-container');
            const leftItems = container.querySelectorAll('.appariement-gauche .appariement-item');
            
            leftItems.forEach(item => item.classList.remove('selected'));
            element.classList.add('selected');
            
            appariementSelections[questionNumber].selected = element;
            
            updateAppariementButton(questionNumber);
        }

        function matchAppariement(questionNumber, element) {
            if (!appariementSelections[questionNumber] || !appariementSelections[questionNumber].selected) {
                return;
            }
            
            const selectedLeft = appariementSelections[questionNumber].selected;
            const leftId = selectedLeft.dataset.id;
            const rightMatch = element.dataset.match;
            
            if (!appariementSelections[questionNumber].pairs) {
                appariementSelections[questionNumber].pairs = {};
            }
            
            appariementSelections[questionNumber].pairs[leftId] = {
                left: selectedLeft,
                right: element,
                correct: leftId === rightMatch
            };
            
            selectedLeft.classList.remove('selected');
            selectedLeft.classList.add('matched');
            element.classList.add('matched');
            
            appariementSelections[questionNumber].selected = null;
            
            updateAppariementButton(questionNumber);
        }

        function updateAppariementButton(questionNumber) {
            const questionElements = document.querySelectorAll('.question-container');
            let targetElement = null;
            
            questionElements.forEach(container => {
                const questionNumElement = container.querySelector('.question-number');
                if (questionNumElement && questionNumElement.textContent.trim() === questionNumber.toString()) {
                    targetElement = container;
                }
            });
            
            if (!targetElement) return;
            
            const button = targetElement.querySelector('.validation-button');
            const leftItems = targetElement.querySelectorAll('.appariement-gauche .appariement-item');
            const pairs = appariementSelections[questionNumber]?.pairs || {};
            
            button.disabled = Object.keys(pairs).length !== leftItems.length;
        }

        function selectClassement(questionNumber, element, expectedRank) {
            if (!classementAnswers[questionNumber]) {
                classementAnswers[questionNumber] = {};
            }
            
            // Enlever les anciens rangs de cet √©l√©ment
            let currentText = element.textContent;
            if (currentText.includes('[') && currentText.includes(']')) {
                currentText = currentText.replace(/\[\d+\] /, '');
                element.textContent = currentText;
            }
            
            // Demander le rang √† l'utilisateur
            const userRank = prompt('Entrez le rang de 1 (plus efficace) √† 4 (moins efficace) :');
            if (userRank && userRank >= 1 && userRank <= 4) {
                element.textContent = `[${userRank}] ` + currentText;
                classementAnswers[questionNumber][element.textContent.charAt(element.textContent.indexOf(']') + 2)] = {
                    userRank: userRank,
                    expectedRank: expectedRank,
                    element: element
                };
                
                const container = element.closest('.question-container');
                const button = container.querySelector('.validation-button');
                const options = container.querySelectorAll('.option');
                
                button.disabled = Object.keys(classementAnswers[questionNumber]).length !== options.length;
            }
        }

        // Fonctions de validation
        function validateAnswer(questionNumber) {
            if (!attemptCounts[questionNumber]) {
                attemptCounts[questionNumber] = 0;
            }
            attemptCounts[questionNumber]++;
            
            const correctAnswersData = {
                1: 'C', 2: 'A', 3: 'B', 4: 'B', 5: 'B', 6: 'C', 7: 'B', 8: 'B',
                11: 'B', 13: 'B', 14: 'B', 15: 'B', 16: 'A', 17: 'B', 18: 'B',
                20: 'B', 24: 'B', 26: 'C', 28: 'B', 29: 'B', 30: 'B', 31: 'B', 32: 'B'
            };
            
            const userAnswer = selectedAnswers[questionNumber];
            const isCorrect = userAnswer.value === correctAnswersData[questionNumber];
            
            if (isCorrect) {
                showFeedback(questionNumber, true, getExplanation(questionNumber), null);
                markCorrectAnswer(questionNumber, userAnswer.element);
                if (attemptCounts[questionNumber] === 1) {
                    totalCorrectAnswers++;
                }
                updateStats();
            } else {
                const remediation = getRemediation(questionNumber);
                showFeedback(questionNumber, false, getExplanation(questionNumber), remediation);
                markIncorrectAnswer(questionNumber, userAnswer.element);
            }
        }

        function validateMultipleAnswer(questionNumber) {
            if (!attemptCounts[questionNumber]) {
                attemptCounts[questionNumber] = 0;
            }
            attemptCounts[questionNumber]++;
            
            const correctData = {
                9: ['A', 'C', 'D'],
                10: ['A', 'B', 'D'], 
                19: ['A', 'C', 'D'],
                27: ['A', 'B', 'C'],
                35: ['A', 'C', 'D']
            };
            
            const userSelections = selectedAnswers[questionNumber].selections;
            const correctAnswers = correctData[questionNumber];
            
            const userValues = userSelections.map(s => s.value).sort();
            const correctValues = correctAnswers.sort();
            
            const isCorrect = JSON.stringify(userValues) === JSON.stringify(correctValues);
            
            const container = selectedAnswers[questionNumber].element;
            const allOptions = container.querySelectorAll('.option');
            
            allOptions.forEach(option => {
                const value = option.textContent.charAt(0);
                if (correctAnswers.includes(value)) {
                    option.classList.add('correct');
                } else if (userValues.includes(value)) {
                    option.classList.add('incorrect');
                }
            });
            
            if (isCorrect && attemptCounts[questionNumber] === 1) {
                totalCorrectAnswers++;
            }
            
            const remediation = isCorrect ? null : getRemediation(questionNumber);
            showFeedback(questionNumber, isCorrect, getExplanation(questionNumber), remediation);
            
            updateStats();
        }

        function validateTableau(questionNumber) {
            if (!attemptCounts[questionNumber]) {
                attemptCounts[questionNumber] = 0;
            }
            attemptCounts[questionNumber]++;
            
            const questionElements = document.querySelectorAll('.question-container');
            let targetElement = null;
            
            questionElements.forEach(container => {
                const questionNumElement = container.querySelector('.question-number');
                if (questionNumElement && questionNumElement.textContent.trim() === questionNumber.toString()) {
                    targetElement = container;
                }
            });
            
            if (!targetElement) return;
            
            const inputs = targetElement.querySelectorAll('.input-tableau');
            
            let allCorrect = true;
            inputs.forEach((input, index) => {
                const userAnswer = input.value.toLowerCase().trim();
                const correctAnswer = input.dataset.correct.toLowerCase().trim();
                
                const isCorrect = userAnswer.includes(correctAnswer) || correctAnswer.includes(userAnswer);
                
                if (isCorrect) {
                    input.style.borderColor = '#219653';
                    input.style.backgroundColor = '#d4edda';
                } else {
                    input.style.borderColor = '#EB5757';
                    input.style.backgroundColor = '#f8d7da';
                    allCorrect = false;
                }
            });
            
            if (allCorrect && attemptCounts[questionNumber] === 1) {
                totalCorrectAnswers++;
            }
            
            const remediation = allCorrect ? null : getRemediation(questionNumber);
            showFeedback(questionNumber, allCorrect, getExplanation(questionNumber), remediation);
            
            updateStats();
        }

        function validateAppariement(questionNumber) {
            if (!attemptCounts[questionNumber]) {
                attemptCounts[questionNumber] = 0;
            }
            attemptCounts[questionNumber]++;
            
            const pairs = appariementSelections[questionNumber].pairs;
            
            let allCorrect = true;
            Object.keys(pairs).forEach(leftId => {
                const pair = pairs[leftId];
                if (pair.correct) {
                    pair.left.style.borderColor = '#219653';
                    pair.right.style.borderColor = '#219653';
                } else {
                    pair.left.style.borderColor = '#EB5757';
                    pair.right.style.borderColor = '#EB5757';
                    allCorrect = false;
                }
            });
            
            if (allCorrect && attemptCounts[questionNumber] === 1) {
                totalCorrectAnswers++;
            }
            
            const remediation = allCorrect ? null : getRemediation(questionNumber);
            showFeedback(questionNumber, allCorrect, getExplanation(questionNumber), remediation);
            
            updateStats();
        }

        function validateClassement(questionNumber) {
            if (!attemptCounts[questionNumber]) {
                attemptCounts[questionNumber] = 0;
            }
            attemptCounts[questionNumber]++;
            
            const answers = classementAnswers[questionNumber];
            
            let allCorrect = true;
            Object.keys(answers).forEach(optionKey => {
                const answer = answers[optionKey];
                if (answer.userRank === answer.expectedRank) {
                    answer.element.style.borderColor = '#219653';
                    answer.element.style.backgroundColor = '#d4edda';
                } else {
                    answer.element.style.borderColor = '#EB5757';
                    answer.element.style.backgroundColor = '#f8d7da';
                    allCorrect = false;
                }
            });
            
            if (allCorrect && attemptCounts[questionNumber] === 1) {
                totalCorrectAnswers++;
            }
            
            const remediation = allCorrect ? null : getRemediation(questionNumber);
            showFeedback(questionNumber, allCorrect, getExplanation(questionNumber), remediation);
            
            updateStats();
        }

        function getExplanation(questionNumber) {
            const explanations = {
                1: 'L\'eau douce ne repr√©sente que 3% de l\'eau terrestre totale. Les 97% restants sont de l\'eau sal√©e (oc√©ans, mers).',
                2: 'Les eaux de surface sont toutes les eaux visibles : rivi√®res, fleuves, lacs, √©tangs. Elles s\'opposent aux eaux souterraines.',
                3: 'Une p√©nurie d\'eau survient quand la quantit√© d\'eau disponible est insuffisante par rapport aux besoins de la population.',
                4: 'Les eaux souterraines sont principalement constitu√©es des nappes phr√©atiques, qui se trouvent dans le sous-sol.',
                5: 'L\'Afrique subsaharienne est la r√©gion la plus touch√©e par la p√©nurie d\'eau, avec des zones arides et semi-arides √©tendues.',
                6: 'La France utilise √† la fois les eaux de surface (rivi√®res, lacs) et les eaux souterraines (nappes) pour son approvisionnement.',
                7: 'La r√©partition de l\'eau douce est tr√®s in√©gale : certaines r√©gions sont tr√®s humides, d\'autres tr√®s arides.',
                8: 'L\'augmentation de la population et de la consommation individuelle accro√Æt la pression sur les ressources en eau.',
                9: 'Pour pr√©server l\'eau : r√©duire la consommation, prot√©ger les sources et traiter les eaux pollu√©es.',
                10: 'Actions individuelles efficaces : douches vs bains, r√©paration rapide des fuites, √©quipements √©conomes.',
                11: 'Selon l\'ONU, plus de 2 milliards de personnes n\'ont pas acc√®s √† l\'eau potable chez elles.',
                12: 'Classification fondamentale : 97% eau sal√©e (oc√©ans, mers) vs 3% eau douce (rivi√®res, lacs, nappes).'
            };
            return explanations[questionNumber] || 'Explication non disponible.';
        }

        function getRemediation(questionNumber) {
            const attempt = attemptCounts[questionNumber];
            
            const remediations = {
                1: {
                    attempt1: 'INDICE : Pensez que les oc√©ans recouvrent la majeure partie de la plan√®te.',
                    attempt2: 'RAPPEL : L\'eau sal√©e des oc√©ans repr√©sente la tr√®s grande majorit√© de l\'eau sur Terre.',
                    attempt3: 'CONSOLIDATION : Retenez ce chiffre cl√© : seulement 3% d\'eau douce vs 97% d\'eau sal√©e.'
                }
            };
            
            const remediation = remediations[questionNumber];
            if (!remediation) return 'Rem√©diation non disponible.';
            
            if (attempt === 1) return remediation.attempt1;
            else if (attempt === 2) return remediation.attempt2;
            else return remediation.attempt3;
        }

        function showFeedback(questionNumber, isCorrect, explanation, remediation) {
            const overlay = document.getElementById('feedbackOverlay');
            const icon = document.getElementById('feedbackIcon');
            const title = document.getElementById('feedbackTitle');
            const explanationDiv = document.getElementById('feedbackExplanation');
            const remediationDiv = document.getElementById('remediationContent');
            
            if (isCorrect) {
                icon.textContent = '‚úÖ';
                title.textContent = 'Excellente r√©ponse !';
                title.style.color = '#219653';
            } else {
                icon.textContent = '‚ùå';
                title.textContent = 'Pas tout √† fait...';
                title.style.color = '#EB5757';
            }
            
            explanationDiv.innerHTML = `<strong>üí° EXPLICATION :</strong><br>${explanation}`;
            
            if (remediation) {
                remediationDiv.innerHTML = `<strong>üéØ REM√âDIATION :</strong><br>${remediation}`;
                remediationDiv.style.display = 'block';
            } else {
                remediationDiv.style.display = 'none';
            }
            
            overlay.style.display = 'flex';
        }

        function closeFeedback() {
            document.getElementById('feedbackOverlay').style.display = 'none';
        }

        function markCorrectAnswer(questionNumber, element) {
            element.classList.add('correct');
            const button = element.parentNode.parentNode.querySelector('.validation-button');
            button.disabled = true;
            button.textContent = '‚úì Valid√©';
            button.style.backgroundColor = '#219653';
        }

        function markIncorrectAnswer(questionNumber, element) {
            element.classList.add('incorrect');
        }

        function updateStats() {
            document.getElementById('currentQuestion').textContent = Math.min(currentQuestionIndex + 1, 35);
            document.getElementById('correctAnswers').textContent = totalCorrectAnswers;
            document.getElementById('scorePercentage').textContent = Math.round((totalCorrectAnswers / 35) * 100) + '%';
            
            const progress = (currentQuestionIndex / 35) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            currentQuestionIndex = Math.min(currentQuestionIndex + 1, 35);
        }

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
            currentQuestionIndex = 1; // Reset pour commencer √† 1
        });
    </script>
</body>
</html>